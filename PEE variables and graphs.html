<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photoelectric Effect: Variables and Consequences</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        
        .student-info {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .student-info label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .student-info input {
            padding: 8px 12px;
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            font-size: 15px;
            width: 200px;
        }
        
        .instructions {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }
        
        .timer-info {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 4px solid #ffc107;
            font-size: 0.95em;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th {
            background-color: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 1.05em;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
            vertical-align: top;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .variable-cell {
            font-weight: 600;
            color: #2c3e50;
            background-color: #ecf0f1;
        }
        
        input[type="text"], textarea {
            width: 100%;
            padding: 8px;
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }
        
        textarea {
            resize: vertical;
            min-height: 50px;
        }
        
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            background-color: #f8f9fa;
        }
        
        .answer {
            display: none;
            color: #27ae60;
            font-weight: 500;
            padding: 8px;
            background-color: #e8f8f5;
            border-radius: 4px;
            margin-top: 5px;
            line-height: 1.6;
        }
        
        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        button:hover:not(:disabled) {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .clear-button {
            background-color: #e74c3c;
        }
        
        .clear-button:hover:not(:disabled) {
            background-color: #c0392b;
        }
        
        .graph-notation {
            font-style: italic;
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .graph-label {
            font-weight: 600;
            color: #34495e;
            font-size: 0.9em;
        }
        
        .header-row {
            background-color: #2c3e50;
        }
        
        .countdown {
            font-weight: bold;
            color: #e74c3c;
        }
        
        @media print {
            .button-container {
                display: none;
            }
            .answer {
                display: block !important;
            }
            input[type="text"], textarea {
                border: none;
                background-color: transparent;
            }
            .student-info {
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <h1>Photoelectric Effect: Variables and Consequences</h1>
    <p class="subtitle">Understanding how changing variables affects the photoelectric experiment</p>
    
    <div class="student-info">
        <div>
            <label for="student-name">Name: </label>
            <input type="text" id="student-name" placeholder="Enter your name">
        </div>
        <div>
            <label for="student-class">Class: </label>
            <input type="text" id="student-class" placeholder="Enter your class">
        </div>
    </div>
    
    <div class="instructions">
        <strong>Instructions:</strong> Complete the table by filling in the consequences of changing each independent variable. Consider the effects on both the photocurrent-electrode potential (I-V) graph and the kinetic energy-frequency (KE-f) graph where applicable.
        <div class="timer-info" id="timer-info">
            Solutions will be available after 5 minutes of work time.
        </div>
    </div>
    
    <table>
        <thead>
            <tr class="header-row">
                <th style="width: 20%;">Independent Variable (IV)</th>
                <th style="width: 15%;">Change Applied</th>
                <th style="width: 30%;">Effect on Dependent Variables</th>
                <th style="width: 35%;">Graph Consequences<br><span style="font-weight: normal; font-size: 0.9em;">(I-V Graph | KE-f Graph)</span></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="variable-cell" rowspan="2">Light Intensity</td>
                <td>Increase</td>
                <td>
                    <textarea placeholder="What happens to photocurrent and kinetic energy?" id="intensity-increase-dv"></textarea>
                    <div class="answer" id="ans-intensity-increase-dv">
                        • Maximum photocurrent increases (more photoelectrons emitted per second)<br>
                        • Maximum kinetic energy remains unchanged<br>
                        • Stopping voltage remains unchanged
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="How does the I-V graph change?" id="intensity-increase-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="How does the KE-f graph change?" id="intensity-increase-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-intensity-increase-graph">
                        <strong>I-V Graph:</strong> Curve shifts upward (higher maximum photocurrent), but stopping voltage (horizontal intercept) remains the same<br>
                        <strong>KE-f Graph:</strong> No change
                    </div>
                </td>
            </tr>
            <tr>
                <td>Decrease</td>
                <td>
                    <textarea placeholder="What happens to photocurrent and kinetic energy?" id="intensity-decrease-dv"></textarea>
                    <div class="answer" id="ans-intensity-decrease-dv">
                        • Maximum photocurrent decreases (fewer photoelectrons emitted per second)<br>
                        • Maximum kinetic energy remains unchanged<br>
                        • Stopping voltage remains unchanged
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="How does the I-V graph change?" id="intensity-decrease-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="How does the KE-f graph change?" id="intensity-decrease-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-intensity-decrease-graph">
                        <strong>I-V Graph:</strong> Curve shifts downward (lower maximum photocurrent), but stopping voltage (horizontal intercept) remains the same<br>
                        <strong>KE-f Graph:</strong> No change
                    </div>
                </td>
            </tr>
            <tr>
                <td class="variable-cell" rowspan="2">Light Frequency<br><span class="graph-notation">(above threshold)</span></td>
                <td>Increase</td>
                <td>
                    <textarea placeholder="What happens to photocurrent and kinetic energy?" id="frequency-increase-dv"></textarea>
                    <div class="answer" id="ans-frequency-increase-dv">
                        • Maximum photocurrent remains unchanged<br>
                        • Maximum kinetic energy increases (KE<sub>max</sub> = hf - φ)<br>
                        • Stopping voltage increases
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="How does the I-V graph change?" id="frequency-increase-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="How does the KE-f graph change?" id="frequency-increase-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-frequency-increase-graph">
                        <strong>I-V Graph:</strong> Stopping voltage moves further left (more negative), maximum photocurrent unchanged<br>
                        <strong>KE-f Graph:</strong> Point moves up the line (higher KE for higher frequency)
                    </div>
                </td>
            </tr>
            <tr>
                <td>Decrease<br><span class="graph-notation">(still above f₀)</span></td>
                <td>
                    <textarea placeholder="What happens to photocurrent and kinetic energy?" id="frequency-decrease-dv"></textarea>
                    <div class="answer" id="ans-frequency-decrease-dv">
                        • Maximum photocurrent remains unchanged<br>
                        • Maximum kinetic energy decreases<br>
                        • Stopping voltage decreases
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="How does the I-V graph change?" id="frequency-decrease-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="How does the KE-f graph change?" id="frequency-decrease-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-frequency-decrease-graph">
                        <strong>I-V Graph:</strong> Stopping voltage moves closer to zero (less negative), maximum photocurrent unchanged<br>
                        <strong>KE-f Graph:</strong> Point moves down the line (lower KE for lower frequency)
                    </div>
                </td>
            </tr>
            <tr>
                <td class="variable-cell">Metal Type<br><span class="graph-notation">(work function)</span></td>
                <td>Higher φ metal</td>
                <td>
                    <textarea placeholder="What happens when using a metal with higher work function?" id="workfunction-increase-dv"></textarea>
                    <div class="answer" id="ans-workfunction-increase-dv">
                        • Maximum photocurrent may change (depends on quantum efficiency)<br>
                        • Maximum kinetic energy decreases (for same frequency light)<br>
                        • Stopping voltage decreases<br>
                        • Threshold frequency increases (f₀ = φ/h)
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="How does the I-V graph change?" id="workfunction-increase-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="How does the KE-f graph change?" id="workfunction-increase-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-workfunction-increase-graph">
                        <strong>I-V Graph:</strong> Stopping voltage moves closer to zero (less negative)<br>
                        <strong>KE-f Graph:</strong> Parallel line shifts down (more negative y-intercept) and right (higher threshold frequency)
                    </div>
                </td>
            </tr>
            <tr>
                <td class="variable-cell">Collector Voltage</td>
                <td>More positive</td>
                <td>
                    <textarea placeholder="What happens to photocurrent?" id="voltage-positive-dv"></textarea>
                    <div class="answer" id="ans-voltage-positive-dv">
                        • Photocurrent increases until reaching maximum (saturation)<br>
                        • All emitted photoelectrons are collected<br>
                        • No effect on kinetic energy of photoelectrons
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="Where are we on the I-V graph?" id="voltage-positive-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="Any effect on KE-f graph?" id="voltage-positive-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-voltage-positive-graph">
                        <strong>I-V Graph:</strong> Moving right along the curve toward or at the plateau (maximum photocurrent region)<br>
                        <strong>KE-f Graph:</strong> No effect (collector voltage is not plotted on KE-f graph)
                    </div>
                </td>
            </tr>
            <tr>
                <td class="variable-cell" rowspan="2">Special Cases</td>
                <td>f < f₀<br><span class="graph-notation">(below threshold)</span></td>
                <td>
                    <textarea placeholder="What happens below threshold frequency?" id="below-threshold-dv"></textarea>
                    <div class="answer" id="ans-below-threshold-dv">
                        • No photocurrent (zero)<br>
                        • No photoelectrons emitted<br>
                        • No matter the intensity or time duration
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="What does the I-V graph show?" id="below-threshold-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="Where are we on the KE-f graph?" id="below-threshold-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-below-threshold-graph">
                        <strong>I-V Graph:</strong> Flat line at I = 0 for all voltages<br>
                        <strong>KE-f Graph:</strong> Below the x-axis intercept (theoretical negative KE region - not physically meaningful)
                    </div>
                </td>
            </tr>
            <tr>
                <td>f = f₀<br><span class="graph-notation">(at threshold)</span></td>
                <td>
                    <textarea placeholder="What happens at threshold frequency?" id="at-threshold-dv"></textarea>
                    <div class="answer" id="ans-at-threshold-dv">
                        • Photoelectrons just barely emitted<br>
                        • Maximum kinetic energy = 0<br>
                        • Stopping voltage = 0
                    </div>
                </td>
                <td>
                    <div style="margin-bottom: 10px;">
                        <label class="graph-label">I-V Graph:</label>
                        <textarea placeholder="What does the I-V graph show?" id="at-threshold-iv" style="margin-top: 5px;"></textarea>
                    </div>
                    <div>
                        <label class="graph-label">KE-f Graph:</label>
                        <textarea placeholder="Where are we on the KE-f graph?" id="at-threshold-kef" style="margin-top: 5px;"></textarea>
                    </div>
                    <div class="answer" id="ans-at-threshold-graph">
                        <strong>I-V Graph:</strong> Photocurrent exists but stopping voltage is at V = 0<br>
                        <strong>KE-f Graph:</strong> Point is at the x-axis intercept (KE = 0)
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    
    <div class="button-container">
        <button id="solutions-btn" onclick="toggleSolutions()" disabled>Show Solutions (<span id="countdown">5:00</span>)</button>
        <button class="clear-button" onclick="clearWorksheet()">Clear Worksheet</button>
    </div>
    
    <script>
        let solutionsVisible = false;
        let countdownInterval;
        let timeRemaining = 300; // 5 minutes in seconds
        
        // Initialize on page load
        window.addEventListener('DOMContentLoaded', function() {
            loadFromStorage();
            startOrContinueTimer();
            
            // Add event listeners for all inputs to save to storage
            const inputs = document.querySelectorAll('input[type="text"], textarea');
            inputs.forEach(input => {
                input.addEventListener('input', saveToStorage);
            });
        });
        
        function saveToStorage() {
            const data = {
                studentName: document.getElementById('student-name').value,
                studentClass: document.getElementById('student-class').value,
                answers: {}
            };
            
            // Save all worksheet answers
            const inputs = document.querySelectorAll('textarea');
            inputs.forEach(input => {
                if (input.id && input.id !== 'student-name' && input.id !== 'student-class') {
                    data.answers[input.id] = input.value;
                }
            });
            
            localStorage.setItem('photoelectricWorksheet', JSON.stringify(data));
        }
        
        function loadFromStorage() {
            const savedData = localStorage.getItem('photoelectricWorksheet');
            if (savedData) {
                const data = JSON.parse(savedData);
                
                // Load student info
                if (data.studentName) document.getElementById('student-name').value = data.studentName;
                if (data.studentClass) document.getElementById('student-class').value = data.studentClass;
                
                // Load answers
                if (data.answers) {
                    Object.keys(data.answers).forEach(id => {
                        const element = document.getElementById(id);
                        if (element) {
                            element.value = data.answers[id];
                        }
                    });
                }
            }
        }
        
        function startOrContinueTimer() {
            // Check if timer was already started
            const timerData = localStorage.getItem('photoelectricTimer');
            if (timerData) {
                const { startTime } = JSON.parse(timerData);
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                timeRemaining = Math.max(0, 300 - elapsed);
            } else {
                // First time - save start time
                localStorage.setItem('photoelectricTimer', JSON.stringify({
                    startTime: Date.now()
                }));
            }
            
            updateTimer();
            
            if (timeRemaining > 0) {
                countdownInterval = setInterval(updateTimer, 1000);
            }
        }
        
        function updateTimer() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            const countdownElement = document.getElementById('countdown');
            const solutionsBtn = document.getElementById('solutions-btn');
            const timerInfo = document.getElementById('timer-info');
            
            if (timeRemaining <= 0) {
                clearInterval(countdownInterval);
                solutionsBtn.disabled = false;
                solutionsBtn.textContent = 'Show Solutions';
                timerInfo.innerHTML = 'Solutions are now available!';
                timerInfo.style.backgroundColor = '#d4edda';
                timerInfo.style.borderLeftColor = '#28a745';
            } else {
                countdownElement.textContent = display;
                timeRemaining--;
            }
        }
        
        function toggleSolutions() {
            solutionsVisible = !solutionsVisible;
            const answers = document.querySelectorAll('.answer');
            const button = document.getElementById('solutions-btn');
            
            answers.forEach(answer => {
                answer.style.display = solutionsVisible ? 'block' : 'none';
            });
            
            button.textContent = solutionsVisible ? 'Hide Solutions' : 'Show Solutions';
        }
        
        function clearWorksheet() {
            if (confirm('Are you sure you want to clear all your answers and reset the timer? This cannot be undone.')) {
                // Clear all inputs
                const inputs = document.querySelectorAll('input[type="text"], textarea');
                inputs.forEach(input => {
                    input.value = '';
                });
                
                // Clear local storage
                localStorage.removeItem('photoelectricWorksheet');
                localStorage.removeItem('photoelectricTimer');
                
                // Reset timer
                clearInterval(countdownInterval);
                timeRemaining = 300;
                startOrContinueTimer();
                
                // Reset solutions button
                document.getElementById('solutions-btn').disabled = true;
                solutionsVisible = false;
                const answers = document.querySelectorAll('.answer');
                answers.forEach(answer => {
                    answer.style.display = 'none';
                });
                
                // Reset timer info display
                const timerInfo = document.getElementById('timer-info');
                timerInfo.innerHTML = 'Solutions will be available after 5 minutes of work time.';
                timerInfo.style.backgroundColor = '#fff3cd';
                timerInfo.style.borderLeftColor = '#ffc107';
            }
        }
        
        // Add enter key functionality to move between inputs
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Tab') {
                // Natural tab behavior works well with textareas
                return;
            }
        });
    </script>
</body>
</html>