<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocks you can eat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 0;
        }

        .student-info {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .info-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .info-row input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .progress-container {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .thermometer {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #495057;
        }

        .thermometer-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997, #17a2b8);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 13px;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: #495057;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 15px;
            padding: 20px;
        }

        .salt-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .salt-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
            border: 3px solid transparent;
        }

        .salt-card:hover {
            transform: translateY(-2px);
        }

        .salt-card.pink {
            border-color: #e91e63;
            background: linear-gradient(135deg, #fce4ec, #f8bbd9);
        }

        .salt-card.rose {
            border-color: #ffc0cb;
            background: linear-gradient(135deg, #fef7f7, #fdeef0);
        }

        .salt-card.blue {
            border-color: #708090;
            background: linear-gradient(135deg, #f0f2f5, #d6dae0);
        }

        .salt-card.clear {
            border-color: #9e9e9e;
            background: linear-gradient(135deg, #fafafa, #e0e0e0);
        }

        .salt-card.black {
            border-color: #424242;
            background: linear-gradient(135deg, #efebe9, #bcaaa4);
        }

        .salt-header {
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
            color: #2c3e50;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.3);
        }

        .salt-header:hover {
            background: rgba(255,255,255,0.5);
        }

        .toggle-icon {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .salt-content {
            padding: 0 15px 15px 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .salt-content.expanded {
            max-height: 400px;
            padding: 15px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .salt-content.expanded::-webkit-scrollbar {
            width: 8px;
        }

        .salt-content.expanded::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 4px;
        }

        .salt-content.expanded::-webkit-scrollbar-thumb {
            background: rgba(0,0,0,0.3);
            border-radius: 4px;
        }

        .salt-content.expanded::-webkit-scrollbar-thumb:hover {
            background: rgba(0,0,0,0.5);
        }

        .salt-content.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .drop-zone {
            min-height: 60px;
            border: 2px dashed #ccc;
            border-radius: 8px;
            margin: 8px 0;
            padding: 8px;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.7);
        }

        .drop-zone.drag-over {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
            transform: scale(1.02);
        }

        .drop-zone h4 {
            margin-bottom: 6px;
            color: #495057;
            font-size: 13px;
        }

        .property-item {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 6px 10px;
            margin: 3px;
            font-size: 13px;
            color: #495057;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: inline-block;
        }

        .property-item.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .property-item.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
            animation: shake 0.5s ease-in-out;
        }

        .input-section {
            margin: 8px 0;
            padding: 10px;
            background: rgba(255,255,255,0.7);
            border-radius: 8px;
        }

        .input-section input, .input-section textarea {
            width: 100%;
            padding: 6px;
            border: 2px solid #ddd;
            border-radius: 4px;
            margin-top: 4px;
            font-size: 13px;
        }

        .input-section textarea {
            height: 50px;
            resize: vertical;
        }

        .draggable-items {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            height: fit-content;
            max-height: 75vh;
            overflow-y: auto;
        }

        .draggable-items h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            text-align: center;
            font-size: 1.1em;
        }

        .category {
            margin-bottom: 12px;
        }

        .category h4 {
            background: #6c757d;
            color: white;
            padding: 6px 10px;
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .draggable {
            color: white;
            padding: 8px 12px;
            margin: 3px;
            border-radius: 6px;
            cursor: grab;
            display: inline-block;
            font-size: 13px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            transition: all 0.5s ease;
            border: 2px solid transparent;
            background: linear-gradient(45deg, #808080, #999999);
            border-color: #666666;
        }

        .draggable:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }

        .draggable:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .draggable.used {
            opacity: 0.3;
            cursor: not-allowed;
            transform: scale(0.9);
            display: none;
        }

        .completion-section {
            padding: 15px;
            text-align: center;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
        }

        .btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .certificate {
            background: white;
            border: 3px solid #28a745;
            border-radius: 15px;
            padding: 40px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            display: none;
        }

        .certificate.show {
            display: block;
        }

        .certificate h2 {
            color: #28a745;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .certificate .student-name {
            font-size: 1.8em;
            color: #2c3e50;
            margin: 20px 0;
            font-weight: bold;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes flyAcross {
            0% {
                left: -100px;
                transform: rotate(0deg);
            }
            50% {
                transform: rotate(180deg);
            }
            100% {
                left: calc(100vw + 100px);
                transform: rotate(360deg);
            }
        }

        .easter-egg {
            position: fixed;
            top: 20%;
            left: -100px;
            font-size: 3em;
            z-index: 9999;
            animation: flyAcross 4s linear;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .salt-grid {
                grid-template-columns: 1fr;
            }
            
            .info-row {
                flex-direction: column;
                align-items: stretch;
            }
        }

        @media print {
            body * {
                visibility: hidden;
            }
            .certificate, .certificate * {
                visibility: visible;
            }
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üßÇ Rocks you can eat</h1>
        </div>

        <div class="student-info">
            <div class="info-row">
                <label>Student Name:</label>
                <input type="text" id="studentName" placeholder="Enter your name">
                <label>Class:</label>
                <input type="text" id="studentClass" placeholder="Enter your class">
            </div>
        </div>

        <div class="progress-container">
            <div class="thermometer">
                <div class="thermometer-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Progress: 0% Complete</div>
        </div>

        <div class="main-content">
            <div class="salt-grid">
                <!-- Pink Himalayan Salt -->
                <div class="salt-card pink" data-salt="pink">
                    <div class="salt-header" onclick="toggleCard(this)">
                        <span>Pink Himalayan Rock Salt</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    <div class="salt-content">
                        <div class="drop-zone" data-category="chemical">
                            <h4>Chemical Formula</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="scientific">
                            <h4>Scientific Name</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="origin">
                            <h4>Origin</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="color">
                            <h4>Color</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="properties">
                            <h4>Key Properties</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="uses">
                            <h4>Best Uses</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="input-section">
                            <label>Description:</label>
                            <textarea placeholder="Describe this salt in your own words"></textarea>
                            
                            <label>Odour:</label>
                            <input type="text" placeholder="What does this salt smell like?">
                        </div>
                    </div>
                </div>

                <!-- Bolivian Rose Salt -->
                <div class="salt-card rose" data-salt="bolivian">
                    <div class="salt-header" onclick="toggleCard(this)">
                        <span>Bolivian Rose Rock Salt</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    <div class="salt-content">
                        <div class="drop-zone" data-category="chemical">
                            <h4>Chemical Formula</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="scientific">
                            <h4>Scientific Name</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="origin">
                            <h4>Origin</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="color">
                            <h4>Color</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="properties">
                            <h4>Key Properties</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="uses">
                            <h4>Best Uses</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="input-section">
                            <label>Description:</label>
                            <textarea placeholder="Describe this salt in your own words"></textarea>
                            
                            <label>Odour:</label>
                            <input type="text" placeholder="What does this salt smell like?">
                        </div>
                    </div>
                </div>

                <!-- Persian Blue Salt -->
                <div class="salt-card blue" data-salt="persian">
                    <div class="salt-header" onclick="toggleCard(this)">
                        <span>Persian Blue Rock Salt</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    <div class="salt-content">
                        <div class="drop-zone" data-category="chemical">
                            <h4>Chemical Formula</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="scientific">
                            <h4>Scientific Name</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="origin">
                            <h4>Origin</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="color">
                            <h4>Color</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="properties">
                            <h4>Key Properties</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="uses">
                            <h4>Best Uses</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="input-section">
                            <label>Description:</label>
                            <textarea placeholder="Describe this salt in your own words"></textarea>
                            
                            <label>Odour:</label>
                            <input type="text" placeholder="What does this salt smell like?">
                        </div>
                    </div>
                </div>

                <!-- Clear Himalayan Halite -->
                <div class="salt-card clear" data-salt="clear">
                    <div class="salt-header" onclick="toggleCard(this)">
                        <span>Clear Himalayan Halit Rock Salt</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    <div class="salt-content">
                        <div class="drop-zone" data-category="chemical">
                            <h4>Chemical Formula</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="scientific">
                            <h4>Scientific Name</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="origin">
                            <h4>Origin</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="color">
                            <h4>Color</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="properties">
                            <h4>Key Properties</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="uses">
                            <h4>Best Uses</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="input-section">
                            <label>Description:</label>
                            <textarea placeholder="Describe this salt in your own words"></textarea>
                            
                            <label>Odour:</label>
                            <input type="text" placeholder="What does this salt smell like?">
                        </div>
                    </div>
                </div>

                <!-- Kala Namak Black Salt -->
                <div class="salt-card black" data-salt="kala">
                    <div class="salt-header" onclick="toggleCard(this)">
                        <span>Black Indian Kala Namak Salt</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    <div class="salt-content">
                        <div class="drop-zone" data-category="chemical">
                            <h4>Chemical Formula</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="scientific">
                            <h4>Scientific Name</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="origin">
                            <h4>Origin</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="color">
                            <h4>Color</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="drop-zone" data-category="properties">
                            <h4>Key Properties</h4>
                            <div class="dropped-items"></div>
                        </div>

                        <div class="drop-zone" data-category="uses">
                            <h4>Best Uses</h4>
                            <div class="dropped-items"></div>
                        </div>
                        
                        <div class="input-section">
                            <label>Description:</label>
                            <textarea placeholder="Describe this salt in your own words"></textarea>
                            
                            <label>Odour:</label>
                            <input type="text" placeholder="What does this salt smell like?">
                        </div>
                    </div>
                </div>
            </div>

            <div class="draggable-items">
                <h3>Drag Items to Correct Places</h3>
                <div id="draggableContainer">
                    <!-- Items will be randomized and inserted here by JavaScript -->
                </div>
            </div>
        </div>

        <div class="completion-section">
            <button class="btn" id="checkAnswers">Check My Answers</button>
            <button class="btn" id="resetBtn">Reset All</button>
            <button class="btn" id="printBtn" disabled>Print Certificate</button>
            
            <div class="certificate" id="certificate">
                <h2>üèÜ Certificate of Completion</h2>
                <p style="font-size: 1.2em;">This certifies that</p>
                <div class="student-name" id="certName">Student Name</div>
                <p style="font-size: 1.1em;">has successfully completed the</p>
                <h3 style="color: #2c3e50; margin: 20px 0;">Interactive Salt Learning Module</h3>
                <p>demonstrating knowledge of specialty salts including their chemical formulas, scientific names, and distinctive properties.</p>
                <p style="margin-top: 30px;"><strong>Date:</strong> <span id="certDate"></span></p>
                <p><strong>Class:</strong> <span id="certClass"></span></p>
                <div style="margin-top: 40px; border-top: 2px solid #28a745; padding-top: 20px;">
                    <p style="font-style: italic;">"Understanding the science behind culinary ingredients enhances both knowledge and appreciation."</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Draggable items data - 1:1 match for each destination
        const draggableData = [
            // Chemical Formulas (5 items for 5 salts)
            { text: "NaCl (96-99%) - Pink variety", category: "chemical", salts: ["pink"] },
            { text: "NaCl (96-99%) - Rose variety", category: "chemical", salts: ["bolivian"] },
            { text: "NaCl (85.8%)", category: "chemical", salts: ["persian"] },
            { text: "NaCl (99.8%)", category: "chemical", salts: ["clear"] },
            { text: "NaCl + sulfur compounds", category: "chemical", salts: ["kala"] },

            // Scientific Names (5 items for 5 salts)
            { text: "Pink Halite", category: "scientific", salts: ["pink"] },
            { text: "Rose Halite", category: "scientific", salts: ["bolivian"] },
            { text: "Blue Halite", category: "scientific", salts: ["persian"] },
            { text: "Pure Halite", category: "scientific", salts: ["clear"] },
            { text: "Processed Halite (Kala Namak)", category: "scientific", salts: ["kala"] },

            // Origins (5 items for 5 salts)
            { text: "Pakistan (Khewra Mine) - Pink", category: "origin", salts: ["pink"] },
            { text: "Bolivian Andes Mountains", category: "origin", salts: ["bolivian"] },
            { text: "Iran (Semnan Province)", category: "origin", salts: ["persian"] },
            { text: "Pakistan (Khewra Mine) - Clear", category: "origin", salts: ["clear"] },
            { text: "Northern India/Pakistan", category: "origin", salts: ["kala"] },

            // Colors (5 items for 5 salts)
            { text: "Pink/Rose colored", category: "color", salts: ["pink"] },
            { text: "Rose-pink hue", category: "color", salts: ["bolivian"] },
            { text: "Sapphire blue", category: "color", salts: ["persian"] },
            { text: "Crystal clear/white", category: "color", salts: ["clear"] },
            { text: "Black/dark (pink when ground)", category: "color", salts: ["kala"] },

            // Properties (3 items per salt = 15 total)
            { text: "Iron oxide traces", category: "properties", salts: ["pink"] },
            { text: "Ancient sea deposits - Pink", category: "properties", salts: ["pink"] },
            { text: "Trace minerals give color", category: "properties", salts: ["pink"] },
            
            { text: "8x more iron than sea salt", category: "properties", salts: ["bolivian"] },
            { text: "5x more calcium", category: "properties", salts: ["bolivian"] },
            { text: "Lower sodium content", category: "properties", salts: ["bolivian"] },
            
            { text: "Contains sylvinite", category: "properties", salts: ["persian"] },
            { text: "13% potassium", category: "properties", salts: ["persian"] },
            { text: "Optical illusion color", category: "properties", salts: ["persian"] },
            
            { text: "Highest purity (99.8%)", category: "properties", salts: ["clear"] },
            { text: "Ancient sea deposits - Clear", category: "properties", salts: ["clear"] },
            { text: "Crystal clear appearance", category: "properties", salts: ["clear"] },
            
            { text: "Contains greigite (Fe‚ÇÉS‚ÇÑ)", category: "properties", salts: ["kala"] },
            { text: "Sulfurous smell", category: "properties", salts: ["kala"] },
            { text: "Fired with herbs", category: "properties", salts: ["kala"] },

            // Best Uses (2-3 items per salt = 13 total)
            { text: "Meat dishes", category: "uses", salts: ["pink"] },
            { text: "Fish preparations", category: "uses", salts: ["pink"] },
            
            { text: "Vegetable dishes", category: "uses", salts: ["bolivian"] },
            { text: "Everyday cooking", category: "uses", salts: ["bolivian"] },
            { text: "Health-conscious cooking", category: "uses", salts: ["bolivian"] },
            
            { text: "Seafood", category: "uses", salts: ["persian"] },
            { text: "Salads", category: "uses", salts: ["persian"] },
            { text: "Truffles & gourmet", category: "uses", salts: ["persian"] },
            
            { text: "Daily cooking", category: "uses", salts: ["clear"] },
            { text: "General seasoning", category: "uses", salts: ["clear"] },
            
            { text: "Vegan dishes", category: "uses", salts: ["kala"] },
            { text: "Movie night popcorn", category: "uses", salts: ["kala"] },
            { text: "Indian cuisine", category: "uses", salts: ["kala"] }
        ];

        function toggleCard(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.toggle-icon');
            
            content.classList.toggle('expanded');
            
            if (content.classList.contains('expanded')) {
                icon.style.transform = 'rotate(180deg)';
            } else {
                icon.style.transform = 'rotate(0deg)';
            }
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function createDraggableItems() {
            const container = document.getElementById('draggableContainer');
            const shuffledData = shuffleArray(draggableData);
            
            // Group by category
            const categories = {
                chemical: "Chemical Formulas",
                scientific: "Scientific Names", 
                origin: "Origins",
                color: "Colors",
                properties: "Properties & Features",
                uses: "Best Uses"
            };

            Object.keys(categories).forEach(categoryKey => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                
                const categoryHeader = document.createElement('h4');
                categoryHeader.textContent = categories[categoryKey];
                categoryDiv.appendChild(categoryHeader);
                
                const categoryItems = shuffledData.filter(item => item.category === categoryKey);
                
                categoryItems.forEach(item => {
                    const draggable = document.createElement('div');
                    draggable.className = 'draggable';
                    draggable.textContent = item.text;
                    draggable.draggable = true;
                    draggable.dataset.category = item.category;
                    draggable.dataset.salts = item.salts.join(',');
                    
                    categoryDiv.appendChild(draggable);
                });
                
                container.appendChild(categoryDiv);
            });
        }

        class SaltLearningTool {
            constructor() {
                this.progress = 0;
                this.totalActivities = 48; // Updated for 1:1 match (48 draggable items)
                this.completedActivities = 0;
                this.studentData = {
                    name: '',
                    class: ''
                };
                
                // Debug feature
                this.pressedKeys = new Set();
                
                // Easter egg
                this.lastEasterEgg = Date.now();
                this.setupEasterEgg();
                
                this.init();
            }

            init() {
                createDraggableItems();
                this.setupEventListeners();
                this.loadStudentData();
                this.updateProgress();
                
                // Initialize draggable colors (start with grey)
                this.updateDraggableColors();
                
                // Expand first card by default
                const firstCard = document.querySelector('.salt-card .salt-content');
                if (firstCard) {
                    firstCard.classList.add('expanded');
                }
            }

            setupEventListeners() {
                // Drag and drop
                this.setupDragAndDrop();
                
                // Student info inputs
                document.getElementById('studentName').addEventListener('input', this.saveStudentData.bind(this));
                document.getElementById('studentClass').addEventListener('input', this.saveStudentData.bind(this));
                
                // Buttons
                document.getElementById('checkAnswers').addEventListener('click', this.checkAllAnswers.bind(this));
                document.getElementById('resetBtn').addEventListener('click', this.resetAll.bind(this));
                document.getElementById('printBtn').addEventListener('click', this.printCertificate.bind(this));
                
                // Debug feature - QWE keys
                document.addEventListener('keydown', this.handleKeyDown.bind(this));
                document.addEventListener('keyup', this.handleKeyUp.bind(this));
            }

            setupDragAndDrop() {
                const draggables = document.querySelectorAll('.draggable');
                const dropZones = document.querySelectorAll('.drop-zone');

                draggables.forEach(draggable => {
                    draggable.addEventListener('dragstart', this.handleDragStart.bind(this));
                    draggable.addEventListener('dragend', this.handleDragEnd.bind(this));
                });

                dropZones.forEach(zone => {
                    zone.addEventListener('dragover', this.handleDragOver.bind(this));
                    zone.addEventListener('drop', this.handleDrop.bind(this));
                    zone.addEventListener('dragenter', this.handleDragEnter.bind(this));
                    zone.addEventListener('dragleave', this.handleDragLeave.bind(this));
                });
            }

            handleDragStart(e) {
                if (e.target.classList.contains('used')) {
                    e.preventDefault();
                    return;
                }
                e.dataTransfer.setData('text/plain', JSON.stringify({
                    text: e.target.textContent,
                    category: e.target.dataset.category,
                    salts: e.target.dataset.salts,
                    id: Array.from(document.querySelectorAll('.draggable')).indexOf(e.target)
                }));
                e.dataTransfer.effectAllowed = 'move';
                e.target.style.opacity = '0.5';
            }

            handleDragEnd(e) {
                e.target.style.opacity = '1';
            }

            handleDragOver(e) {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            }

            handleDragEnter(e) {
                e.preventDefault();
                e.currentTarget.classList.add('drag-over');
            }

            handleDragLeave(e) {
                if (!e.currentTarget.contains(e.relatedTarget)) {
                    e.currentTarget.classList.remove('drag-over');
                }
            }

            handleDrop(e) {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                
                const draggedData = JSON.parse(e.dataTransfer.getData('text/plain'));
                const dropZone = e.currentTarget;
                const saltCard = dropZone.closest('.salt-card');
                const saltType = saltCard.dataset.salt;
                const category = dropZone.dataset.category;
                
                // Check if this is a valid drop
                const validSalts = draggedData.salts.split(',');
                const draggedCategory = draggedData.category;
                
                if (draggedCategory === category && validSalts.includes(saltType)) {
                    // Correct placement
                    const droppedItems = dropZone.querySelector('.dropped-items');
                    
                    const droppedElement = document.createElement('div');
                    droppedElement.className = 'property-item correct';
                    droppedElement.textContent = draggedData.text;
                    droppedItems.appendChild(droppedElement);
                    
                    // Hide original draggable item
                    const originalElements = document.querySelectorAll('.draggable');
                    const originalElement = originalElements[draggedData.id];
                    if (originalElement) {
                        originalElement.classList.add('used');
                    }
                    
                    this.incrementProgress();
                    this.showFeedback('Correct! Well done!', 'success');
                } else {
                    // Incorrect placement
                    this.showFeedback('That\'s not quite right. Try again!', 'error');
                }
            }

            checkAllAnswers() {
                let completedItems = document.querySelectorAll('.property-item.correct').length;
                let totalRequiredItems = 40; // Minimum expected drops (allowing some flexibility)

                if (completedItems >= totalRequiredItems) {
                    this.showCompletion();
                } else {
                    this.showFeedback(`Please complete more activities. You have ${completedItems}/${totalRequiredItems} items placed correctly.`, 'warning');
                }
            }

            showCompletion() {
                const certificate = document.getElementById('certificate');
                const studentName = document.getElementById('studentName').value || 'Student';
                const studentClass = document.getElementById('studentClass').value || 'Class';
                const studyDate = new Date().toLocaleDateString();
                
                document.getElementById('certName').textContent = studentName;
                document.getElementById('certClass').textContent = studentClass;
                document.getElementById('certDate').textContent = studyDate;
                
                certificate.classList.add('show');
                document.getElementById('printBtn').disabled = false;
                
                this.updateProgress(100);
                this.showFeedback('Congratulations! You\'ve completed the salt learning module!', 'success');
            }

            incrementProgress() {
                this.completedActivities++;
                const percentage = Math.min((this.completedActivities / this.totalActivities) * 100, 100);
                this.updateProgress(percentage);
            }

            updateProgress(percentage = null) {
                if (percentage !== null) {
                    this.progress = percentage;
                } else {
                    this.progress = (this.completedActivities / this.totalActivities) * 100;
                }
                
                const progressFill = document.getElementById('progressFill');
                const progressText = document.getElementById('progressText');
                
                progressFill.style.width = `${this.progress}%`;
                progressText.textContent = `Progress: ${Math.round(this.progress)}% Complete`;
                
                if (this.progress >= 100) {
                    progressText.innerHTML = `üéâ Completed! Great work!`;
                }
                
                // Update draggable item colors based on progress
                this.updateDraggableColors();
            }

            updateDraggableColors() {
                const saturation = this.progress / 100; // 0 to 1
                const draggables = document.querySelectorAll('.draggable:not(.used)');
                
                draggables.forEach(draggable => {
                    const salts = draggable.dataset.salts;
                    let colors = this.getColorForSalt(salts, saturation);
                    
                    draggable.style.background = colors.background;
                    draggable.style.borderColor = colors.border;
                });
            }

            getColorForSalt(salts, saturation) {
                // Base grey colors (0% saturation)
                const greyBg1 = { r: 128, g: 128, b: 128 };
                const greyBg2 = { r: 153, g: 153, b: 153 };
                const greyBorder = { r: 102, g: 102, b: 102 };
                
                let targetBg1, targetBg2, targetBorder;
                
                // Determine target colors based on salt type
                if (salts.includes('pink')) {
                    targetBg1 = { r: 233, g: 30, b: 99 };   // #e91e63
                    targetBg2 = { r: 240, g: 98, b: 146 };  // #f06292
                    targetBorder = { r: 173, g: 20, b: 87 }; // #ad1457
                } else if (salts.includes('bolivian')) {
                    targetBg1 = { r: 255, g: 192, b: 203 };  // Light pink
                    targetBg2 = { r: 255, g: 218, b: 227 };  // Lighter pink
                    targetBorder = { r: 255, g: 182, b: 193 }; // Pink border
                } else if (salts.includes('persian')) {
                    targetBg1 = { r: 112, g: 128, b: 144 };  // Slate grey-blue
                    targetBg2 = { r: 119, g: 136, b: 153 };  // Light slate grey
                    targetBorder = { r: 70, g: 130, b: 180 }; // Steel blue
                } else if (salts.includes('clear')) {
                    targetBg1 = { r: 158, g: 158, b: 158 };  // #9e9e9e
                    targetBg2 = { r: 189, g: 189, b: 189 };  // #bdbdbd
                    targetBorder = { r: 97, g: 97, b: 97 };  // #616161
                } else if (salts.includes('kala')) {
                    targetBg1 = { r: 66, g: 66, b: 66 };    // #424242
                    targetBg2 = { r: 97, g: 97, b: 97 };    // #616161
                    targetBorder = { r: 33, g: 33, b: 33 }; // #212121
                } else {
                    // Multi-salt items
                    targetBg1 = { r: 102, g: 126, b: 234 };  // #667eea
                    targetBg2 = { r: 118, g: 75, b: 162 };   // #764ba2
                    targetBorder = { r: 90, g: 111, b: 216 }; // #5a6fd8
                }
                
                // Interpolate between grey and target color
                const interpolate = (grey, target, sat) => ({
                    r: Math.round(grey.r + (target.r - grey.r) * sat),
                    g: Math.round(grey.g + (target.g - grey.g) * sat),
                    b: Math.round(grey.b + (target.b - grey.b) * sat)
                });
                
                const bg1 = interpolate(greyBg1, targetBg1, saturation);
                const bg2 = interpolate(greyBg2, targetBg2, saturation);
                const border = interpolate(greyBorder, targetBorder, saturation);
                
                return {
                    background: `linear-gradient(45deg, rgb(${bg1.r},${bg1.g},${bg1.b}), rgb(${bg2.r},${bg2.g},${bg2.b}))`,
                    border: `rgb(${border.r},${border.g},${border.b})`
                };
            }

            showFeedback(message, type) {
                const feedback = document.createElement('div');
                feedback.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 20px;
                    border-radius: 8px;
                    color: white;
                    font-weight: bold;
                    z-index: 1000;
                    animation: slideIn 0.3s ease;
                `;
                
                switch(type) {
                    case 'success':
                        feedback.style.backgroundColor = '#28a745';
                        break;
                    case 'error':
                        feedback.style.backgroundColor = '#dc3545';
                        break;
                    case 'warning':
                        feedback.style.backgroundColor = '#ffc107';
                        feedback.style.color = '#212529';
                        break;
                }
                
                feedback.textContent = message;
                document.body.appendChild(feedback);
                
                setTimeout(() => {
                    feedback.remove();
                }, 3000);
            }

            saveStudentData() {
                this.studentData = {
                    name: document.getElementById('studentName').value,
                    class: document.getElementById('studentClass').value
                };
            }

            loadStudentData() {
                if (this.studentData.name) {
                    document.getElementById('studentName').value = this.studentData.name;
                }
                if (this.studentData.class) {
                    document.getElementById('studentClass').value = this.studentData.class;
                }
            }

            resetAll() {
                if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                    location.reload();
                }
            }

            printCertificate() {
                window.print();
            }

            // Debug feature - QWE key handling
            handleKeyDown(e) {
                this.pressedKeys.add(e.key.toLowerCase());
                
                // Check if Q, W, E are all pressed
                if (this.pressedKeys.has('q') && this.pressedKeys.has('w') && this.pressedKeys.has('e')) {
                    this.debugPopulateAll();
                }
            }

            handleKeyUp(e) {
                this.pressedKeys.delete(e.key.toLowerCase());
            }

            debugPopulateAll() {
                console.log('üîß Debug: Populating all answers...');
                
                // Get all draggable items that aren't used yet
                const availableDraggables = document.querySelectorAll('.draggable:not(.used)');
                
                availableDraggables.forEach(draggable => {
                    const category = draggable.dataset.category;
                    const validSalts = draggable.dataset.salts.split(',');
                    
                    // Find the correct drop zone for this specific item
                    for (let saltType of validSalts) {
                        const saltCard = document.querySelector(`[data-salt="${saltType}"]`);
                        if (saltCard) {
                            const dropZone = saltCard.querySelector(`[data-category="${category}"]`);
                            if (dropZone) {
                                const droppedItems = dropZone.querySelector('.dropped-items');
                                
                                // Check if this specific item is already in this drop zone
                                const existingItems = Array.from(droppedItems.children);
                                const alreadyExists = existingItems.some(item => 
                                    item.textContent === draggable.textContent
                                );
                                
                                if (!alreadyExists) {
                                    // Create dropped element
                                    const droppedElement = document.createElement('div');
                                    droppedElement.className = 'property-item correct';
                                    droppedElement.textContent = draggable.textContent;
                                    droppedItems.appendChild(droppedElement);
                                    
                                    // Mark original as used
                                    draggable.classList.add('used');
                                    
                                    // Increment progress
                                    this.incrementProgress();
                                    
                                    break; // Exit the salt loop for this draggable (item placed)
                                }
                            }
                        }
                    }
                });
                
                // Count final results
                const totalPlaced = document.querySelectorAll('.property-item.correct').length;
                const totalRemaining = document.querySelectorAll('.draggable:not(.used)').length;
                
                console.log(`üîß Debug complete: ${totalPlaced} items placed, ${totalRemaining} items remaining`);
                this.showFeedback(`üîß Debug: ${totalPlaced}/48 answers populated!`, 'success');
            }

            // Easter egg functionality
            setupEasterEgg() {
                this.scheduleNextEasterEgg();
            }

            scheduleNextEasterEgg() {
                // Random time between 8-12 minutes (480,000 - 720,000 ms)
                const minTime = 8 * 60 * 1000; // 8 minutes
                const maxTime = 12 * 60 * 1000; // 12 minutes
                const randomTime = Math.random() * (maxTime - minTime) + minTime;
                
                setTimeout(() => {
                    this.triggerEasterEgg();
                    this.scheduleNextEasterEgg(); // Schedule the next one
                }, randomTime);
            }

            triggerEasterEgg() {
                // Check if enough time has passed since last easter egg (minimum 5 minutes)
                const now = Date.now();
                if (now - this.lastEasterEgg < 5 * 60 * 1000) {
                    return;
                }
                
                this.lastEasterEgg = now;
                
                // Choose random emoji and position
                const emojis = ['üßÇ', 'ü™®'];
                const emoji = emojis[Math.floor(Math.random() * emojis.length)];
                const topPosition = Math.random() * 60 + 10; // 10% to 70% from top
                
                // Create easter egg element
                const easterEgg = document.createElement('div');
                easterEgg.className = 'easter-egg';
                easterEgg.textContent = emoji;
                easterEgg.style.top = `${topPosition}%`;
                
                // Add to body
                document.body.appendChild(easterEgg);
                
                // Remove after animation completes
                setTimeout(() => {
                    if (easterEgg.parentNode) {
                        easterEgg.remove();
                    }
                }, 4000);
                
                console.log(`üéâ Easter egg: ${emoji} flying across screen!`);
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            new SaltLearningTool();
        });

        // Add slideIn animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>