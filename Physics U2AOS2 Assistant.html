<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Unit 2 AOS2 Topic Selector</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --applied-color: #3498db;
            --theoretical-color: #9b59b6;
            --bio-color: #27ae60;
            --environmental-color: #e67e22;
            --neutral-color: #34495e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .question-container {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--current-theme, #3498db);
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: var(--current-theme, #3498db);
        }

        .option.selected {
            background: linear-gradient(135deg, var(--current-theme, #3498db), color-mix(in srgb, var(--current-theme, #3498db) 80%, black));
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(52, 152, 219, 0.3);
        }

        .option-title {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .option-description {
            font-size: 0.9em;
            opacity: 0.8;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .option-contexts {
            font-size: 0.75em;
            opacity: 0.7;
            font-style: italic;
            line-height: 1.3;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 8px;
            margin-top: 8px;
        }

        .option.selected .option-contexts {
            border-top-color: rgba(255,255,255,0.3);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--current-theme, #3498db), color-mix(in srgb, var(--current-theme, #3498db) 80%, black));
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .progress-bar {
            height: 4px;
            background: #ecf0f1;
            margin-bottom: 20px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--current-theme, #3498db), color-mix(in srgb, var(--current-theme, #3498db) 80%, black));
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #666;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .breadcrumb-item {
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .breadcrumb-item:hover {
            background: var(--current-theme, #3498db);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .breadcrumb-item.current {
            background: var(--current-theme, #3498db);
            color: white;
            cursor: default;
        }

        .breadcrumb-item.current:hover {
            transform: none;
            box-shadow: none;
        }

        .breadcrumb-separator {
            margin: 0 5px;
            color: #aaa;
        }

        .collapsible-header {
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .collapsible-header:hover {
            background: #e9ecef;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible-content.collapsed {
            max-height: 0;
        }

        .collapsible-content.expanded {
            max-height: 2000px;
            transition: max-height 0.5s ease-in;
        }

        .recommendations {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
        }

        .recommendation-item {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #28a745;
        }

        .recommendation-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .recommendation-description {
            color: #666;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .recommendation-why {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
            margin-bottom: 15px;
        }

        .topic-details {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .topic-concepts {
            margin-top: 15px;
        }

        .concept-tag {
            display: inline-block;
            background: var(--current-theme, #3498db);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            margin: 2px;
        }

        .key-knowledge {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .key-knowledge h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .key-knowledge ul {
            color: #856404;
            font-size: 0.9em;
            line-height: 1.4;
            margin-left: 20px;
        }

        .contexts-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .contexts-box h4 {
            color: #0c5460;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .contexts-box ul {
            color: #0c5460;
            font-size: 0.9em;
            line-height: 1.4;
            margin-left: 20px;
        }

        .resources-section {
            background: #e2e3e5;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .resource-box {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .resource-box h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 0.95em;
        }

        .resource-box ul {
            font-size: 0.85em;
            line-height: 1.4;
            margin-left: 15px;
        }

        .resource-box a {
            color: var(--current-theme, #3498db);
            text-decoration: none;
        }

        .resource-box a:hover {
            text-decoration: underline;
        }

        .reset-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.2em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .double-click-hint {
            font-size: 0.8em;
            color: #666;
            text-align: center;
            margin-top: 15px;
            font-style: italic;
        }

        .clickable-link {
            color: var(--current-theme, #3498db);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .clickable-link:hover {
            text-decoration: underline;
            border-bottom-color: var(--current-theme, #3498db);
        }

        .ai-prompt-link {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ai-prompt-link:hover {
            background-color: rgba(52, 152, 219, 0.1);
            border-radius: 5px;
            padding: 2px 5px;
        }

        /* Theme classes */
        .theme-applied {
            --current-theme: var(--applied-color);
        }

        .theme-theoretical {
            --current-theme: var(--theoretical-color);
        }

        .theme-bio {
            --current-theme: var(--bio-color);
        }

        .theme-environmental {
            --current-theme: var(--environmental-color);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }

            .resources-grid {
                grid-template-columns: 1fr;
            }
        }

        @media print {
            body {
                background: white;
                font-size: 12pt;
                line-height: 1.4;
            }
            
            .container {
                box-shadow: none;
                border: none;
                margin: 0;
                padding: 0;
            }
            
            .header {
                background: #2c3e50;
                color: white;
                padding: 20px;
                page-break-inside: avoid;
            }
            
            .navigation, .reset-btn, .double-click-hint, .breadcrumb {
                display: none;
            }
            
            .progress-bar {
                display: none;
            }
            
            .recommendation-item {
                page-break-inside: avoid;
                margin-bottom: 30px;
                border: 1px solid #ddd;
            }
            
            .assessment-selection-section {
                page-break-before: always;
            }
            
            .resources-section {
                page-break-before: always;
            }
            
            a {
                color: #000;
                text-decoration: none;
            }
            
            a:after {
                content: " (" attr(href) ")";
                font-size: 0.8em;
                color: #666;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="mainContainer">
        <div class="header">
            <h1>🔬 Physics Topic Selector</h1>
            <p>Find the perfect Unit 2 AOS2 option for your presentation</p>
        </div>
        
        <div class="content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="breadcrumb" id="breadcrumb">
                <span class="breadcrumb-item" onclick="jumpToBreadcrumb('start')">Getting Started</span>
            </div>
            
            <div id="questionContainer"></div>
            
            <div class="double-click-hint">
                💡 Tip: Double-click any option to select and advance automatically
            </div>
            
            <div class="navigation">
                <button class="btn btn-secondary" id="backBtn" onclick="goBack()" disabled>← Back</button>
                <button class="btn btn-primary" id="nextBtn" onclick="goNext()" disabled>Next →</button>
            </div>
        </div>
    </div>
    
    <button class="reset-btn" onclick="resetQuiz()" title="Start Over">🔄</button>

    <script>
        // Assessment modes and requirements for VCE Physics Unit 2 AOS2
        const assessmentInfo = {
            overview: {
                title: "VCE Physics Unit 2 AOS2 Assessment Overview",
                outcome: "On completion of this unit the student should be able to investigate and apply physics knowledge to develop and communicate an informed response to a contemporary societal issue or application related to a selected option.",
                assessmentModes: [
                    "Research Investigation and Presentation",
                    "Scientific Poster",
                    "Written Report (Word count as sufficient for content.)",
                    "Multimedia Presentation",
                    "Structured Scientific Inquiry",
                    "Case Study Analysis"
                ],
                keyRequirements: [
                    "Select one option from 18 available topics",
                    "Investigate contemporary societal issue or application",
                    "Apply physics knowledge to develop informed response",
                    "Evaluate validity of information sources",
                    "Use appropriate scientific terminology and representations",
                    "Discuss sociocultural, economic, legal, and political factors",
                    "Justify stance, opinion, or solution using physics understanding"
                ],
                assessmentCriteria: [
                    "Physics knowledge application and accuracy",
                    "Investigation methodology and data analysis",
                    "Source evaluation and evidence quality",
                    "Communication clarity and scientific conventions",
                    "Critical thinking and reasoned conclusions",
                    "Contemporary relevance and societal context"
                ],
                markingCriteria: {
                    physicsKnowledge: {
                        marks: 12,
                        description: "Accurate physics concepts, correct calculations, appropriate terminology"
                    },
                    investigation: {
                        marks: 6,
                        description: "Research methodology, data collection, source evaluation"
                    },
                    communication: {
                        marks: 6,
                        description: "Clear explanations, scientific conventions, appropriate format"
                    },
                    analysis: {
                        marks: 4,
                        description: "Critical thinking, evidence evaluation, reasoned conclusions"
                    },
                    contemporary: {
                        marks: 2,
                        description: "Societal relevance, contemporary context, real-world application"
                    }
                }
            },
            specificModes: {
                research: {
                    name: "Research Investigation (30 marks)",
                    description: "Comprehensive investigation into selected topic with detailed analysis",
                    suitableFor: ["Climate Change", "Nuclear Energy", "Medical Radiation", "SETI", "Regional Research"],
                    duration: "4-6 weeks",
                    wordCount: "Word count as sufficient for content.",
                    assessmentModel: {
                        structure: [
                            "Abstract/Executive Summary ",
                            "Introduction & Physics Background ", 
                            "Investigation Methodology ",
                            "Results & Analysis ",
                            "Contemporary Issues Discussion ",
                            "Conclusion & Recommendations ",
                            "References & Appendices"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Complex physics concepts applied accurately with sophisticated calculations and terminology",
                                    "Good (7-9): Sound physics understanding with mostly correct applications and appropriate terminology", 
                                    "Satisfactory (4-6): Basic physics concepts understood with some correct applications",
                                    "Limited (1-3): Minimal physics understanding with significant errors",
                                    "Very Limited (0): No evidence of physics knowledge"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Comprehensive research from multiple credible sources with critical evaluation",
                                    "Good (4): Adequate research with some source evaluation and methodology explanation",
                                    "Satisfactory (2-3): Basic research from limited sources with minimal evaluation",
                                    "Limited (1): Poor research quality with unreliable sources",
                                    "Very Limited (0): No evidence of systematic investigation"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Clear, coherent writing with excellent scientific conventions and formatting",
                                    "Good (4): Generally clear communication with good use of scientific conventions",
                                    "Satisfactory (2-3): Adequate communication with some scientific convention use",
                                    "Limited (1): Poor communication with minimal scientific conventions",
                                    "Very Limited (0): Very poor communication quality"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated analysis with well-reasoned conclusions and evidence-based judgments",
                                    "Good (3): Sound analysis with logical conclusions supported by evidence",
                                    "Satisfactory (2): Basic analysis with simple conclusions",
                                    "Limited (1): Limited analysis with weak conclusions",
                                    "Very Limited (0): No evidence of analytical thinking"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong connections to current issues with sociocultural/political context",
                                    "Good (1): Some connection to contemporary issues and societal context",
                                    "Limited (0): No connection to contemporary relevance"
                                ]
                            }
                        }
                    }
                },
                presentation: {
                    name: "Scientific Presentation (30 marks)",
                    description: "Oral presentation with visual aids explaining physics concepts and applications",
                    suitableFor: ["Flight Physics", "Sports Physics", "Optics", "Sound/Music", "Traditional Knowledge"],
                    duration: "Duration as sufficient for content.",
                    format: "PowerPoint, Prezi, or multimedia with handout",
                    assessmentModel: {
                        structure: [
                            "Introduction & Hook (2-3 minutes)",
                            "Physics Background & Theory (5-6 minutes)",
                            "Contemporary Application/Issue (4-5 minutes)",
                            "Analysis & Evidence (4-5 minutes)",
                            "Conclusion & Implications (2-3 minutes)",
                            "Q&A Session (5 minutes)",
                            "Written Summary/Handout (1-2 pages)"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Complex physics explained clearly with accurate demonstrations and calculations",
                                    "Good (7-9): Sound physics content with mostly accurate explanations and examples",
                                    "Satisfactory (4-6): Basic physics concepts covered with some accuracy",
                                    "Limited (1-3): Limited physics content with significant errors",
                                    "Very Limited (0): No evidence of physics understanding"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Evidence of thorough research with credible sources and data analysis",
                                    "Good (4): Good research evident with reliable sources and some analysis",
                                    "Satisfactory (2-3): Basic research with limited sources and minimal analysis",
                                    "Limited (1): Poor research quality with unreliable information",
                                    "Very Limited (0): No evidence of research"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Engaging delivery, excellent visuals, clear explanations, confident Q&A responses",
                                    "Good (4): Clear delivery with good visuals and mostly confident responses",
                                    "Satisfactory (2-3): Adequate delivery with basic visuals and some Q&A engagement",
                                    "Limited (1): Poor delivery with weak visuals and minimal Q&A participation",
                                    "Very Limited (0): Very poor presentation skills"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated analysis with critical evaluation and well-supported conclusions",
                                    "Good (3): Sound analysis with logical reasoning and evidence-based conclusions",
                                    "Satisfactory (2): Basic analysis with simple conclusions",
                                    "Limited (1): Limited analytical thinking with weak reasoning",
                                    "Very Limited (0): No evidence of analysis"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong contemporary relevance with societal implications clearly explained",
                                    "Good (1): Some contemporary connection with basic societal context",
                                    "Limited (0): No contemporary relevance demonstrated"
                                ]
                            }
                        }
                    }
                },
                poster: {
                    name: "Scientific Poster (30 marks)",
                    description: "Visual summary of investigation with key findings and physics principles",
                    suitableFor: ["Materials/Structures", "Human Body Physics", "Photography", "Particle Physics"],
                    size: "A1 format (594 × 841 mm)",
                    format: "Professional poster layout with accompanying brief presentation (5 minutes)",
                    assessmentModel: {
                        structure: [
                            "Title & Abstract (compelling hook and summary)",
                            "Introduction & Physics Background (key concepts and context)",
                            "Methodology/Approach (how the investigation was conducted)",
                            "Results & Analysis (data, calculations, and findings with visuals)",
                            "Discussion & Implications (interpretation and contemporary relevance)",
                            "Conclusion & Future Directions (key outcomes and next steps)",
                            "References & Acknowledgments"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Complex physics accurately presented with sophisticated calculations and correct terminology",
                                    "Good (7-9): Sound physics content with mostly accurate information and appropriate terminology",
                                    "Satisfactory (4-6): Basic physics concepts presented with some accuracy",
                                    "Limited (1-3): Limited physics understanding with significant errors",
                                    "Very Limited (0): No evidence of physics knowledge"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Clear methodology with evidence of thorough investigation and data analysis",
                                    "Good (4): Adequate methodology with good investigation approach and some analysis",
                                    "Satisfactory (2-3): Basic methodology with limited investigation depth",
                                    "Limited (1): Poor methodology with minimal investigation evidence",
                                    "Very Limited (0): No clear investigation approach"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Outstanding visual design, clear layout, excellent graphics, and professional presentation",
                                    "Good (4): Good visual appeal with clear layout and effective graphics",
                                    "Satisfactory (2-3): Adequate visual presentation with basic layout and simple graphics",
                                    "Limited (1): Poor visual presentation with unclear layout",
                                    "Very Limited (0): Very poor visual communication"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated data analysis with insightful interpretation and well-reasoned conclusions",
                                    "Good (3): Sound analysis with logical interpretation and evidence-based conclusions",
                                    "Satisfactory (2): Basic analysis with simple interpretation",
                                    "Limited (1): Limited analysis with weak interpretation",
                                    "Very Limited (0): No evidence of analytical thinking"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong contemporary relevance with clear societal/technological implications",
                                    "Good (1): Some contemporary connection with basic real-world context",
                                    "Limited (0): No contemporary relevance shown"
                                ]
                            }
                        }
                    }
                },
                practical: {
                    name: "Practical Investigation (30 marks)",
                    description: "Hands-on experimentation with data collection and analysis",
                    suitableFor: ["Materials Testing", "Optics", "Sports Physics", "Electronics", "Sound"],
                    duration: "Multiple lab sessions + analysis report",
                    format: "Laboratory work with comprehensive written report (Word count as sufficient for content.)",
                    assessmentModel: {
                        structure: [
                            "Aim & Hypothesis (clear objectives and predictions)",
                            "Equipment & Method (detailed procedure with safety considerations)",
                            "Risk Assessment (hazard identification and control measures)",
                            "Results (raw data, calculations, graphs, and observations)",
                            "Analysis & Discussion (interpretation, error analysis, and physics explanations)",
                            "Conclusion (hypothesis evaluation and physics principles confirmation)",
                            "Evaluation & Improvements (limitations and suggested modifications)"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Sophisticated physics understanding with accurate calculations and insightful explanations",
                                    "Good (7-9): Sound physics application with mostly correct calculations and explanations",
                                    "Satisfactory (4-6): Basic physics concepts applied with some accuracy",
                                    "Limited (1-3): Limited physics understanding with significant calculation errors",
                                    "Very Limited (0): No evidence of physics knowledge application"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Comprehensive experimental design with systematic data collection and thorough error analysis",
                                    "Good (4): Good experimental approach with adequate data collection and some error consideration",
                                    "Satisfactory (2-3): Basic experimental method with limited data collection",
                                    "Limited (1): Poor experimental design with minimal data collection",
                                    "Very Limited (0): No systematic experimental approach"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Clear, well-structured report with excellent data presentation and scientific conventions",
                                    "Good (4): Generally clear report with good data presentation and scientific format",
                                    "Satisfactory (2-3): Adequate report structure with basic data presentation",
                                    "Limited (1): Poor report structure with unclear data presentation",
                                    "Very Limited (0): Very poor communication quality"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated data analysis with insightful interpretation and comprehensive error analysis",
                                    "Good (3): Sound data analysis with logical interpretation and some error analysis",
                                    "Satisfactory (2): Basic data analysis with simple interpretation",
                                    "Limited (1): Limited analysis with minimal interpretation",
                                    "Very Limited (0): No evidence of data analysis"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong connections to real-world applications and technological relevance",
                                    "Good (1): Some connection to practical applications and real-world context",
                                    "Limited (0): No contemporary or practical relevance demonstrated"
                                ]
                            }
                        }
                    }
                },
                written: {
                    name: "Written Report (30 marks)",
                    description: "Detailed analytical report on selected physics topic and contemporary issue",
                    suitableFor: ["Climate Change", "Nuclear Energy", "Medical Physics", "Astrophysics", "Regional Research"],
                    duration: "4-6 weeks",
                    wordCount: "Word count as sufficient for content + diagrams/appendices",
                    assessmentModel: {
                        structure: [
                            "Executive Summary ",
                            "Introduction & Background ",
                            "Physics Principles & Theory ",
                            "Contemporary Issue Analysis ",
                            "Evaluation & Discussion ",
                            "Conclusion & Recommendations ",
                            "References & Appendices (minimum 4 credible sources)"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Comprehensive physics understanding with accurate explanations, calculations, and sophisticated terminology",
                                    "Good (7-9): Sound physics knowledge with mostly accurate explanations and appropriate terminology",
                                    "Satisfactory (4-6): Basic physics concepts explained with some accuracy and basic terminology",
                                    "Limited (1-3): Limited physics understanding with significant errors and poor terminology use",
                                    "Very Limited (0): No evidence of physics knowledge"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Comprehensive research from diverse credible sources with critical source evaluation",
                                    "Good (4): Good research from multiple sources with some critical evaluation",
                                    "Satisfactory (2-3): Basic research from limited sources with minimal evaluation",
                                    "Limited (1): Poor research quality with few unreliable sources",
                                    "Very Limited (0): No evidence of systematic research"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Excellent writing quality with clear structure, perfect scientific conventions, and professional formatting",
                                    "Good (4): Good writing with clear structure and mostly correct scientific conventions",
                                    "Satisfactory (2-3): Adequate writing with basic structure and some scientific conventions",
                                    "Limited (1): Poor writing quality with unclear structure and few scientific conventions",
                                    "Very Limited (0): Very poor writing and communication"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated critical analysis with well-reasoned arguments and evidence-based conclusions",
                                    "Good (3): Sound analysis with logical reasoning and supported conclusions",
                                    "Satisfactory (2): Basic analysis with simple reasoning and conclusions",
                                    "Limited (1): Limited analytical thinking with weak reasoning",
                                    "Very Limited (0): No evidence of critical analysis"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong contemporary relevance with detailed sociocultural, economic, or political context",
                                    "Good (1): Some contemporary connection with basic societal context",
                                    "Limited (0): No contemporary relevance or societal context"
                                ]
                            }
                        }
                    }
                },
                caseStudy: {
                    name: "Case Study Analysis (30 marks)",
                    description: "In-depth analysis of specific real-world application or contemporary issue",
                    suitableFor: ["Medical Technology", "Engineering Applications", "Environmental Physics", "Sports Science"],
                    duration: "4-5 weeks",
                    format: "Word count as sufficient for content + visual aids and data analysis",
                    assessmentModel: {
                        structure: [
                            "Case Study Selection & Rationale ",
                            "Physics Background & Theoretical Framework ",
                            "Case Study Description & Context ",
                            "Physics Analysis & Application ",
                            "Evaluation & Alternative Approaches ",
                            "Implications & Future Considerations ",
                            "Supporting Evidence & References"
                        ],
                        markAllocation: {
                            physicsKnowledge: {
                                marks: 12,
                                descriptors: [
                                    "Excellent (10-12): Physics principles expertly applied to case study with sophisticated understanding and accurate calculations",
                                    "Good (7-9): Physics well-applied to case study with mostly accurate understanding and calculations",
                                    "Satisfactory (4-6): Basic physics concepts applied to case study with some accuracy",
                                    "Limited (1-3): Limited physics application with significant errors in understanding",
                                    "Very Limited (0): No evidence of physics knowledge application to case study"
                                ]
                            },
                            investigation: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Comprehensive case study research with multiple credible sources and thorough background investigation",
                                    "Good (4): Good case study research with adequate sources and background information",
                                    "Satisfactory (2-3): Basic case study research with limited sources and minimal background",
                                    "Limited (1): Poor research quality with inadequate case study information",
                                    "Very Limited (0): No evidence of systematic case study investigation"
                                ]
                            },
                            communication: {
                                marks: 6,
                                descriptors: [
                                    "Excellent (5-6): Clear, engaging writing with excellent structure, visual aids, and scientific conventions",
                                    "Good (4): Clear communication with good structure and appropriate scientific conventions",
                                    "Satisfactory (2-3): Adequate communication with basic structure and some scientific conventions",
                                    "Limited (1): Poor communication with unclear structure and minimal scientific conventions",
                                    "Very Limited (0): Very poor communication quality"
                                ]
                            },
                            analysis: {
                                marks: 4,
                                descriptors: [
                                    "Excellent (4): Sophisticated case study analysis with critical evaluation and insightful conclusions",
                                    "Good (3): Sound analysis with logical evaluation and well-supported conclusions",
                                    "Satisfactory (2): Basic analysis with simple evaluation and conclusions",
                                    "Limited (1): Limited analytical thinking with weak evaluation",
                                    "Very Limited (0): No evidence of case study analysis"
                                ]
                            },
                            contemporary: {
                                marks: 2,
                                descriptors: [
                                    "Excellent (2): Strong contemporary relevance with clear societal, economic, or ethical implications",
                                    "Good (1): Some contemporary connection with basic real-world implications",
                                    "Limited (0): No contemporary relevance or real-world connection demonstrated"
                                ]
                            }
                        }
                    }
                }
            }
        };

        // Enhanced topic data with comprehensive VCAA information
        const topics = {
            "2.1": {
                title: "How does physics explain climate change?",
                description: "Explore thermal systems, greenhouse effects, and radiation physics to understand climate science",
                concepts: ["Radiation Transformation", "Greenhouse Gases", "Stefan-Boltzmann Law", "Wien's Law", "Enhanced Greenhouse Effect", "Electromagnetic Spectrum", "Thermal Data Analysis"],
                difficulty: "Medium",
                mathLevel: "Calculations with Wien's Law (λmaxT = constant) and Stefan-Boltzmann Law",
                relevance: "Highly relevant to current environmental debates and climate policy",
                presentation: "Excellent for data analysis, current events discussion, and evidence evaluation",
                assessmentModes: {
                    recommended: ["Research Investigation", "Scientific Poster", "Multimedia Presentation"],
                    considerations: [
                        "Strong focus on data analysis and evidence evaluation",
                        "Contemporary relevance allows for current case studies",
                        "Opportunity to address media arguments and public understanding",
                        "Mathematical calculations support quantitative analysis",
                        "Sociocultural and political factors are prominent"
                    ],
                    deliverables: [
                        "Climate data analysis with physics calculations",
                        "Evidence evaluation of climate change claims",
                        "Response to media arguments using physics principles",
                        "Policy recommendations based on scientific evidence"
                    ]
                },
                keyKnowledge: [
                    "Transformation of radiation through atmosphere and re-emission by Earth",
                    "How greenhouse gases (methane, water, CO₂) absorb and re-emit infrared radiation",
                    "Energy comparison across electromagnetic spectrum for different temperature objects",
                    "Wien's Law calculations for peak wavelength: λmaxT = constant",
                    "Stefan-Boltzmann Law for power radiated by bodies",
                    "Evidence analysis for human activity's enhanced greenhouse effect"
                ],
                contexts: [
                    "Impact of humans on Earth's surface materials and albedo changes",
                    "Evaluation of climate change evidence through physics principles",
                    "Physics-based comparison of industry vs individual impact on global warming",
                    "Response to media arguments about climate change using physics",
                    "Analysis of political stances on climate change through scientific evidence"
                ],
                vocabulary: ["Albedo", "Greenhouse Effect", "Infrared Radiation", "Stefan-Boltzmann Law", "Wien's Law", "Electromagnetic Spectrum", "Thermal Equilibrium", "Radiative Forcing", "Carbon Footprint", "Climate Sensitivity"],
                searchTerms: [
                    "VCE Physics climate change greenhouse effect Wien's law",
                    "Stefan-Boltzmann law climate physics calculations",
                    "Infrared radiation absorption greenhouse gases physics",
                    "Earth thermal balance electromagnetic spectrum",
                    "Climate data analysis physics evidence global warming",
                    "Albedo changes human impact physics explanation"
                ],
                aiPrompts: [
                    "Explain how Wien's Law (λmaxT = constant) applies to Earth's climate system and calculate the peak wavelength of Earth's re-radiated electromagnetic radiation for a VCE Physics presentation",
                    "Using the Stefan-Boltzmann Law, explain how greenhouse gases affect Earth's thermal equilibrium and provide calculations showing the enhanced greenhouse effect",
                    "Analyze the physics behind climate change evidence, including radiation transformation through the atmosphere and the role of different greenhouse gases (CO₂, CH₄, H₂O)",
                    "Create a physics-based response to climate change skepticism, using electromagnetic spectrum analysis and thermal data interpretation",
                    "Compare the physics of natural vs enhanced greenhouse effects, including energy balance calculations and radiative forcing concepts"
                ]
            },
            "2.2": {
                title: "How do fusion and fission compare as viable nuclear energy power sources?",
                description: "Compare nuclear reactions, energy production, and environmental impacts of nuclear power",
                concepts: ["Nuclear Fusion", "Nuclear Fission", "Mass-Energy Equivalence", "Neutron Absorption", "Radiation Safety", "Energy Conversion Systems"],
                difficulty: "High",
                mathLevel: "Complex nuclear physics calculations and energy conversions",
                relevance: "Critical for future energy policy and climate change mitigation",
                presentation: "Excellent for comparative analysis and risk-benefit evaluation",
                assessmentModes: {
                    recommended: ["Research Investigation", "Scientific Presentation", "Written Report"],
                    considerations: [
                        "Complex physics requires detailed explanation and calculations",
                        "Comparative analysis suits structured investigation format",
                        "Risk-benefit evaluation involves sociocultural factors",
                        "Technical content benefits from visual representations",
                        "Current energy policy debates provide contemporary context"
                    ],
                    deliverables: [
                        "Quantitative comparison of fusion vs fission energy yields",
                        "Risk assessment including safety and environmental factors",
                        "Policy analysis considering economic and social implications",
                        "Technical diagrams explaining nuclear processes"
                    ]
                },
                keyKnowledge: [
                    "Proton-proton and deuterium-tritium fusion reactions: reactants, products, energy",
                    "Fusion reactant availability and energy production per mass of fuel",
                    "²³⁵U and ²³⁹Pu fission: initiation by slow/fast neutrons, products, energy",
                    "Unstable fission fragment radiation and neutron absorption in ²³⁸U",
                    "Energy transfers in nuclear-to-thermal-to-electrical conversion systems",
                    "Societal risks and benefits of nuclear energy as power source"
                ],
                contexts: [
                    "Media arguments validity regarding nuclear energy as power source",
                    "Fission vs fusion viability comparison: benefits, risks, environmental impacts",
                    "Reactant availability, mass-to-energy conversion percentages comparison",
                    "Nuclear waste management and environmental impact assessment"
                ],
                vocabulary: ["Nuclear Fusion", "Nuclear Fission", "Deuterium", "Tritium", "Uranium-235", "Plutonium-239", "Critical Mass", "Half-life", "Radioactive Decay", "Nuclear Reactor", "Containment", "Neutron Moderation"],
                searchTerms: [
                    "VCE Physics nuclear fusion vs fission energy comparison",
                    "Deuterium tritium fusion reaction energy calculations",
                    "Uranium-235 plutonium-239 fission physics high school",
                    "Nuclear reactor energy conversion thermal to electrical",
                    "Nuclear power safety risks benefits analysis physics",
                    "Mass energy equivalence E=mc2 nuclear reactions"
                ],
                aiPrompts: [
                    "Compare deuterium-tritium fusion and uranium-235 fission reactions, including reactants, products, and energy calculations for a VCE Physics presentation",
                    "Explain the physics of nuclear energy conversion from nuclear reactions to electrical power, including all energy transformation stages",
                    "Analyze the availability of fusion reactants (deuterium, tritium) versus fission fuel (uranium-235, plutonium-239) and calculate energy per unit mass",
                    "Evaluate the physics-based risks and benefits of nuclear fusion versus fission power sources, including radiation and waste considerations",
                    "Explain neutron absorption in uranium-238 and the formation of plutonium-239, including the nuclear physics principles involved"
                ]
            },
            "2.3": {
                title: "How do heavy things fly?",
                description: "Investigate aerodynamics, flight forces, and aerospace engineering principles",
                concepts: ["Aerodynamic Forces", "Bernoulli's Principle", "Momentum Conservation", "Flight Control", "Supersonic Flight", "Aircraft Design"],
                difficulty: "Medium",
                mathLevel: "Force analysis, momentum calculations, and flight dynamics",
                relevance: "Aviation industry, aerospace engineering, and transportation technology",
                presentation: "Great for demonstrations, models, and force analysis",
                assessmentModes: {
                    recommended: ["Scientific Presentation", "Practical Investigation", "Scientific Poster"],
                    considerations: [
                        "Excellent for hands-on demonstrations and models",
                        "Visual concepts suit presentation and poster formats",
                        "Force analysis can be demonstrated practically",
                        "Real-world applications in aviation provide strong context",
                        "Mathematical calculations support quantitative analysis"
                    ],
                    deliverables: [
                        "Physical models demonstrating flight principles",
                        "Force analysis calculations for different flight conditions",
                        "Aerodynamic comparisons using wind tunnel data",
                        "Case study of aircraft design evolution"
                    ]
                },
                keyKnowledge: [
                    "Four forces in flight: gravity at centre of mass, thrust, lift at centre of pressure, drag",
                    "Aerodynamic lift production via Bernoulli's principle and momentum conservation/downwash",
                    "Drag components: skin friction, form drag, and lift-induced drag",
                    "Thrust production using Newton's laws of motion",
                    "Force and torque balance for flight stages and aircraft control"
                ],
                contexts: [
                    "Aircraft lift generation when flying upside down",
                    "Supersonic flight: compressibility, shock waves, increased drag",
                    "Flight concepts in boomerangs, kites, helicopters beyond conventional aircraft",
                    "Aerospace design applications and flight control systems"
                ],
                vocabulary: ["Aerodynamics", "Bernoulli's Principle", "Lift", "Drag", "Thrust", "Centre of Pressure", "Angle of Attack", "Airfoil", "Downwash", "Supersonic", "Mach Number", "Shock Wave"],
                searchTerms: [
                    "VCE Physics flight aerodynamics Bernoulli principle lift",
                    "Aircraft forces thrust lift drag weight physics",
                    "Supersonic flight shock waves compressibility physics",
                    "Airfoil design centre of pressure aerodynamics",
                    "Newton's laws thrust production aircraft physics",
                    "Flight control torque balance physics calculations"
                ],
                aiPrompts: [
                    "Explain how aircraft generate lift using both Bernoulli's principle and momentum conservation (downwash), including the physics behind inverted flight",
                    "Analyze the four forces acting on an aircraft (lift, drag, thrust, weight) and explain their balance during different flight phases for VCE Physics",
                    "Compare the physics of subsonic and supersonic flight, including shock wave formation and compressibility effects on drag",
                    "Explain thrust production in aircraft using Newton's laws of motion and calculate the momentum change in air",
                    "Describe the different types of drag (skin friction, form drag, lift-induced drag) and their physics principles"
                ]
            },
            "2.4": {
                title: "How do forces act on structures and materials?",
                description: "Analyze stress, strain, material properties, and structural engineering",
                concepts: ["Stress & Strain", "Young's Modulus", "Material Testing", "Structural Stability", "Force Analysis", "Material Properties"],
                difficulty: "Medium",
                mathLevel: "Stress-strain calculations: σ = F/A, ε = Δl/l, E = σ/ε",
                relevance: "Civil engineering, architecture, and materials science",
                presentation: "Excellent for hands-on testing and mathematical analysis",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Poster", "Written Report"],
                    considerations: [
                        "Ideal for hands-on material testing and data collection",
                        "Mathematical calculations provide quantitative analysis opportunities",
                        "Real-world structural examples offer strong contemporary context",
                        "Material property comparisons suit comparative analysis format",
                        "Engineering applications involve economic and safety factors"
                    ],
                    deliverables: [
                        "Experimental stress-strain analysis of different materials",
                        "Structural case study with force analysis calculations",
                        "Material selection recommendations for specific applications",
                        "Safety factor calculations and engineering design principles"
                    ]
                },
                keyKnowledge: [
                    "External force types: compression, tension, shear, gravitational forces",
                    "Structural stability using translational/rotational forces and centre of mass",
                    "Stress and strain calculations: σ = F/A, ε = Δl/l",
                    "Material behavior: Young's modulus E = σ/ε, stress-strain graphs",
                    "Elastic vs plastic behavior, area under stress-strain curves",
                    "Material suitability: tensile/compressive strength, stiffness, flexibility"
                ],
                contexts: [
                    "Contemporary architecture case studies and structural analysis",
                    "Physical testing of materials and structures for specific purposes",
                    "Structural stability design and optimization strategies",
                    "Contemporary materials: ceramics, superalloys, composites in structures"
                ],
                vocabulary: ["Stress", "Strain", "Young's Modulus", "Elastic Deformation", "Plastic Deformation", "Tensile Strength", "Compressive Strength", "Shear Force", "Moment", "Torque", "Centre of Mass", "Factor of Safety"],
                searchTerms: [
                    "VCE Physics stress strain Young's modulus calculations",
                    "Material testing tensile compressive strength physics",
                    "Structural forces compression tension shear analysis",
                    "Elastic plastic deformation stress-strain graphs",
                    "Building materials strength stiffness flexibility physics",
                    "Centre of mass structural stability physics"
                ],
                aiPrompts: [
                    "Explain stress and strain calculations (σ = F/A, ε = Δl/l) and Young's modulus (E = σ/ε) with practical examples for VCE Physics",
                    "Compare elastic and plastic deformation in materials, including stress-strain graphs and the significance of yield point",
                    "Analyze how different forces (compression, tension, shear) act on structures and calculate their effects on materials",
                    "Evaluate material properties for structural applications, comparing tensile strength, compressive strength, and stiffness",
                    "Explain structural stability using centre of mass and torque balance, with real-world architectural examples"
                ]
            },
            "2.5": {
                title: "How do forces act on the human body?",
                description: "Explore biomechanics, prosthetics, and the physics of living systems",
                concepts: ["Biomechanics", "Centre of Mass", "Prosthetics", "Material Properties", "Human Movement", "Bioengineering"],
                difficulty: "Medium",
                mathLevel: "Centre of mass calculations, stress-strain analysis for biological materials",
                relevance: "Medical technology, sports science, and rehabilitation engineering",
                presentation: "Great for practical applications and case studies",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Case Study Analysis", "Scientific Presentation"],
                    considerations: [
                        "Biomechanical experiments provide excellent hands-on opportunities",
                        "Prosthetics case studies offer strong contemporary relevance",
                        "Human movement analysis can be demonstrated practically",
                        "Medical applications provide meaningful real-world context",
                        "Material testing connects to engineering applications"
                    ],
                    deliverables: [
                        "Centre of mass calculations for human body segments",
                        "Biomechanical force analysis during movement",
                        "Prosthetics material comparison and testing",
                        "Case study of joint replacement or artificial limb design"
                    ]
                },
                keyKnowledge: [
                    "Centre of mass calculations: xₘ = (x₁m₁ + x₂m₂ + ... + xₙmₙ)/(m₁ + m₂ + ... + mₙ)",
                    "Translational forces (gravitational, compressive, tensile, shear) and torques",
                    "Stress-strain in organic structures (bone, muscle): σ = F/A, ε = Δl/l",
                    "Living tissue behavior: Young's modulus, stress-strain graphs, elastic/plastic behavior",
                    "Material properties: bone, tendons, muscle strength, stiffness, toughness, flexibility",
                    "Prosthetics development: external limb replacement, internal prostheses (hip, valve)"
                ],
                contexts: [
                    "Forces on body during physical movement in sport or dance",
                    "Artificial materials and structures development for prosthetics",
                    "External prostheses for lost limb replacement case studies",
                    "Internal prostheses: hip replacements, valve replacements",
                    "Implantation challenges within human body",
                    "Artificial vs natural limb performance: function and longevity comparison"
                ],
                vocabulary: ["Biomechanics", "Centre of Mass", "Prosthetics", "Biocompatibility", "Osseointegration", "Gait Analysis", "Range of Motion", "Load-bearing", "Bone Density", "Muscle Contraction", "Joint Mechanics"],
                searchTerms: [
                    "VCE Physics biomechanics centre of mass calculations",
                    "Human body forces stress strain bone muscle physics",
                    "Prosthetics physics material properties biocompatibility",
                    "Sports biomechanics force analysis movement physics",
                    "Bone tissue Young's modulus mechanical properties",
                    "Hip replacement prosthetics physics engineering"
                ],
                aiPrompts: [
                    "Calculate the centre of mass for human body segments and explain its importance in biomechanics and prosthetics design for VCE Physics",
                    "Compare the material properties of bone, muscle, and tendons using stress-strain analysis and Young's modulus calculations",
                    "Analyze forces acting on the human body during athletic movements, including compression, tension, and shear forces",
                    "Evaluate the physics challenges in prosthetics design, comparing artificial materials with natural tissue properties",
                    "Explain the biomechanics of joint replacement, including load distribution and material compatibility considerations"
                ]
            },
            "2.6": {
                title: "How is radiation used to maintain human health?",
                description: "Medical imaging, radiation therapy, and nuclear medicine applications",
                concepts: ["Medical Radiation", "X-ray Production", "Radioisotopes", "Medical Imaging", "Radiation Therapy", "Nuclear Medicine"],
                difficulty: "Medium-High",
                mathLevel: "Radiation physics calculations and image interpretation",
                relevance: "Medical technology advancement and healthcare improvement",
                presentation: "Excellent for case studies and technology comparison",
                assessmentModes: {
                    recommended: ["Research Investigation", "Case Study Analysis", "Scientific Presentation"],
                    considerations: [
                        "Medical imaging technology provides rich case study opportunities",
                        "Radiation physics requires detailed research and explanation",
                        "Healthcare applications offer strong contemporary relevance",
                        "Safety and ethics considerations add depth to analysis",
                        "Technology comparison suits investigation format"
                    ],
                    deliverables: [
                        "Medical imaging technique comparison with physics principles",
                        "Radioisotope therapy case study with dose calculations",
                        "Risk-benefit analysis of different imaging methods",
                        "Historical development of medical radiation technology"
                    ]
                },
                keyKnowledge: [
                    "X-ray production for medical use: soft vs hard X-rays distinction",
                    "Medical radioisotope production: neutron bombardment, high energy collisions",
                    "Ionising vs non-ionising radiation effects on living tissues and cells",
                    "Medical imaging comparison: X-rays, CT, γ radiation, MRI, SPECT, PET",
                    "Medical radioisotope applications in imaging and diagnosis",
                    "α, β, γ radiation detection and penetrating properties in medical applications"
                ],
                contexts: [
                    "α, β, γ radiation effects on humans: cell damage capacity, dose effects",
                    "Medical radioisotope therapy: effects on healthy vs damaged tissues",
                    "Medical imaging cost evaluation and equity consequences",
                    "Matter-antimatter annihilation physics research leading to medical technology",
                    "Imaging technique risk-benefit evaluation",
                    "New research potentially leading to improved imaging technology"
                ],
                vocabulary: ["Ionizing Radiation", "Radioisotope", "Half-life", "X-ray", "Computed Tomography", "MRI", "PET Scan", "Gamma Ray", "Alpha Particle", "Beta Particle", "Radiation Therapy", "Medical Physics"],
                searchTerms: [
                    "VCE Physics medical radiation X-ray CT MRI comparison",
                    "Radioisotopes medical imaging nuclear medicine physics",
                    "Ionizing radiation effects living tissue cell damage",
                    "PET scan physics positron emission tomography",
                    "Alpha beta gamma radiation medical applications",
                    "Medical physics radiation therapy treatment physics"
                ],
                aiPrompts: [
                    "Compare medical imaging techniques (X-ray, CT, MRI, PET, SPECT) explaining the physics principles behind each for VCE Physics",
                    "Explain how medical radioisotopes are produced and used in diagnosis and therapy, including half-life considerations",
                    "Analyze the effects of ionizing radiation (α, β, γ) on living tissue and explain their different medical applications",
                    "Describe X-ray production for medical use, distinguishing between soft and hard X-rays and their applications",
                    "Evaluate the physics behind PET scans, including positron-electron annihilation and gamma ray detection"
                ]
            },
            "2.7": {
                title: "How does the human body use electricity?",
                description: "Bioelectricity, nerve transmission, and electrical properties of living systems",
                concepts: ["Bioelectricity", "Action Potentials", "Ion Channels", "Neural Transmission", "Heart Rhythm", "Electrical Resistance"],
                difficulty: "High",
                mathLevel: "Electrical circuit analysis and bioelectrical calculations",
                relevance: "Medical devices, neuroscience, and biomedical engineering",
                presentation: "Great for interactive demonstrations and circuit modeling",
                assessmentModes: {
                    recommended: ["Scientific Presentation", "Research Investigation", "Case Study Analysis"],
                    considerations: [
                        "Complex bioelectrical concepts benefit from visual explanations",
                        "Medical device applications provide strong contemporary relevance",
                        "Circuit modeling can be demonstrated with practical examples",
                        "Neurological conditions offer meaningful case study opportunities",
                        "Ethical considerations in biomedical technology are important"
                    ],
                    deliverables: [
                        "Action potential modeling with electrical circuit analogies",
                        "ECG/EEG analysis with physics explanations",
                        "Medical device case study (defibrillators, pacemakers)",
                        "Bioelectrical resistance measurements and analysis"
                    ]
                },
                keyKnowledge: [
                    "Charge carriers in human body (Na⁺, K⁺, Ca²⁺, Mg²⁺, PO₄³⁻, Cl⁻) vs metals (electrons)",
                    "Nervous system electrical control: action potentials and neurotransmitter chemical transfer",
                    "Action potential modeling: ion channels, membrane potential changes",
                    "Depolarisation, repolarisation, hyperpolarisation, return to resting state",
                    "Heart beat electrical production: nodes in atrial/ventricular muscles, signal timing",
                    "Current effects through human body and electrical resistance variations"
                ],
                contexts: [
                    "Defibrillator operation and cardiac rhythm restoration",
                    "Biomedical diagnosis: ECGs (electrocardiograms), EEGs (electroencephalograms)",
                    "Electrodermal response in polygraphs and biotherapy feedback",
                    "Neuroplasticity and brain adaptation mechanisms",
                    "Light detection and color perception by eye photoreceptors",
                    "Brain-controlled electrical devices and neural interfaces"
                ],
                vocabulary: ["Action Potential", "Depolarization", "Ion Channel", "Membrane Potential", "Neurotransmitter", "Synapse", "ECG", "EEG", "Bioelectricity", "Neural Network", "Stimulus", "Refractory Period"],
                searchTerms: [
                    "VCE Physics bioelectricity action potential ion channels",
                    "Human body electrical resistance heart ECG physics",
                    "Neural transmission neurotransmitter synapse physics",
                    "Defibrillator physics cardiac rhythm electrical current",
                    "Brain electricity EEG neuroplasticity physics",
                    "Membrane potential depolarization repolarization physics"
                ],
                aiPrompts: [
                    "Explain the physics of action potentials including ion channels, depolarization, and repolarization phases for VCE Physics",
                    "Compare charge carriers in the human body (ions) versus metals (electrons) and explain the implications for bioelectricity",
                    "Analyze the electrical system of the heart, including ECG readings and the physics behind cardiac rhythm",
                    "Describe how defibrillators work using electrical physics principles and their effect on cardiac muscle",
                    "Explain the physics of neural transmission from electrical signals to chemical neurotransmitters across synapses"
                ]
            },
            "2.8": {
                title: "How can human vision be enhanced?",
                description: "Optics, lenses, vision correction, and optical instruments",
                concepts: ["Geometric Optics", "Lens Systems", "Vision Correction", "Optical Instruments", "Image Formation", "Light Behavior"],
                difficulty: "Medium",
                mathLevel: "Lens equations: 1/f = 1/u + 1/v, magnification M = -v/u",
                relevance: "Medical technology, astronomy, and optical engineering",
                presentation: "Excellent for practical demonstrations and ray tracing",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Presentation", "Scientific Poster"],
                    considerations: [
                        "Lens experiments provide excellent hands-on investigation opportunities",
                        "Ray tracing diagrams suit visual presentation formats",
                        "Vision correction has immediate personal relevance for students",
                        "Optical instruments connect to astronomy and medical applications",
                        "Mathematical calculations support quantitative analysis"
                    ],
                    deliverables: [
                        "Lens system experiments with focal length measurements",
                        "Vision correction analysis with prescription calculations",
                        "Optical instrument design and performance comparison",
                        "Ray tracing diagrams for complex lens systems"
                    ]
                },
                keyKnowledge: [
                    "Image formation: pinhole cameras, convex and concave lenses",
                    "Thin lens calculations: 1/f = 1/u + 1/v, image positions and sizes M = -v/u",
                    "Two-lens telescope and microscope operation principles",
                    "Human vision modeling: spherical surface refraction, accommodation, aging effects",
                    "Short-sightedness vs long-sightedness: concave vs convex lens correction",
                    "Lens power applications: P = 1/f for eyeglasses, sunglasses investigation"
                ],
                contexts: [
                    "Aging effects on human eye and vision consequences",
                    "Cataract blindness treatment using intraocular lenses",
                    "Bionic eye operation mechanisms and technology",
                    "Sunglasses quality evaluation for specific purposes and UV protection",
                    "New technologies improving visual information collection from space"
                ],
                vocabulary: ["Focal Length", "Refraction", "Accommodation", "Myopia", "Hyperopia", "Astigmatism", "Intraocular Lens", "Cornea", "Retina", "Pupil", "Iris", "Visual Acuity"],
                searchTerms: [
                    "VCE Physics lens equations 1/f=1/u+1/v vision correction",
                    "Myopia hyperopia physics convex concave lens treatment",
                    "Human eye accommodation refraction physics",
                    "Telescope microscope optics two lens system physics",
                    "Cataract intraocular lens physics eye surgery",
                    "Bionic eye artificial vision physics technology"
                ],
                aiPrompts: [
                    "Explain lens equations (1/f = 1/u + 1/v) and magnification (M = -v/u) with examples for vision correction and optical instruments",
                    "Compare myopia and hyperopia using physics principles and explain their correction with convex and concave lenses",
                    "Describe the physics of human vision including accommodation, refraction, and the effects of aging on the eye",
                    "Analyze the operation of telescopes and microscopes using two-lens systems and ray tracing diagrams",
                    "Explain the physics behind cataract treatment and intraocular lens implantation for vision restoration"
                ]
            },
            "2.9": {
                title: "How is physics used in photography?",
                description: "Image formation, camera technology, and photographic principles",
                concepts: ["Image Formation", "Camera Systems", "Digital vs Analog", "Light Behavior", "Optical Effects", "Photography Technology"],
                difficulty: "Medium",
                mathLevel: "Lens equations and image formation calculations",
                relevance: "Technology advancement and digital media",
                presentation: "Great for visual demonstrations and technology comparison",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Presentation", "Scientific Poster"],
                    considerations: [
                        "Lens experiments provide excellent hands-on investigation opportunities",
                        "Visual demonstrations suit presentation and poster formats",
                        "Camera technology evolution offers contemporary context",
                        "Image formation principles can be tested practically",
                        "Digital vs analog comparison suits investigation approach"
                    ],
                    deliverables: [
                        "Lens system experiments with focal length measurements",
                        "Camera design comparison between film and digital",
                        "Aperture and shutter speed effects investigation",
                        "Image quality analysis with different optical setups"
                    ]
                },
                keyKnowledge: [
                    "Image formation: pinhole cameras, convex and concave lenses",
                    "Thin lens calculations: 1/f = 1/u + 1/v, image sizes M = -v/u",
                    "Two-lens camera operation and optical system design",
                    "Image formation effects: polarising lenses, colour filters, aperture, shutter speed",
                    "Traditional vs digital camera image formation comparison"
                ],
                contexts: [
                    "Camera design improvements for better image formation",
                    "Digital photography's societal impact and technological revolution",
                    "Traditional vs digital camera image quality comparison",
                    "Technology developments in digital cameras and smartphones for imaging"
                ],
                vocabulary: ["Aperture", "Shutter Speed", "ISO", "Focal Length", "Depth of Field", "Exposure", "Digital Sensor", "Pixel", "Resolution", "White Balance", "Chromatic Aberration"],
                searchTerms: [
                    "VCE Physics photography camera lens equations aperture",
                    "Digital vs film camera image formation physics",
                    "Aperture shutter speed exposure physics photography",
                    "Camera lens system focal length depth field physics",
                    "Polarizing filters color filters physics photography",
                    "Digital sensor pixel resolution physics cameras"
                ],
                aiPrompts: [
                    "Explain the physics of camera image formation using lens equations and compare pinhole cameras with lens cameras",
                    "Analyze how aperture, shutter speed, and focal length affect image formation in photography using physics principles",
                    "Compare traditional film photography with digital camera technology, explaining the physics behind each system",
                    "Describe the effects of polarizing lenses and color filters on image formation using light physics",
                    "Explain how digital sensors work and compare their physics with traditional photographic film"
                ]
            },
            "2.10": {
                title: "How do instruments make music?",
                description: "Sound waves, resonance, acoustics, and musical instrument physics",
                concepts: ["Sound Waves", "Resonance", "Harmonics", "Acoustics", "Musical Instruments", "Wave Properties"],
                difficulty: "Medium",
                mathLevel: "Wave mathematics, frequency calculations, and harmonic analysis",
                relevance: "Music technology, audio engineering, and acoustical engineering",
                presentation: "Excellent for audio demonstrations and instrument analysis",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Presentation", "Scientific Poster"],
                    considerations: [
                        "Sound wave experiments provide excellent practical investigation opportunities",
                        "Audio demonstrations work well in presentation format",
                        "Instrument analysis suits both poster and presentation formats",
                        "Resonance and harmonics can be measured and analyzed",
                        "Music technology offers contemporary relevance"
                    ],
                    deliverables: [
                        "Sound frequency analysis of different instruments",
                        "Resonance tube experiments with harmonic measurements",
                        "Instrument design comparison using physics principles",
                        "Sound intensity and decibel level investigations"
                    ]
                },
                keyKnowledge: [
                    "Sound as longitudinal pressure wave energy transmission",
                    "Sound intensity (W m⁻²) vs sound intensity level (dB) distinction",
                    "Sound intensity inverse square law calculations at different distances",
                    "Resonance related to natural frequency, timbre from multiple resonances",
                    "Natural frequency factors: shape, material, instrument design implications",
                    "String and tube (open/closed) fundamental and harmonic analysis for instruments"
                ],
                contexts: [
                    "Human voice box as resonance chamber with vocal chord vibration",
                    "Sound effects and appealing chord progressions/cadences to human ear",
                    "Frequency response curves and hearing ability changes with age",
                    "Cochlear implant operation and hearing restoration technology",
                    "Psychoacoustics and sound perception psychology"
                ],
                vocabulary: ["Resonance", "Harmonics", "Fundamental Frequency", "Timbre", "Acoustics", "Sound Wave", "Decibel", "Pitch", "Amplitude", "Wavelength", "Doppler Effect", "Beat Frequency"],
                searchTerms: [
                    "VCE Physics musical instruments resonance harmonics acoustics",
                    "Sound wave physics frequency wavelength instrument design",
                    "String vibration fundamental frequency harmonics physics",
                    "Resonance tube open closed pipe physics music",
                    "Sound intensity decibel calculations physics",
                    "Human voice physics vocal cords resonance chamber"
                ],
                aiPrompts: [
                    "Explain the physics of musical instrument sound production, including resonance, harmonics, and timbre for VCE Physics",
                    "Analyze string vibration physics and calculate fundamental frequencies and harmonics for musical instruments",
                    "Compare sound production in different instrument types (brass, string, woodwind, percussion) using physics principles",
                    "Describe the physics of resonance tubes (open and closed pipes) and their application in wind instruments",
                    "Explain sound intensity and sound intensity level (decibels), including inverse square law calculations"
                ]
            },
            "2.11": {
                title: "How can performance in ball sports be improved?",
                description: "Mechanics, collisions, projectile motion, and sports physics",
                concepts: ["Projectile Motion", "Collisions", "Friction", "Air Resistance", "Magnus Effect", "Sports Biomechanics"],
                difficulty: "Medium",
                mathLevel: "Kinematics, dynamics, collision analysis, and trajectory calculations",
                relevance: "Sports science, equipment design, and athletic performance",
                presentation: "Great for practical experiments and performance analysis",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Presentation", "Case Study Analysis"],
                    considerations: [
                        "Excellent opportunities for experimental data collection",
                        "Sports applications provide engaging contemporary context",
                        "Mathematical modeling of trajectories and collisions",
                        "Video analysis can support quantitative measurements",
                        "Equipment design considerations involve engineering factors"
                    ],
                    deliverables: [
                        "Experimental analysis of ball trajectories and optimal angles",
                        "Collision coefficient measurements for different sports",
                        "Video analysis of sporting techniques with physics explanations",
                        "Equipment design recommendations based on physics principles"
                    ]
                },
                keyKnowledge: [
                    "Momentum transfer in elastic/inelastic collisions (2D), coefficient of restitution e",
                    "Static and kinetic friction coefficients for sliding/rolling balls, Newton's laws",
                    "Rolling spherical objects: angular and linear speeds v = rω",
                    "Air resistance and terminal velocity: vterminal = √(2mg/(CDρA))",
                    "Constant acceleration equations for projectile flight (2D, air resistance neglected)",
                    "Ball flight with air resistance and spinning balls Magnus effect (qualitative)"
                ],
                contexts: [
                    "Selected sport analysis or ball sports comparison focus",
                    "Racquet, club, stick, or ball swing mechanics and optimization",
                    "Ball throw, pitch, hurl technique and trajectory analysis",
                    "Ball kick mechanics and flight path optimization",
                    "Equipment dynamics, material effects, aerodynamics of ball shapes/textures"
                ],
                vocabulary: ["Projectile Motion", "Magnus Effect", "Coefficient of Restitution", "Terminal Velocity", "Drag Coefficient", "Angular Velocity", "Momentum", "Kinetic Energy", "Trajectory", "Spin Rate", "Launch Angle"],
                searchTerms: [
                    "VCE Physics ball sports projectile motion collision analysis",
                    "Magnus effect spinning ball physics sports science",
                    "Coefficient of restitution elastic collision ball physics",
                    "Terminal velocity air resistance ball physics",
                    "Sports equipment physics racquet ball optimization",
                    "Angular velocity rolling ball physics v=rω"
                ],
                aiPrompts: [
                    "Analyze projectile motion in ball sports including launch angle optimization and range calculations for VCE Physics",
                    "Explain the Magnus effect on spinning balls and its applications in different sports using physics principles",
                    "Calculate momentum transfer in ball collisions using the coefficient of restitution for elastic and inelastic collisions",
                    "Describe air resistance effects on ball flight, including terminal velocity calculations and drag coefficients",
                    "Compare the physics of rolling versus sliding balls, including friction coefficients and angular motion"
                ]
            },
            "2.12": {
                title: "How can AC electricity charge a DC device?",
                description: "Power conversion, electrical circuits, and electronic systems",
                concepts: ["AC/DC Conversion", "Transformers", "Rectification", "Electronic Circuits", "Power Systems", "Signal Processing"],
                difficulty: "High",
                mathLevel: "Complex electrical calculations, circuit analysis, and power electronics",
                relevance: "Power electronics, renewable energy, and modern technology",
                presentation: "Excellent for circuit demonstrations and system analysis",
                assessmentModes: {
                    recommended: ["Practical Investigation", "Scientific Presentation", "Research Investigation"],
                    considerations: [
                        "Circuit building and testing provides excellent practical investigation opportunities",
                        "Complex electrical concepts benefit from presentation format with demonstrations",
                        "Power electronics technology offers rich research investigation potential",
                        "Mathematical calculations support quantitative analysis",
                        "Renewable energy connections provide contemporary relevance"
                    ],
                    deliverables: [
                        "AC to DC conversion circuit construction and testing",
                        "Transformer voltage ratio experiments and calculations",
                        "Capacitor charging/discharging time constant measurements",
                        "Power supply efficiency analysis and optimization"
                    ]
                },
                keyKnowledge: [
                    "Transformer role in power supply: voltage ratio analysis and power transfer",
                    "Diode applications: half-wave and full-wave bridge rectification circuits",
                    "Capacitor effects: voltage drop, current change, charging/discharging (τ = RC)",
                    "DC power supply smoothing using capacitors and filtering",
                    "Voltage regulators: Zener diodes and integrated circuits for stable output",
                    "Sensors (thermistors, LDRs) triggering output devices, light sources comparison"
                ],
                contexts: [
                    "Reliable power sources importance for new technologies",
                    "Light sources evaluation (bulbs, LEDs, lasers) for data transfer suitability",
                    "Fibre optics communication: limitations and benefits analysis",
                    "Contemporary technologies for expedient data transfer investigation",
                    "Signal smoothing technology advancements and applications"
                ],
                vocabulary: ["Transformer", "Rectification", "Capacitor", "Voltage Regulator", "Zener Diode", "Time Constant", "Ripple", "Smoothing", "Power Supply", "AC/DC Converter", "Bridge Rectifier"],
                searchTerms: [
                    "VCE Physics AC DC conversion transformer rectification",
                    "Bridge rectifier diode circuit physics power supply",
                    "Capacitor charging discharging RC time constant physics",
                    "Voltage regulator Zener diode physics circuits",
                    "Power electronics transformer voltage ratio physics",
                    "LED laser data transfer physics light sources"
                ],
                aiPrompts: [
                    "Explain AC to DC conversion using transformers, rectifiers, and smoothing circuits with calculations for VCE Physics",
                    "Analyze bridge rectification circuits and explain how diodes convert AC to pulsed DC with waveform diagrams",
                    "Describe capacitor charging and discharging in power supplies, including RC time constant calculations (τ = RC)",
                    "Compare different voltage regulation methods including Zener diodes and integrated circuits for stable DC output",
                    "Evaluate different light sources (bulbs, LEDs, lasers) for data transfer applications using physics principles"
                ]
            },
            "2.13": {
                title: "How do astrophysicists investigate stars and black holes?",
                description: "Stellar physics, cosmology, and space-time investigations",
                concepts: ["Stellar Evolution", "Black Holes", "Spectroscopy", "Relativity", "Cosmology", "Astrophysics"],
                difficulty: "High",
                mathLevel: "Advanced physics: Schwarzschild radius rs = 2GM/c², stellar classifications",
                relevance: "Space exploration, fundamental physics, and cosmological understanding",
                presentation: "Great for data analysis, theoretical exploration, and current research",
                assessmentModes: {
                    recommended: ["Research Investigation", "Written Report", "Scientific Presentation"],
                    considerations: [
                        "Astrophysics research provides excellent investigation opportunities with current data",
                        "Complex theoretical concepts benefit from detailed written explanation",
                        "Space research offers cutting-edge contemporary relevance",
                        "Mathematical modeling and calculations are central to stellar physics",
                        "International collaboration aspects add sociocultural context"
                    ],
                    deliverables: [
                        "Stellar evolution analysis using Hertzsprung-Russell diagram",
                        "Black hole physics calculations including Schwarzschild radius",
                        "Spectroscopic data analysis for stellar classification",
                        "Contemporary space research evaluation and future directions"
                    ]
                },
                keyKnowledge: [
                    "Stellar investigation methods: light analysis, distance measurements to stars/galaxies",
                    "Star properties: luminosity, radius, mass, temperature, spectral type classification",
                    "Nuclear fusion phenomena in different sized stars and energy production",
                    "Hertzsprung-Russell diagram for stellar evolution and death with different masses",
                    "Black hole event horizon and Schwarzschild radius: rs = 2GM/c²",
                    "Black hole gravitational field effects on space and time"
                ],
                contexts: [
                    "Challenges in detecting stellar information and data quality issues",
                    "Knowledge changes from improved stellar information collection methods",
                    "Stellar data evaluation and interpretation techniques",
                    "Black hole hypothesis development and identification through space research",
                    "Contemporary stellar astronomy research efficiency evaluation"
                ],
                vocabulary: ["Event Horizon", "Schwarzschild Radius", "Hertzsprung-Russell Diagram", "Stellar Evolution", "Spectroscopy", "Redshift", "Luminosity", "Main Sequence", "White Dwarf", "Neutron Star", "Supernova"],
                searchTerms: [
                    "VCE Physics stellar evolution HR diagram black holes",
                    "Schwarzschild radius rs=2GM/c² black hole physics",
                    "Stellar spectroscopy redshift distance measurement physics",
                    "Nuclear fusion stars stellar classification physics",
                    "Event horizon space-time curvature black hole physics",
                    "Hertzsprung Russell diagram stellar evolution physics"
                ],
                aiPrompts: [
                    "Explain stellar evolution using the Hertzsprung-Russell diagram and describe how stars of different masses live and die",
                    "Calculate the Schwarzschild radius (rs = 2GM/c²) for black holes and explain the physics of event horizons",
                    "Describe how astrophysicists use spectroscopy to determine stellar properties including temperature, composition, and motion",
                    "Analyze nuclear fusion processes in stars of different masses and explain how they produce energy and heavier elements",
                    "Explain how black holes affect space and time according to general relativity and their observational signatures"
                ]
            },
            "2.14": {
                title: "How can we detect possible life beyond Earth's Solar System?",
                description: "Exoplanet detection, astrobiology, and search for extraterrestrial intelligence",
                concepts: ["Exoplanet Detection", "Spectroscopy", "Doppler Shift", "Drake Equation", "SETI", "Astrobiology"],
                difficulty: "High",
                mathLevel: "Data analysis, probability calculations, Doppler shift: Δλ/λ = v/c",
                relevance: "Space exploration, astrobiology, and fundamental questions about life",
                presentation: "Excellent for data interpretation and theoretical analysis",
                assessmentModes: {
                    recommended: ["Research Investigation", "Written Report", "Scientific Presentation"],
                    considerations: [
                        "SETI and exoplanet research provides rich investigation opportunities",
                        "Data analysis and interpretation are central to this field",
                        "Theoretical concepts like Drake equation suit detailed written analysis",
                        "Contemporary space missions offer cutting-edge research context",
                        "Ethical and philosophical implications add depth to discussion"
                    ],
                    deliverables: [
                        "Exoplanet detection method analysis with real mission data",
                        "Drake equation probability calculations and evaluation",
                        "Spectroscopic analysis for biosignature detection",
                        "SETI strategy evaluation and technological assessment"
                    ]
                },
                keyKnowledge: [
                    "Spectroscopy as tool for investigating starlight and Solar System data interpretation",
                    "Exoplanet detection methods: astrometric, radial velocity, transit, microlensing",
                    "Database differentiation: size, eccentricity, radius, gravitational effects observation",
                    "Doppler shift applications: spectral shift, planetary system 'wobble' Δλ/λ = v/c",
                    "Fermi paradox and Drake equation for life possibility outside Solar System",
                    "Targeted vs untargeted ETI searches: frequency/bandwidth optimization strategies"
                ],
                contexts: [
                    "Extra-terrestrial life detection information challenges and quality",
                    "Knowledge changes from improved extra-Solar System information collection",
                    "Beyond Solar System data evaluation and interpretation methods",
                    "Extreme habitat studies and life possibility assessment",
                    "Ethics of locating intelligent life beyond Solar System"
                ],
                vocabulary: ["Exoplanet", "Transit Method", "Radial Velocity", "Habitable Zone", "Drake Equation", "Fermi Paradox", "SETI", "Doppler Shift", "Spectroscopy", "Astrobiology", "Biosignature"],
                searchTerms: [
                    "VCE Physics exoplanet detection transit radial velocity",
                    "Drake equation Fermi paradox SETI physics astrobiology",
                    "Doppler shift exoplanet wobble method physics",
                    "Habitable zone Goldilocks zone exoplanet physics",
                    "Spectroscopy biosignatures atmospheric analysis physics",
                    "Microlensing gravitational exoplanet detection physics"
                ],
                aiPrompts: [
                    "Explain different exoplanet detection methods (transit, radial velocity, microlensing) and their physics principles for VCE Physics",
                    "Describe the Drake equation and Fermi paradox, analyzing the probability of extraterrestrial life using physics and statistics",
                    "Calculate Doppler shift effects (Δλ/λ = v/c) in exoplanet detection and explain the radial velocity method",
                    "Analyze spectroscopic methods for detecting biosignatures in exoplanet atmospheres and their limitations",
                    "Compare targeted versus untargeted SETI strategies, including frequency selection and bandwidth optimization"
                ]
            },
            "2.15": {
                title: "How can physics explain traditional artefacts, knowledge and techniques?",
                description: "Indigenous physics, cultural applications, and traditional technology",
                concepts: ["Cultural Physics", "Traditional Technology", "Indigenous Knowledge", "Material Properties", "Flight Dynamics", "Cultural Applications"],
                difficulty: "Medium",
                mathLevel: "Applied physics analysis depending on chosen artifact or technique",
                relevance: "Cultural understanding, respect for indigenous knowledge, interdisciplinary learning",
                presentation: "Great for cultural connections and respectful knowledge sharing",
                assessmentModes: {
                    recommended: ["Case Study Analysis", "Scientific Presentation", "Research Investigation"],
                    considerations: [
                        "Cultural artifacts provide excellent case study opportunities",
                        "Traditional knowledge requires respectful research and presentation",
                        "Interdisciplinary approach suits presentation format well",
                        "Physics principles can be demonstrated through traditional examples",
                        "Cultural protocols and ethical considerations add important context"
                    ],
                    deliverables: [
                        "Traditional artifact physics analysis with cultural respect",
                        "Boomerang aerodynamics investigation with Indigenous knowledge integration",
                        "Traditional weaving material properties and stress analysis",
                        "Indigenous astronomy and navigation physics principles"
                    ]
                },
                keyKnowledge: [
                    "Appropriate protocols for accessing Aboriginal and Torres Strait Islander information",
                    "Selection of traditional artifacts, knowledge, or techniques (weapons, structures, materials, fauna, flora, land management, hunting, dance, artwork, stories)",
                    "Aboriginal and Torres Strait Islander descriptions and explanations investigation",
                    "Physics ideas identification in indigenous descriptions and explanations",
                    "Physics principles application to understanding chosen artifacts/knowledge/techniques"
                ],
                contexts: [
                    "Boomerang flight concepts mirroring modern aircraft wing design",
                    "Returning vs non-returning boomerang aerodynamics comparison",
                    "Stars as seasonal indicators and navigation methods explanation",
                    "Stress-strain analysis of different grass types and weaving techniques",
                    "Bicornual basket design ergonomics and engineering principles",
                    "Fish trap engineering comparison: eel traps vs barramundi traps"
                ],
                vocabulary: ["Indigenous Knowledge", "Traditional Techniques", "Cultural Protocols", "Aerodynamics", "Material Properties", "Seasonal Indicators", "Navigation", "Ergonomics", "Sustainable Practices", "Cultural Respect"],
                searchTerms: [
                    "VCE Physics indigenous knowledge boomerang aerodynamics",
                    "Aboriginal Torres Strait Islander traditional physics",
                    "Boomerang flight physics returning vs hunting stick",
                    "Traditional weaving physics material properties stress",
                    "Indigenous astronomy navigation physics stars",
                    "Fish trap engineering physics traditional technology"
                ],
                aiPrompts: [
                    "Explain the aerodynamics of boomerangs using physics principles and compare returning versus non-returning designs respectfully",
                    "Analyze traditional weaving techniques using stress-strain physics and material properties of different grasses and fibers",
                    "Describe how Aboriginal and Torres Strait Islander peoples used stars for navigation and seasonal indicators using physics",
                    "Examine the engineering physics behind traditional fish traps and their effectiveness using fluid dynamics",
                    "Apply physics principles to explain traditional hunting tools while respecting Indigenous cultural knowledge"
                ]
            },
            "2.16": {
                title: "How do particle accelerators work?",
                description: "High-energy physics, particle collisions, and accelerator technology",
                concepts: ["Particle Physics", "Electromagnetic Fields", "High Energy Physics", "Accelerator Technology", "Data Analysis", "Standard Model"],
                difficulty: "Very High",
                mathLevel: "Advanced mathematical concepts, electromagnetic field theory, high-energy physics",
                relevance: "Cutting-edge research, fundamental physics understanding, technology development",
                presentation: "Excellent for research exploration and technology analysis",
                assessmentModes: {
                    recommended: ["Research Investigation", "Written Report", "Scientific Presentation"],
                    considerations: [
                        "Cutting-edge research provides excellent investigation opportunities",
                        "Complex theoretical concepts require detailed written explanation",
                        "Australian Synchrotron offers local research connection",
                        "Technology applications in medicine and industry provide contemporary relevance",
                        "International collaboration aspects add global scientific context"
                    ],
                    deliverables: [
                        "Australian Synchrotron research analysis and applications",
                        "Particle accelerator technology evolution and future developments",
                        "Standard Model development through collider experiments",
                        "Practical applications of accelerator research in technology and medicine"
                    ]
                },
                keyKnowledge: [
                    "Particle accelerator purposes: synchrotron light production vs particle collision",
                    "Australian Synchrotron components: electron linac, circular booster, storage ring, beamlines",
                    "Synchrotron radiation characteristics: brightness, spectrum, divergence vs laser/X-ray tubes",
                    "Collider technology evolution: particles involved, increasing energies since 1950s",
                    "Collider role in Standard Model development: subatomic structure and processes",
                    "Large Hadron Collider data storage/analysis and detector technology development"
                ],
                contexts: [
                    "Particle physics research leading to consumer products (heat shrinkable film, silicon chips)",
                    "Current and proposed future collider technologies evaluation",
                    "Particle accelerator comparison across continents including Asia-Pacific region",
                    "Research applications in materials science and medical technology"
                ],
                vocabulary: ["Particle Accelerator", "Synchrotron", "Linear Accelerator", "Collider", "Standard Model", "Subatomic Particles", "Electromagnetic Field", "Beam Energy", "Particle Detector", "High Energy Physics"],
                searchTerms: [
                    "VCE Physics particle accelerators synchrotron LHC",
                    "Australian Synchrotron linear accelerator physics",
                    "Standard Model particle physics collider experiments",
                    "High energy physics electromagnetic fields accelerator",
                    "Particle detector technology physics data analysis",
                    "Synchrotron radiation brightness spectrum physics"
                ],
                aiPrompts: [
                    "Explain how particle accelerators work, comparing synchrotron light production with particle collision experiments for VCE Physics",
                    "Describe the Australian Synchrotron components (linac, booster, storage ring) and their physics principles",
                    "Analyze the evolution of collider technology and its role in developing the Standard Model of particle physics",
                    "Compare synchrotron radiation with laser light and X-ray tubes, explaining brightness, spectrum, and divergence",
                    "Discuss how particle accelerator research has led to practical applications in technology and medicine"
                ]
            },
            "2.17": {
                title: "How does physics explain the origins of matter?",
                description: "Cosmology, Big Bang theory, and fundamental particle physics",
                concepts: ["Big Bang Theory", "Particle Physics", "Antimatter", "Cosmic Background Radiation", "Standard Model", "Universe Evolution"],
                difficulty: "Very High",
                mathLevel: "Theoretical physics concepts, cosmological calculations, particle interactions",
                relevance: "Fundamental understanding of universe, cosmology, and theoretical physics",
                presentation: "Great for theoretical exploration and scientific model analysis",
                assessmentModes: {
                    recommended: ["Research Investigation", "Written Report", "Scientific Presentation"],
                    considerations: [
                        "Theoretical cosmology provides rich research investigation opportunities",
                        "Complex theoretical concepts require detailed written analysis",
                        "Big Bang theory and particle physics suit comprehensive investigation",
                        "Contemporary research like gravitational wave detection offers current context",
                        "Fundamental questions about existence provide philosophical depth"
                    ],
                    deliverables: [
                        "Big Bang theory evidence analysis including cosmic background radiation",
                        "Particle physics evolution from theory to experimental discovery",
                        "Matter-antimatter asymmetry investigation and current research",
                        "Gravitational wave detection impact on cosmological understanding"
                    ]
                },
                keyKnowledge: [
                    "Big Bang theory: time and space origins explanation, cosmic background radiation evidence",
                    "Matter changes during Universe stages due to expansion and cooling",
                    "Particle discovery predictions: neutron, neutrino, positron, Higgs boson",
                    "Particle nature comparison: leptons, hadrons, mesons, baryons",
                    "Elementary matter particles and antimatter particles: equal mass, opposite charge",
                    "Gravitational wave detection contribution to Universe understanding"
                ],
                contexts: [
                    "Model limitations for explaining matter origins",
                    "Cosmic background radiation discovery process",
                    "Current and future Universe origins theory directions",
                    "Scientific knowledge development: theory prediction to particle discovery",
                    "International collaboration in scientific knowledge pursuit"
                ],
                vocabulary: ["Big Bang", "Cosmic Background Radiation", "Antimatter", "Leptons", "Hadrons", "Higgs Boson", "Gravitational Waves", "Particle Annihilation", "Standard Model", "Universe Expansion"],
                searchTerms: [
                    "VCE Physics Big Bang theory cosmic background radiation",
                    "Matter antimatter particle physics universe origins",
                    "Standard Model leptons hadrons Higgs boson physics",
                    "Universe evolution expansion cooling physics",
                    "Gravitational waves LIGO universe understanding physics",
                    "Particle annihilation E=mc² matter energy physics"
                ],
                aiPrompts: [
                    "Explain the Big Bang theory and how it accounts for the origins of time, space, and matter using physics principles",
                    "Describe the evolution of matter in the universe from the Big Bang through nucleosynthesis to today",
                    "Compare different types of particles (leptons, hadrons, mesons, baryons) and their role in the Standard Model",
                    "Explain matter-antimatter pairs and particle annihilation, including the energy release calculations",
                    "Analyze how gravitational wave detection has enhanced our understanding of the universe's origins and evolution"
                ]
            },
            "2.18": {
                title: "How is contemporary physics research being conducted in our region?",
                description: "Local research, cutting-edge developments, and regional physics applications",
                concepts: ["Current Research", "Local Applications", "Research Methods", "Scientific Collaboration", "Regional Physics", "Research Ethics"],
                difficulty: "Variable",
                mathLevel: "Depends on chosen research area - can range from basic to advanced",
                relevance: "Direct connection to local community and current scientific developments",
                presentation: "Excellent for original research and community connections",
                assessmentModes: {
                    recommended: ["Research Investigation", "Case Study Analysis", "Scientific Presentation"],
                    considerations: [
                        "Local research provides excellent investigation opportunities with direct access",
                        "Contemporary cutting-edge research offers strong current relevance",
                        "Regional case studies can include university and industry connections",
                        "Research methodology and collaboration aspects suit investigation format",
                        "Community impact and applications provide local societal context"
                    ],
                    deliverables: [
                        "Local university or research institute physics investigation",
                        "Australian Synchrotron research impact analysis",
                        "Regional physics industry applications and innovation",
                        "Scientific collaboration networks and research funding analysis"
                    ]
                },
                keyKnowledge: [
                    "Cutting-edge research investigation in Victoria, Australia, or Oceania",
                    "Local physics research area selection and information access protocols",
                    "Physics identification related to chosen research area",
                    "Physics understanding leading to selected research development",
                    "Critical and creative thinking in physics concepts application",
                    "Individual contribution and collaboration extent in selected research"
                ],
                contexts: [
                    "Australian Synchrotron research applications and local impact",
                    "Space research conducted in Australian and regional institutions",
                    "Dark matter research and local experimental contributions",
                    "Medical research involving radiation and local healthcare applications",
                    "Materials research and regional industry applications",
                    "Nuclear fusion research and local energy implications"
                ],
                vocabulary: ["Contemporary Research", "Regional Physics", "Scientific Collaboration", "Research Ethics", "Innovation", "Technology Transfer", "Research Infrastructure", "Peer Review", "Grant Funding", "Research Impact"],
                searchTerms: [
                    "VCE Physics contemporary research Victoria Australia",
                    "Australian Synchrotron research applications physics",
                    "Regional physics research Oceania collaboration",
                    "Dark matter research Australia physics experiments",
                    "Medical physics research Australia healthcare",
                    "Materials science research Australia industry physics"
                ],
                aiPrompts: [
                    "Research and analyze contemporary physics being conducted in Victoria or Australia, explaining the physics principles involved",
                    "Investigate Australian Synchrotron research projects and explain their physics applications and societal impact",
                    "Examine space physics research in Australia and Oceania, describing the scientific methods and international collaboration",
                    "Analyze medical physics research in Australian institutions and explain how physics principles are applied to healthcare",
                    "Evaluate the role of individual researchers versus collaborative teams in contemporary Australian physics research"
                ]
            }
        };

        // Enhanced question tree with sound branch added
        const questionTree = {
            start: {
                question: "What type of physics interests you most?",
                breadcrumb: ["Getting Started"],
                theme: "neutral",
                options: [
                    {
                        text: "Applied & Practical Physics",
                        description: "Real-world applications, technology, and engineering solutions",
                        contexts: "Technology development, engineering applications, practical problem-solving",
                        next: "applied"
                    },
                    {
                        text: "Theoretical & Fundamental Physics",
                        description: "Understanding the universe, particles, and fundamental principles",
                        contexts: "Space exploration, particle research, fundamental theory development",
                        next: "theoretical" 
                    },
                    {
                        text: "Life Sciences & Medicine",
                        description: "How physics applies to living systems and medical technology",
                        contexts: "Medical devices, biological systems, health technology applications",
                        next: "bio"
                    },
                    {
                        text: "Environmental & Earth Sciences",
                        description: "Climate, energy, and environmental applications of physics",
                        contexts: "Climate research, renewable energy, environmental impact assessment",
                        next: "environmental"
                    }
                ]
            },
            applied: {
                question: "Which type of applied physics appeals to you?",
                breadcrumb: ["Getting Started", "Applied Physics"],
                theme: "applied",
                options: [
                    {
                        text: "Engineering & Structures",
                        description: "Forces, materials, and how things are built",
                        contexts: "Structural analysis, material testing, architectural applications, prosthetics design",
                        next: "engineering"
                    },
                    {
                        text: "Technology & Electronics",
                        description: "Circuits, devices, and modern technology",
                        contexts: "Power systems, electronic circuits, data conversion, technology research",
                        next: "technology"
                    },
                    {
                        text: "Transportation & Movement",
                        description: "Flight, sports, and motion physics",
                        contexts: "Aerospace engineering, sports performance, vehicle design, projectile analysis",
                        next: "movement"
                    },
                    {
                        text: "Optics & Light",
                        description: "Vision, photography, and optical instruments",
                        contexts: "Vision correction, camera technology, optical instruments, photography science",
                        next: "optics"
                    },
                    {
                        text: "Sound & Acoustics",
                        description: "Music, acoustics, and sound physics",
                        contexts: "Musical instruments, audio engineering, acoustics design, voice physics",
                        next: "sound"
                    }
                ]
            },
            theoretical: {
                question: "What aspect of theoretical physics interests you?",
                breadcrumb: ["Getting Started", "Theoretical Physics"],
                theme: "theoretical",
                options: [
                    {
                        text: "Space & Cosmology",
                        description: "Stars, black holes, and the universe",
                        contexts: "Stellar evolution, exoplanet detection, space research, astronomical observations",
                        next: "space"
                    },
                    {
                        text: "Particle Physics",
                        description: "Fundamental particles and forces",
                        contexts: "Accelerator technology, particle collisions, matter origins, Standard Model research",
                        next: "particles"
                    },
                    {
                        text: "Energy & Matter",
                        description: "Nuclear physics and energy production",
                        contexts: "Nuclear power comparison, fusion vs fission, energy policy, matter origins",
                        next: "nuclear"
                    }
                ]
            },
            bio: {
                question: "Which biological application interests you most?",
                breadcrumb: ["Getting Started", "Life Sciences"],
                theme: "bio",
                options: [
                    {
                        text: "Medical Technology",
                        description: "Imaging, radiation therapy, and medical devices",
                        contexts: "Medical imaging, radiation therapy, diagnostic technology, treatment methods",
                        next: "medical"
                    },
                    {
                        text: "Human Body Physics",
                        description: "How physics governs biological processes",
                        contexts: "Bioelectricity, biomechanics, prosthetics, neural systems, body forces",
                        next: "body"
                    },
                    {
                        text: "Sports & Performance",
                        description: "Physics of athletic performance and movement",
                        contexts: "Sports science, ball physics, human movement, performance optimization",
                        next: "sports"
                    }
                ]
            },
            environmental: {
                question: "What environmental topic interests you?",
                breadcrumb: ["Getting Started", "Environmental Sciences"],
                theme: "environmental",
                options: [
                    {
                        text: "Climate Change",
                        description: "Understanding global warming through physics",
                        contexts: "Climate science, greenhouse effects, thermal systems, environmental impact",
                        next: "climate"
                    },
                    {
                        text: "Energy Solutions",
                        description: "Nuclear power and energy conversion",
                        contexts: "Nuclear energy, power conversion, electrical systems, renewable technology",
                        next: "energy"
                    },
                    {
                        text: "Cultural & Traditional Knowledge",
                        description: "Indigenous physics and traditional techniques",
                        contexts: "Indigenous knowledge, traditional artifacts, cultural physics, regional research",
                        next: "cultural"
                    }
                ]
            },
            // Detailed sub-categories with presentation preferences
            engineering: {
                question: "What presentation approach interests you most?",
                breadcrumb: ["Getting Started", "Applied Physics", "Engineering & Structures"],
                theme: "applied",
                options: [
                    {
                        text: "Hands-on Material Testing",
                        description: "Physical experiments with structures and materials",
                        contexts: "Material testing labs, stress-strain experiments, structural load testing, prosthetics evaluation",
                        topics: ["2.4", "2.5"],
                        next: "results"
                    },
                    {
                        text: "Mathematical Analysis & Case Studies",
                        description: "Calculations and real-world structural analysis",
                        contexts: "Architectural case studies, engineering calculations, material property analysis, design optimization",
                        topics: ["2.4", "2.5"],
                        next: "results"
                    }
                ]
            },
            technology: {
                question: "What level of technical complexity appeals to you?",
                breadcrumb: ["Getting Started", "Applied Physics", "Technology & Electronics"],
                theme: "applied",
                options: [
                    {
                        text: "Advanced Electronics & Circuits",
                        description: "Complex circuit analysis and power systems",
                        contexts: "AC/DC conversion, transformer analysis, electronic circuit design, power system optimization",
                        topics: ["2.12"],
                        next: "results"
                    },
                    {
                        text: "Current Research Applications",
                        description: "Local technology research and development",
                        contexts: "Regional research projects, technology innovation, collaborative research, community applications",
                        topics: ["2.18"],
                        next: "results"
                    }
                ]
            },
            movement: {
                question: "What type of movement physics interests you?",
                breadcrumb: ["Getting Started", "Applied Physics", "Transportation & Movement"],
                theme: "applied",
                options: [
                    {
                        text: "Flight & Aerodynamics",
                        description: "Aircraft design and flight principles",
                        contexts: "Aerospace applications, flight control, supersonic flight, aerodynamic design, lift generation",
                        topics: ["2.3"],
                        next: "results"
                    },
                    {
                        text: "Sports Physics & Collisions",
                        description: "Ball sports and athletic performance",
                        contexts: "Sports equipment design, collision analysis, projectile optimization, performance enhancement",
                        topics: ["2.11"],
                        next: "results"
                    }
                ]
            },
            optics: {
                question: "What optical application appeals to you?",
                breadcrumb: ["Getting Started", "Applied Physics", "Optics & Light"],
                theme: "applied",
                options: [
                    {
                        text: "Vision & Medical Optics",
                        description: "Eye correction and optical medical devices",
                        contexts: "Vision correction technology, cataract treatment, bionic eyes, aging effects on vision",
                        topics: ["2.8"],
                        next: "results"
                    },
                    {
                        text: "Photography & Imaging Technology",
                        description: "Camera systems and image formation",
                        contexts: "Digital vs traditional photography, camera design, image formation, technological development",
                        topics: ["2.9"],
                        next: "results"
                    }
                ]
            },
            sound: {
                question: "What aspect of sound physics interests you most?",
                breadcrumb: ["Getting Started", "Applied Physics", "Sound & Acoustics"],
                theme: "applied",
                options: [
                    {
                        text: "Musical Instruments & Performance",
                        description: "Physics of music creation and instrument design",
                        contexts: "Instrument acoustics, resonance, harmonics, music technology, human voice physics",
                        topics: ["2.10"],
                        next: "results"
                    },
                    {
                        text: "Audio Technology & Engineering",
                        description: "Sound recording, acoustics, and audio systems",
                        contexts: "Recording technology, room acoustics, sound engineering, speaker design, psychoacoustics",
                        topics: ["2.10"],
                        next: "results"
                    }
                ]
            },
            space: {
                question: "What aspect of space physics interests you most?",
                breadcrumb: ["Getting Started", "Theoretical Physics", "Space & Cosmology"],
                theme: "theoretical",
                options: [
                    {
                        text: "Stars & Black Holes",
                        description: "Stellar evolution and extreme cosmic objects",
                        contexts: "Stellar investigation, black hole physics, space-time effects, astronomical observations",
                        topics: ["2.13"],
                        next: "results"
                    },
                    {
                        text: "Search for Extraterrestrial Life",
                        description: "Exoplanet detection and astrobiology",
                        contexts: "Exoplanet detection methods, SETI research, astrobiology, life beyond Earth possibilities",
                        topics: ["2.14"],
                        next: "results"
                    }
                ]
            },
            particles: {
                question: "What level of theoretical complexity interests you?",
                breadcrumb: ["Getting Started", "Theoretical Physics", "Particle Physics"],
                theme: "theoretical",
                options: [
                    {
                        text: "Advanced Accelerator Technology",
                        description: "Particle accelerators and high-energy physics",
                        contexts: "Collider technology, particle detection, Standard Model research, accelerator applications",
                        topics: ["2.16"],
                        next: "results"
                    },
                    {
                        text: "Origins of Matter & Universe",
                        description: "Big Bang theory and fundamental particles",
                        contexts: "Cosmological evolution, particle physics, antimatter, universe development, theoretical models",
                        topics: ["2.17"],
                        next: "results"
                    }
                ]
            },
            nuclear: {
                question: "What nuclear physics application interests you?",
                breadcrumb: ["Getting Started", "Theoretical Physics", "Energy & Matter"],
                theme: "theoretical",
                options: [
                    {
                        text: "Nuclear Energy Comparison",
                        description: "Fusion vs fission as viable power sources",
                        contexts: "Energy policy, nuclear safety, power generation, environmental impact, reactor technology",
                        topics: ["2.2"],
                        next: "results"
                    },
                    {
                        text: "Cosmological Matter Origins",
                        description: "Big Bang and fundamental particle creation",
                        contexts: "Universe evolution, particle formation, theoretical cosmology, matter-antimatter asymmetry",
                        topics: ["2.17"],
                        next: "results"
                    }
                ]
            },
            medical: {
                question: "What medical physics application interests you most?",
                breadcrumb: ["Getting Started", "Life Sciences", "Medical Technology"],
                theme: "bio",
                options: [
                    {
                        text: "Medical Radiation & Imaging",
                        description: "X-rays, CT, MRI, and radiation therapy",
                        contexts: "Medical imaging comparison, radiation therapy, diagnostic technology, medical radioisotopes",
                        topics: ["2.6"],
                        next: "results"
                    },
                    {
                        text: "Vision Enhancement Technology",
                        description: "Optical solutions for vision problems",
                        contexts: "Vision correction, optical medical devices, aging effects, assistive technology",
                        topics: ["2.8"],
                        next: "results"
                    }
                ]
            },
            body: {
                question: "Which body system physics interests you?",
                breadcrumb: ["Getting Started", "Life Sciences", "Human Body Physics"],
                theme: "bio",
                options: [
                    {
                        text: "Bioelectricity & Neural Systems",
                        description: "Nerves, heart rhythm, and electrical processes",
                        contexts: "Neural transmission, cardiac rhythm, biomedical devices, electrical resistance, action potentials",
                        topics: ["2.7"],
                        next: "results"
                    },
                    {
                        text: "Biomechanics & Prosthetics",
                        description: "Forces on body and artificial replacements",
                        contexts: "Human movement, prosthetics design, biomechanical analysis, material biocompatibility",
                        topics: ["2.5"],
                        next: "results"
                    }
                ]
            },
            sports: {
                question: "What sports physics application appeals to you?",
                breadcrumb: ["Getting Started", "Life Sciences", "Sports & Performance"],
                theme: "bio",
                options: [
                    {
                        text: "Ball Sports Performance",
                        description: "Projectiles, collisions, and technique optimization",
                        contexts: "Sports equipment, collision dynamics, performance analysis, ball aerodynamics, technique improvement",
                        topics: ["2.11"],
                        next: "results"
                    },
                    {
                        text: "Human Movement Mechanics",
                        description: "Forces on body during athletic performance",
                        contexts: "Sports biomechanics, movement analysis, injury prevention, performance optimization",
                        topics: ["2.5"],
                        next: "results"
                    }
                ]
            },
            climate: {
                question: "How do you prefer to approach climate science?",
                breadcrumb: ["Getting Started", "Environmental Sciences", "Climate Change"],
                theme: "environmental",
                options: [
                    {
                        text: "Data Analysis & Evidence Evaluation",
                        description: "Working with climate data and scientific evidence",
                        contexts: "Climate data interpretation, evidence evaluation, thermal data analysis, scientific debates",
                        topics: ["2.1"],
                        next: "results"
                    },
                    {
                        text: "Current Events & Policy Discussion",
                        description: "Addressing climate change arguments and policy",
                        contexts: "Media argument analysis, climate policy, political stances, public communication",
                        topics: ["2.1"],
                        next: "results"
                    }
                ]
            },
            energy: {
                question: "What energy topic interests you most?",
                breadcrumb: ["Getting Started", "Environmental Sciences", "Energy Solutions"],
                theme: "environmental",
                options: [
                    {
                        text: "Nuclear Power Comparison",
                        description: "Fusion vs fission energy analysis",
                        contexts: "Nuclear energy viability, safety comparison, environmental impact, energy policy",
                        topics: ["2.2"],
                        next: "results"
                    },
                    {
                        text: "Power Conversion Systems",
                        description: "AC/DC conversion and electrical systems",
                        contexts: "Power electronics, renewable energy integration, electrical grid systems, conversion efficiency",
                        topics: ["2.12"],
                        next: "results"
                    }
                ]
            },
            cultural: {
                question: "What aspect of cultural physics appeals to you?",
                breadcrumb: ["Getting Started", "Environmental Sciences", "Cultural & Traditional Knowledge"],
                theme: "environmental",
                options: [
                    {
                        text: "Traditional Indigenous Knowledge",
                        description: "Aboriginal and Torres Strait Islander physics applications",
                        contexts: "Traditional artifacts, indigenous techniques, cultural physics, respectful research protocols",
                        topics: ["2.15"],
                        next: "results"
                    },
                    {
                        text: "Regional Contemporary Research",
                        description: "Local physics research and applications",
                        contexts: "Victoria/Oceania research, community applications, collaborative projects, local innovation",
                        topics: ["2.18"],
                        next: "results"
                    }
                ]
            }
        };

        // Breadcrumb navigation mapping - add Sound & Acoustics
        const breadcrumbNodeMap = {
            'Getting Started': 'start',
            'Applied Physics': 'applied',
            'Theoretical Physics': 'theoretical', 
            'Life Sciences': 'bio',
            'Environmental Sciences': 'environmental',
            'Engineering & Structures': 'engineering',
            'Technology & Electronics': 'technology',
            'Transportation & Movement': 'movement',
            'Optics & Light': 'optics',
            'Sound & Acoustics': 'sound',
            'Space & Cosmology': 'space',
            'Particle Physics': 'particles',
            'Energy & Matter': 'nuclear',
            'Medical Technology': 'medical',
            'Human Body Physics': 'body',
            'Sports & Performance': 'sports',
            'Climate Change': 'climate',
            'Energy Solutions': 'energy',
            'Cultural & Traditional Knowledge': 'cultural'
        };

        // Current state
        let currentNode = 'start';
        let selectedOption = null;
        let pathHistory = [];
        let userChoices = {};
        let currentTheme = 'neutral';
        let hasDoubleClicked = false;
        let studentName = '';

        // Web resources for students
        const webResources = {
            websites: [
                {
                    name: "Khan Academy Physics",
                    url: "https://www.khanacademy.org/science/physics",
                    description: "Free comprehensive physics lessons with interactive exercises"
                },
                {
                    name: "The Physics Classroom",
                    url: "https://www.physicsclassroom.com/",
                    description: "High school physics concepts with tutorials, animations, and practice"
                },
                {
                    name: "HyperPhysics (Georgia State University)",
                    url: "http://hyperphysics.phy-astr.gsu.edu/hbase/hframe.html",
                    description: "Comprehensive physics concepts with interconnected explanations"
                },
                {
                    name: "MIT OpenCourseWare High School Physics",
                    url: "https://ocw.mit.edu/high-school/physics/",
                    description: "Free MIT physics course materials adapted for high school"
                },
                {
                    name: "NASA Education Resources",
                    url: "https://www.nasa.gov/learning-resources/",
                    description: "Space science and physics educational materials and activities"
                }
            ]
        };

        // Link generation functions
        function createWikipediaLink(term) {
            const url = `https://en.wikipedia.org/wiki/${encodeURIComponent(term.replace(/\s+/g, '_'))}`;
            return `<a href="${url}" target="_blank" class="clickable-link" title="Learn more about ${term} on Wikipedia">${term}</a>`;
        }

        function createGoogleSearchLink(searchTerm) {
            const url = `https://www.google.com/search?q=${encodeURIComponent(searchTerm)}`;
            return `<a href="${url}" target="_blank" class="clickable-link" title="Search Google for: ${searchTerm}">${searchTerm}</a>`;
        }

        function createAIPromptLink(prompt, index) {
            const chatGPTUrl = `https://chat.openai.com/?q=${encodeURIComponent(prompt)}`;
            return `<a href="${chatGPTUrl}" target="_blank" class="clickable-link" title="Open this prompt in ChatGPT">${prompt}</a>`;
        }

        // Initialize the quiz
        function init() {
            loadState();
            renderQuestion();
            updateProgress();
            updateTheme();
        }

        // Update theme based on current path
        function updateTheme() {
            const node = questionTree[currentNode];
            if (node && node.theme) {
                currentTheme = node.theme;
                document.getElementById('mainContainer').className = `container theme-${currentTheme}`;
            }
        }

        // Create clickable breadcrumb
        function createBreadcrumb() {
            const breadcrumbContainer = document.getElementById('breadcrumb');
            const node = questionTree[currentNode];
            
            if (!node || !node.breadcrumb) return;
            
            breadcrumbContainer.innerHTML = '';
            
            node.breadcrumb.forEach((item, index) => {
                const breadcrumbItem = document.createElement('span');
                breadcrumbItem.className = 'breadcrumb-item';
                breadcrumbItem.textContent = item;
                
                // Current item styling
                if (index === node.breadcrumb.length - 1) {
                    breadcrumbItem.classList.add('current');
                } else {
                    // Make clickable for previous items
                    breadcrumbItem.onclick = () => jumpToBreadcrumb(item);
                }
                
                breadcrumbContainer.appendChild(breadcrumbItem);
                
                // Add separator
                if (index < node.breadcrumb.length - 1) {
                    const separator = document.createElement('span');
                    separator.className = 'breadcrumb-separator';
                    separator.textContent = '→';
                    breadcrumbContainer.appendChild(separator);
                }
            });
        }

        // Jump to breadcrumb level
        function jumpToBreadcrumb(breadcrumbText) {
            const targetNode = breadcrumbNodeMap[breadcrumbText];
            if (!targetNode || targetNode === currentNode) return;
            
            // Find the correct path in history
            let targetIndex = -1;
            for (let i = pathHistory.length - 1; i >= 0; i--) {
                if (pathHistory[i].node === targetNode) {
                    targetIndex = i;
                    break;
                }
            }
            
            if (targetIndex >= 0) {
                // Remove history beyond target
                pathHistory = pathHistory.slice(0, targetIndex + 1);
                
                // Go back to target
                const previous = pathHistory.pop();
                currentNode = previous.node;
                selectedOption = previous.selection;
            } else if (targetNode === 'start') {
                // Reset to start
                currentNode = 'start';
                selectedOption = null;
                pathHistory = [];
                userChoices = {};
            }
            
            renderQuestion();
            
            if (selectedOption !== null) {
                const options = document.querySelectorAll('.option');
                options[selectedOption].classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
            }
            
            updateProgress();
            saveState();
        }

        // Save and load state functions
        function saveState() {
            const state = {
                currentNode,
                selectedOption,
                pathHistory,
                userChoices,
                currentTheme,
                hasDoubleClicked,
                studentName
            };
            console.log('State would be saved:', state);
        }

        function loadState() {
            console.log('State would be loaded from localStorage');
            // In a real implementation, hasDoubleClicked and studentName would be loaded here
        }

        // Render current question
        function renderQuestion() {
            const container = document.getElementById('questionContainer');
            const node = questionTree[currentNode];
            
            if (!node) return;

            container.innerHTML = '';

            // Add assessment overview for the start node
            if (currentNode === 'start') {
                renderAssessmentOverview(container);
            }

            // Add category-specific assessment guidance for main category nodes
            if (['applied', 'theoretical', 'bio', 'environmental'].includes(currentNode)) {
                renderCategoryAssessmentGuidance(container, currentNode);
            }

            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container';

            const questionTitle = document.createElement('div');
            questionTitle.className = 'question';
            questionTitle.textContent = node.question;
            questionDiv.appendChild(questionTitle);

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';

            if (currentNode === 'results') {
                renderResults(container);
                return;
            }

            node.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.onclick = () => selectOption(index);
                optionDiv.ondblclick = () => {
                    selectOption(index);
                    hasDoubleClicked = true;
                    // Hide the double-click tip
                    const tip = document.querySelector('.double-click-hint');
                    if (tip) tip.style.display = 'none';
                    setTimeout(goNext, 100);
                };

                const titleDiv = document.createElement('div');
                titleDiv.className = 'option-title';
                titleDiv.textContent = option.text;

                const descDiv = document.createElement('div');
                descDiv.className = 'option-description';
                descDiv.textContent = option.description;

                const contextsDiv = document.createElement('div');
                contextsDiv.className = 'option-contexts';
                contextsDiv.innerHTML = `<strong>Contexts:</strong> ${option.contexts}`;

                optionDiv.appendChild(titleDiv);
                optionDiv.appendChild(descDiv);
                optionDiv.appendChild(contextsDiv);
                optionsDiv.appendChild(optionDiv);
            });

            questionDiv.appendChild(optionsDiv);
            container.appendChild(questionDiv);

            createBreadcrumb();
            updateNavigationButtons();
            updateTheme();
            
            // Show/hide double-click tip
            const tip = document.querySelector('.double-click-hint');
            if (tip && hasDoubleClicked) {
                tip.style.display = 'none';
            }
        }

        // Render category-specific assessment guidance
        function renderCategoryAssessmentGuidance(container, category) {
            const guidanceMap = {
                applied: {
                    title: "Applied Physics Assessment Tips",
                    modes: "Practical Investigation, Scientific Presentation, Case Study Analysis",
                    strengths: [
                        "Hands-on experiments and demonstrations",
                        "Real-world applications provide strong context",
                        "Mathematical modeling supports analysis",
                        "Engineering connections offer career relevance"
                    ]
                },
                theoretical: {
                    title: "Theoretical Physics Assessment Tips",
                    modes: "Research Investigation, Written Report, Scientific Presentation",
                    strengths: [
                        "Complex concepts benefit from detailed explanations",
                        "Mathematical modeling and calculations are central",
                        "Current research provides cutting-edge context",
                        "Theoretical understanding through problem-solving"
                    ]
                },
                bio: {
                    title: "Biological Physics Assessment Tips",
                    modes: "Case Study Analysis, Scientific Presentation, Practical Investigation",
                    strengths: [
                        "Medical applications provide immediate relevance",
                        "Ethical considerations add depth to analysis",
                        "Biological systems offer complex modeling opportunities",
                        "Health technology connects to personal experiences"
                    ]
                },
                environmental: {
                    title: "Environmental Physics Assessment Tips",
                    modes: "Research Investigation, Written Report, Scientific Poster",
                    strengths: [
                        "High contemporary relevance with current issues",
                        "Data analysis and evidence evaluation prominent",
                        "Policy implications involve economic factors",
                        "Global and local applications provide contexts"
                    ]
                }
            };

            const guidance = guidanceMap[category];
            if (!guidance) return;

            const guidanceDiv = document.createElement('div');
            guidanceDiv.className = 'category-assessment-guidance';
            guidanceDiv.style.cssText = `
                background: linear-gradient(135deg, #e8f4f8, #d1ecf1);
                border: 2px solid var(--current-theme, #3498db);
                border-radius: 10px;
                padding: 15px;
                margin-bottom: 15px;
                box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            `;

            const title = document.createElement('h4');
            title.textContent = '💡 ' + guidance.title;
            title.style.cssText = 'color: #0c5460; margin-bottom: 10px; font-size: 1em;';

            const modesInfo = document.createElement('p');
            modesInfo.innerHTML = `<strong>Common Assessment Modes:</strong> ${guidance.modes}`;
            modesInfo.style.cssText = 'color: #0c5460; margin-bottom: 10px; font-size: 0.9em;';

            const strengthsTitle = document.createElement('p');
            strengthsTitle.innerHTML = '<strong>Assessment Strengths:</strong>';
            strengthsTitle.style.cssText = 'color: #0c5460; margin-bottom: 6px; font-size: 0.9em;';

            const strengthsList = document.createElement('ul');
            strengthsList.style.cssText = 'margin-left: 15px; color: #0c5460; font-size: 0.85em;';
            guidance.strengths.forEach(strength => {
                const li = document.createElement('li');
                li.textContent = strength;
                li.style.cssText = 'margin-bottom: 3px; line-height: 1.3;';
                strengthsList.appendChild(li);
            });

            guidanceDiv.appendChild(title);
            guidanceDiv.appendChild(modesInfo);
            guidanceDiv.appendChild(strengthsTitle);
            guidanceDiv.appendChild(strengthsList);

            container.appendChild(guidanceDiv);
        }

        // Render assessment overview
        function renderAssessmentOverview(container) {
            const assessmentDiv = document.createElement('div');
            assessmentDiv.className = 'assessment-overview';
            assessmentDiv.style.cssText = `
                background: linear-gradient(135deg, #f8f9fa, #e9ecef);
                border: 2px solid #3498db;
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            `;

            const title = document.createElement('h3');
            title.textContent = '📋 ' + assessmentInfo.overview.title;
            title.style.cssText = 'color: #2c3e50; margin-bottom: 12px; font-size: 1.2em;';

            // Add name input field
            const nameSection = document.createElement('div');
            nameSection.style.cssText = 'background: #e8f4f8; padding: 12px; border-radius: 6px; margin: 12px 0; border-left: 4px solid #3498db;';
            nameSection.innerHTML = `
                <label for="studentNameInput" style="display: block; margin-bottom: 6px; font-weight: 600; color: #2c3e50; font-size: 0.9em;">Student Name:</label>
                <input type="text" id="studentNameInput" placeholder="Enter your name here" 
                       style="width: 100%; max-width: 280px; padding: 8px 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 0.9em;"
                       value="${studentName}">
            `;

            const outcome = document.createElement('div');
            outcome.style.cssText = 'background: #d4edda; padding: 12px; border-radius: 6px; margin: 12px 0; border-left: 4px solid #28a745;';
            outcome.innerHTML = `<strong style="font-size: 0.9em;">Learning Outcome:</strong><br><span style="font-size: 0.85em;">${assessmentInfo.overview.outcome}</span>`;

            // Make assessment modes and requirements collapsible on mobile
            const isMobile = window.innerWidth <= 768;
            
            const modesSection = document.createElement('div');
            if (isMobile) {
                const modesHeader = document.createElement('div');
                modesHeader.className = 'collapsible-header';
                modesHeader.innerHTML = '<span style="font-weight: 600; color: #2c3e50;">📝 Assessment Modes Available</span><span id="modesToggle">▼</span>';
                
                const modesContent = document.createElement('div');
                modesContent.className = 'collapsible-content collapsed';
                modesContent.id = 'modesContent';
                
                const modesList = document.createElement('ul');
                modesList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.85em;';
                assessmentInfo.overview.assessmentModes.forEach(mode => {
                    const li = document.createElement('li');
                    li.textContent = mode;
                    li.style.cssText = 'margin-bottom: 4px;';
                    modesList.appendChild(li);
                });
                
                modesContent.appendChild(modesList);
                modesSection.appendChild(modesHeader);
                modesSection.appendChild(modesContent);
                
                modesHeader.onclick = () => toggleCollapsible('modesContent', 'modesToggle');
            } else {
                const modesTitle = document.createElement('h4');
                modesTitle.textContent = '📝 Assessment Modes Available:';
                modesTitle.style.cssText = 'color: #2c3e50; margin: 12px 0 8px 0; font-size: 0.95em;';
                
                const modesList = document.createElement('ul');
                modesList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.85em;';
                assessmentInfo.overview.assessmentModes.forEach(mode => {
                    const li = document.createElement('li');
                    li.textContent = mode;
                    li.style.cssText = 'margin-bottom: 4px;';
                    modesList.appendChild(li);
                });
                
                modesSection.appendChild(modesTitle);
                modesSection.appendChild(modesList);
            }

            const reqSection = document.createElement('div');
            if (isMobile) {
                const reqHeader = document.createElement('div');
                reqHeader.className = 'collapsible-header';
                reqHeader.innerHTML = '<span style="font-weight: 600; color: #2c3e50;">✅ Key Requirements</span><span id="reqToggle">▼</span>';
                
                const reqContent = document.createElement('div');
                reqContent.className = 'collapsible-content collapsed';
                reqContent.id = 'reqContent';
                
                const reqList = document.createElement('ul');
                reqList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.85em;';
                assessmentInfo.overview.keyRequirements.forEach(req => {
                    const li = document.createElement('li');
                    li.textContent = req;
                    li.style.cssText = 'margin-bottom: 4px;';
                    reqList.appendChild(li);
                });
                
                reqContent.appendChild(reqList);
                reqSection.appendChild(reqHeader);
                reqSection.appendChild(reqContent);
                
                reqHeader.onclick = () => toggleCollapsible('reqContent', 'reqToggle');
            } else {
                const requirementsTitle = document.createElement('h4');
                requirementsTitle.textContent = '✅ Key Requirements:';
                requirementsTitle.style.cssText = 'color: #2c3e50; margin: 12px 0 8px 0; font-size: 0.95em;';

                const reqList = document.createElement('ul');
                reqList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.85em;';
                assessmentInfo.overview.keyRequirements.forEach(req => {
                    const li = document.createElement('li');
                    li.textContent = req;
                    li.style.cssText = 'margin-bottom: 4px;';
                    reqList.appendChild(li);
                });
                
                reqSection.appendChild(requirementsTitle);
                reqSection.appendChild(reqList);
            }

            assessmentDiv.appendChild(title);
            assessmentDiv.appendChild(nameSection);
            assessmentDiv.appendChild(outcome);
            assessmentDiv.appendChild(modesSection);
            assessmentDiv.appendChild(reqSection);

            container.appendChild(assessmentDiv);

            // Add name input listener
            const nameInput = document.getElementById('studentNameInput');
            if (nameInput) {
                nameInput.addEventListener('input', function() {
                    studentName = this.value;
                    saveState();
                });
            }
        }

        // Toggle collapsible sections
        function toggleCollapsible(contentId, toggleId) {
            const content = document.getElementById(contentId);
            const toggle = document.getElementById(toggleId);
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                content.classList.add('expanded');
                toggle.textContent = '▲';
            } else {
                content.classList.remove('expanded');
                content.classList.add('collapsed');
                toggle.textContent = '▼';
            }
        }

        // Select option with visual feedback
        function selectOption(index) {
            selectedOption = index;
            
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.toggle('selected', i === index);
            });

            userChoices[currentNode] = index;
            document.getElementById('nextBtn').disabled = false;
            saveState();
        }

        // Navigation functions
        function goNext() {
            if (selectedOption === null) return;

            const node = questionTree[currentNode];
            const nextNode = node.options[selectedOption].next;

            pathHistory.push({
                node: currentNode,
                selection: selectedOption
            });

            currentNode = nextNode;
            selectedOption = null;

            if (currentNode === 'results') {
                renderResults();
            } else {
                renderQuestion();
            }

            updateProgress();
            saveState();
        }

        function goBack() {
            if (pathHistory.length === 0) return;

            const previous = pathHistory.pop();
            currentNode = previous.node;
            selectedOption = previous.selection;

            renderQuestion();
            
            if (selectedOption !== null) {
                const options = document.querySelectorAll('.option');
                options[selectedOption].classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
            }

            updateProgress();
            saveState();
        }

        function updateNavigationButtons() {
            const backBtn = document.getElementById('backBtn');
            const nextBtn = document.getElementById('nextBtn');

            backBtn.disabled = pathHistory.length === 0;
            nextBtn.disabled = selectedOption === null;
        }

        function updateProgress() {
            const totalSteps = 4;
            const currentStep = pathHistory.length + 1;
            const progress = Math.min((currentStep / totalSteps) * 100, 100);
            
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Helper function to get all assessment modes
        function getAllAssessmentModes() {
            return [
                { key: 'research', name: 'Research Investigation (30 marks)' },
                { key: 'presentation', name: 'Scientific Presentation (30 marks)' },
                { key: 'poster', name: 'Scientific Poster (30 marks)' },
                { key: 'practical', name: 'Practical Investigation (30 marks)' },
                { key: 'written', name: 'Written Report (30 marks)' },
                { key: 'caseStudy', name: 'Case Study Analysis (30 marks)' }
            ];
        }

        // Helper function to get available assessment modes for selected topics
        function getAvailableAssessmentModes(selectedTopics) {
            const allModes = getAllAssessmentModes();
            const topicAssessmentModes = selectedTopics.flatMap(topicId => {
                const topic = topics[topicId];
                return topic?.assessmentModes?.recommended || [];
            });

            // Create a mapping of assessment names to mode keys
            const modeMapping = {
                'Research Investigation': 'research',
                'Scientific Presentation': 'presentation',
                'Scientific Poster': 'poster',
                'Practical Investigation': 'practical',
                'Written Report': 'written',
                'Case Study Analysis': 'caseStudy',
                'Multimedia Presentation': 'presentation' // Map multimedia to presentation
            };

            const availableKeys = [...new Set(topicAssessmentModes.map(mode => modeMapping[mode]).filter(Boolean))];
            return allModes.filter(mode => availableKeys.includes(mode.key));
        }

        // Function to display assessment details based on selection
        function displayAssessmentDetails(selectedValue, availableModes, container) {
            container.innerHTML = '';

            if (!selectedValue) {
                return; // No selection made
            }

            const modesToShow = selectedValue === 'all' ? availableModes : availableModes.filter(mode => mode.key === selectedValue);
            const isMobile = window.innerWidth <= 768;

            modesToShow.forEach((modeInfo, index) => {
                const mode = assessmentInfo.specificModes[modeInfo.key];
                if (!mode) return;

                const modeDiv = document.createElement('div');
                modeDiv.style.cssText = `
                    background: white;
                    border: 2px solid #3498db;
                    border-radius: 10px;
                    padding: ${isMobile ? '15px' : '20px'};
                    margin-bottom: ${isMobile ? '15px' : '20px'};
                    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                `;

                const modeTitle = document.createElement('h4');
                modeTitle.textContent = mode.name;
                modeTitle.style.cssText = `color: #2c3e50; margin-bottom: 12px; font-size: ${isMobile ? '1.1em' : '1.2em'}; border-bottom: 2px solid #3498db; padding-bottom: 6px;`;

                const modeDescription = document.createElement('p');
                modeDescription.textContent = mode.description;
                modeDescription.style.cssText = `color: #666; margin-bottom: 12px; font-style: italic; font-size: ${isMobile ? '0.9em' : '1em'};`;

                // Basic info - more compact
                const basicInfo = document.createElement('div');
                basicInfo.style.cssText = `background: #f8f9fa; padding: ${isMobile ? '10px' : '12px'}; border-radius: 6px; margin-bottom: 15px;`;
                basicInfo.innerHTML = `
                    <div style="display: grid; grid-template-columns: ${isMobile ? '1fr' : 'repeat(auto-fit, minmax(200px, 1fr))'}; gap: 8px; font-size: ${isMobile ? '0.85em' : '0.9em'};">
                        <div><strong>Duration:</strong> ${mode.duration}</div>
                        ${mode.wordCount ? `<div><strong>Length:</strong> ${mode.wordCount}</div>` : ''}
                        ${mode.size ? `<div><strong>Size:</strong> ${mode.size}</div>` : ''}
                        ${mode.format ? `<div><strong>Format:</strong> ${mode.format}</div>` : ''}
                    </div>
                    <div style="margin-top: 8px; font-size: ${isMobile ? '0.8em' : '0.85em'};">
                        <strong>Best suited for:</strong> ${mode.suitableFor.join(', ')}
                    </div>
                `;

                // Structure section - collapsible on mobile
                if (mode.assessmentModel && mode.assessmentModel.structure) {
                    const structureDiv = document.createElement('div');
                    structureDiv.style.cssText = 'margin-bottom: 15px;';
                    
                    if (isMobile) {
                        const structHeader = document.createElement('div');
                        structHeader.className = 'collapsible-header';
                        structHeader.innerHTML = `<span style="font-weight: 600;">📋 Required Structure</span><span id="struct${index}Toggle">▼</span>`;
                        
                        const structContent = document.createElement('div');
                        structContent.className = 'collapsible-content collapsed';
                        structContent.id = `struct${index}Content`;
                        
                        const structureList = document.createElement('ul');
                        structureList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.85em;';
                        mode.assessmentModel.structure.forEach(item => {
                            const li = document.createElement('li');
                            li.textContent = item;
                            li.style.cssText = 'margin-bottom: 4px;';
                            structureList.appendChild(li);
                        });
                        
                        structContent.appendChild(structureList);
                        structureDiv.appendChild(structHeader);
                        structureDiv.appendChild(structContent);
                        
                        structHeader.onclick = () => toggleCollapsible(`struct${index}Content`, `struct${index}Toggle`);
                    } else {
                        const structureTitle = document.createElement('h5');
                        structureTitle.textContent = '📋 Required Structure';
                        structureTitle.style.cssText = 'color: #2c3e50; margin-bottom: 8px; font-size: 1em;';
                        
                        const structureList = document.createElement('ul');
                        structureList.style.cssText = 'margin-left: 15px; line-height: 1.4; font-size: 0.9em;';
                        mode.assessmentModel.structure.forEach(item => {
                            const li = document.createElement('li');
                            li.textContent = item;
                            li.style.cssText = 'margin-bottom: 4px;';
                            structureList.appendChild(li);
                        });
                        
                        structureDiv.appendChild(structureTitle);
                        structureDiv.appendChild(structureList);
                    }
                    
                    modeDiv.appendChild(structureDiv);
                }

                // Mark allocation section - more compact, collapsible on mobile
                if (mode.assessmentModel && mode.assessmentModel.markAllocation) {
                    const markingDiv = document.createElement('div');
                    markingDiv.style.cssText = `background: #e8f5e8; padding: ${isMobile ? '10px' : '12px'}; border-radius: 6px; margin-bottom: 15px;`;
                    
                    const markingTitle = document.createElement('h5');
                    markingTitle.textContent = '🎯 Mark Allocation (30 marks total)';
                    markingTitle.style.cssText = `color: #2c3e50; margin-bottom: 10px; font-size: ${isMobile ? '0.95em' : '1em'};`;
                    
                    if (isMobile) {
                        // Simplified view for mobile
                        const quickRef = document.createElement('div');
                        quickRef.style.cssText = 'font-size: 0.8em; line-height: 1.3;';
                        quickRef.innerHTML = `
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                                <div>• Physics Knowledge: <strong>12 marks</strong></div>
                                <div>• Investigation: <strong>6 marks</strong></div>
                                <div>• Communication: <strong>6 marks</strong></div>
                                <div>• Analysis: <strong>4 marks</strong></div>
                                <div style="grid-column: 1/-1;">• Contemporary Context: <strong>2 marks</strong></div>
                            </div>
                        `;
                        
                        const detailsHeader = document.createElement('div');
                        detailsHeader.className = 'collapsible-header';
                        detailsHeader.style.cssText = 'margin-top: 10px;';
                        detailsHeader.innerHTML = `<span style="font-size: 0.9em;">View Detailed Rubric</span><span id="rubric${index}Toggle">▼</span>`;
                        
                        const detailsContent = document.createElement('div');
                        detailsContent.className = 'collapsible-content collapsed';
                        detailsContent.id = `rubric${index}Content`;
                        
                        Object.entries(mode.assessmentModel.markAllocation).forEach(([criterion, details]) => {
                            const criterionDiv = document.createElement('div');
                            criterionDiv.style.cssText = 'margin-bottom: 10px; padding: 8px; background: white; border-radius: 4px; border-left: 3px solid #28a745;';
                            
                            const criterionHeader = document.createElement('h6');
                            criterionHeader.textContent = `${criterion.charAt(0).toUpperCase() + criterion.slice(1).replace(/([A-Z])/g, ' $1')} (${details.marks} marks)`;
                            criterionHeader.style.cssText = 'color: #2c3e50; margin-bottom: 6px; font-size: 0.85em;';
                            
                            const descriptorsList = document.createElement('div');
                            descriptorsList.style.cssText = 'font-size: 0.75em; line-height: 1.3;';
                            
                            details.descriptors.forEach(descriptor => {
                                const descriptorDiv = document.createElement('div');
                                descriptorDiv.style.cssText = 'margin-bottom: 3px; padding: 2px 0;';
                                descriptorDiv.innerHTML = descriptor;
                                descriptorsList.appendChild(descriptorDiv);
                            });
                            
                            criterionDiv.appendChild(criterionHeader);
                            criterionDiv.appendChild(descriptorsList);
                            detailsContent.appendChild(criterionDiv);
                        });
                        
                        markingDiv.appendChild(markingTitle);
                        markingDiv.appendChild(quickRef);
                        markingDiv.appendChild(detailsHeader);
                        markingDiv.appendChild(detailsContent);
                        
                        detailsHeader.onclick = () => toggleCollapsible(`rubric${index}Content`, `rubric${index}Toggle`);
                        
                    } else {
                        // Full view for desktop
                        Object.entries(mode.assessmentModel.markAllocation).forEach(([criterion, details]) => {
                            const criterionDiv = document.createElement('div');
                            criterionDiv.style.cssText = 'margin-bottom: 12px; padding: 10px; background: white; border-radius: 4px; border-left: 4px solid #28a745;';
                            
                            const criterionHeader = document.createElement('h6');
                            criterionHeader.textContent = `${criterion.charAt(0).toUpperCase() + criterion.slice(1).replace(/([A-Z])/g, ' $1')} (${details.marks} marks)`;
                            criterionHeader.style.cssText = 'color: #2c3e50; margin-bottom: 6px; font-size: 0.95em;';
                            
                            const descriptorsList = document.createElement('div');
                            descriptorsList.style.cssText = 'font-size: 0.85em; line-height: 1.3;';
                            
                            details.descriptors.forEach(descriptor => {
                                const descriptorDiv = document.createElement('div');
                                descriptorDiv.style.cssText = 'margin-bottom: 3px; padding: 2px 0;';
                                descriptorDiv.innerHTML = descriptor;
                                descriptorsList.appendChild(descriptorDiv);
                            });
                            
                            criterionDiv.appendChild(criterionHeader);
                            criterionDiv.appendChild(descriptorsList);
                            markingDiv.appendChild(criterionDiv);
                        });
                        
                        markingDiv.insertBefore(markingTitle, markingDiv.firstChild);
                    }
                    
                    modeDiv.appendChild(markingDiv);
                }

                modeDiv.appendChild(modeTitle);
                modeDiv.appendChild(modeDescription);
                modeDiv.appendChild(basicInfo);
                
                container.appendChild(modeDiv);
            });
        }

        // Enhanced results rendering with comprehensive information
        function renderResults(container = document.getElementById('questionContainer')) {
            const lastChoice = pathHistory[pathHistory.length - 1];
            const lastNode = questionTree[lastChoice.node];
            const selectedTopics = lastNode.options[lastChoice.selection].topics || [];

            container.innerHTML = '';

            const resultsDiv = document.createElement('div');
            resultsDiv.className = 'recommendations';

            const title = document.createElement('h2');
            title.textContent = '🎯 Your Recommended Physics Topics';
            title.style.marginBottom = '25px';
            title.style.color = '#2c3e50';
            
            // Add student name if provided
            if (studentName.trim()) {
                const nameDiv = document.createElement('div');
                nameDiv.style.cssText = 'background: #e8f4f8; padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #3498db;';
                nameDiv.innerHTML = `<strong>Student:</strong> ${studentName.trim()}`;
                resultsDiv.appendChild(nameDiv);
            }
            
            resultsDiv.appendChild(title);

            selectedTopics.forEach(topicId => {
                const topic = topics[topicId];
                if (!topic) return;

                const recDiv = document.createElement('div');
                recDiv.className = 'recommendation-item';

                // Topic title and description
                const recTitle = document.createElement('div');
                recTitle.className = 'recommendation-title';
                recTitle.textContent = `Option ${topicId}: ${topic.title}`;

                const recDesc = document.createElement('div');
                recDesc.className = 'recommendation-description';
                recDesc.textContent = topic.description;

                const recWhy = document.createElement('div');
                recWhy.className = 'recommendation-why';
                recWhy.textContent = `Why this matches: ${topic.presentation}`;

                // Assessment section
                const assessmentDiv = document.createElement('div');
                assessmentDiv.className = 'assessment-section';
                assessmentDiv.style.cssText = `
                    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
                    border: 2px solid #ffc107;
                    border-radius: 12px;
                    padding: 20px;
                    margin: 20px 0;
                `;

                const assessmentTitle = document.createElement('h4');
                assessmentTitle.textContent = '📝 Assessment Recommendations';
                assessmentTitle.style.cssText = 'color: #856404; margin-bottom: 15px; font-size: 1.1em;';

                if (topic.assessmentModes) {
                    const modesDiv = document.createElement('div');
                    modesDiv.innerHTML = `<strong>Recommended Assessment Modes:</strong> ${topic.assessmentModes.recommended.join(', ')}`;
                    modesDiv.style.cssText = 'margin-bottom: 12px; color: #856404;';

                    const considerationsDiv = document.createElement('div');
                    considerationsDiv.innerHTML = '<strong>Assessment Considerations:</strong>';
                    considerationsDiv.style.cssText = 'margin-bottom: 8px; color: #856404;';

                    const considList = document.createElement('ul');
                    considList.style.cssText = 'margin-left: 20px; color: #856404; font-size: 0.9em;';
                    topic.assessmentModes.considerations.forEach(consideration => {
                        const li = document.createElement('li');
                        li.textContent = consideration;
                        li.style.cssText = 'margin-bottom: 4px; line-height: 1.4;';
                        considList.appendChild(li);
                    });

                    assessmentDiv.appendChild(assessmentTitle);
                    assessmentDiv.appendChild(modesDiv);
                    assessmentDiv.appendChild(considerationsDiv);
                    assessmentDiv.appendChild(considList);
                } else {
                    assessmentDiv.innerHTML = `
                        <h4 style="color: #856404; margin-bottom: 10px;">📝 Assessment Recommendations</h4>
                        <p style="color: #856404;">Recommended modes: Research Investigation, Scientific Presentation, or Written Report based on topic complexity and your interests.</p>
                    `;
                }

                // Key Knowledge section
                const keyKnowledgeDiv = document.createElement('div');
                keyKnowledgeDiv.className = 'key-knowledge';
                keyKnowledgeDiv.innerHTML = '<h4>📚 Key Knowledge (VCAA Requirements):</h4>';
                const knowledgeList = document.createElement('ul');
                topic.keyKnowledge.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    knowledgeList.appendChild(li);
                });
                keyKnowledgeDiv.appendChild(knowledgeList);

                // Contexts section
                const contextsDiv = document.createElement('div');
                contextsDiv.className = 'contexts-box';
                contextsDiv.innerHTML = '<h4>🎯 Possible Exploration Contexts:</h4>';
                const contextsList = document.createElement('ul');
                topic.contexts.forEach(context => {
                    const li = document.createElement('li');
                    li.textContent = context;
                    contextsList.appendChild(li);
                });
                contextsDiv.appendChild(contextsList);

                // Topic details
                const details = document.createElement('div');
                details.className = 'topic-details';
                details.innerHTML = `
                    <strong>Difficulty Level:</strong> ${topic.difficulty}<br>
                    <strong>Mathematics Required:</strong> ${topic.mathLevel}<br>
                    <strong>Contemporary Relevance:</strong> ${topic.relevance}
                `;

                // Concepts tags
                const conceptsDiv = document.createElement('div');
                conceptsDiv.className = 'topic-concepts';
                conceptsDiv.innerHTML = '<strong>Key Physics Concepts:</strong><br>';
                topic.concepts.forEach(concept => {
                    const tag = document.createElement('span');
                    tag.className = 'concept-tag';
                    tag.textContent = concept;
                    conceptsDiv.appendChild(tag);
                });

                details.appendChild(conceptsDiv);

                recDiv.appendChild(recTitle);
                recDiv.appendChild(recDesc);
                recDiv.appendChild(recWhy);
                recDiv.appendChild(assessmentDiv);
                recDiv.appendChild(keyKnowledgeDiv);
                recDiv.appendChild(contextsDiv);
                recDiv.appendChild(details);
                resultsDiv.appendChild(recDiv);
            });

            // Add assessment selection section
            const assessmentSelectionDiv = document.createElement('div');
            assessmentSelectionDiv.className = 'assessment-selection-section';
            assessmentSelectionDiv.style.cssText = `
                background: linear-gradient(135deg, #f0f8ff, #e6f3ff);
                border: 2px solid #3498db;
                border-radius: 15px;
                padding: 25px;
                margin: 30px 0;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            `;

            const assessmentTitle = document.createElement('h3');
            assessmentTitle.textContent = '📋 Assessment Mode Selection & Details';
            assessmentTitle.style.cssText = 'color: #2c3e50; margin-bottom: 20px; font-size: 1.3em;';

            // Get available assessment modes for selected topics
            const availableModes = getAvailableAssessmentModes(selectedTopics);
            const unavailableModes = getAllAssessmentModes().filter(mode => !availableModes.some(am => am.key === mode.key));

            // Create dropdown
            const dropdownContainer = document.createElement('div');
            dropdownContainer.style.cssText = 'margin-bottom: 20px;';

            const dropdown = document.createElement('select');
            dropdown.id = 'assessmentModeSelector';
            dropdown.style.cssText = `
                width: 100%;
                max-width: 500px;
                padding: 12px;
                font-size: 1em;
                border: 2px solid #3498db;
                border-radius: 8px;
                background: white;
                cursor: pointer;
            `;

            // Add default option
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'Choose an assessment type...';
            dropdown.appendChild(defaultOption);

            // Add select all option
            const selectAllOption = document.createElement('option');
            selectAllOption.value = 'all';
            selectAllOption.textContent = 'Show All Available Assessment Types';
            dropdown.appendChild(selectAllOption);

            // Add available modes
            availableModes.forEach(mode => {
                const option = document.createElement('option');
                option.value = mode.key;
                option.textContent = mode.name;
                dropdown.appendChild(option);
            });

            // Add explanation
            const explanationDiv = document.createElement('div');
            explanationDiv.style.cssText = 'margin-top: 15px; padding: 12px; background: #e8f4f8; border-radius: 8px; font-size: 0.9em; color: #0c5460;';
            
            let explanationText = `<strong>Available for your selected topics:</strong> ${availableModes.map(m => m.name.replace(' (30 marks)', '')).join(', ')}`;
            
            if (unavailableModes.length > 0) {
                explanationText += `<br><strong>Not recommended for your topics:</strong> ${unavailableModes.map(m => m.name.replace(' (30 marks)', '')).join(', ')} - These modes don't align well with the physics content and presentation style of your selected options.`;
            }
            
            explanationDiv.innerHTML = explanationText;

            // Assessment details container
            const assessmentDetailsContainer = document.createElement('div');
            assessmentDetailsContainer.id = 'assessmentDetailsContainer';
            assessmentDetailsContainer.style.cssText = 'margin-top: 20px;';

            // Add dropdown change handler
            dropdown.addEventListener('change', function() {
                displayAssessmentDetails(this.value, availableModes, assessmentDetailsContainer);
            });

            dropdownContainer.appendChild(dropdown);
            dropdownContainer.appendChild(explanationDiv);

            assessmentSelectionDiv.appendChild(assessmentTitle);
            assessmentSelectionDiv.appendChild(dropdownContainer);
            assessmentSelectionDiv.appendChild(assessmentDetailsContainer);

            resultsDiv.appendChild(assessmentSelectionDiv);

            // Add comprehensive resources section
            const resourcesDiv = document.createElement('div');
            resourcesDiv.className = 'resources-section';
            resourcesDiv.innerHTML = '<h3>📖 Study Resources & Tools</h3>';

            const resourcesGrid = document.createElement('div');
            resourcesGrid.className = 'resources-grid';

            // Vocabulary section - topic specific
            const vocabBox = document.createElement('div');
            vocabBox.className = 'resource-box';
            vocabBox.innerHTML = '<h4>🔤 Essential Vocabulary</h4>';
            const vocabList = document.createElement('ul');
            
            // Get vocabulary from selected topics
            const topicVocab = selectedTopics.flatMap(id => topics[id]?.vocabulary || []);
            
            topicVocab.forEach(term => {
                const li = document.createElement('li');
                li.innerHTML = createWikipediaLink(term);
                vocabList.appendChild(li);
            });
            vocabBox.appendChild(vocabList);

            // Search terms section - topic specific
            const searchBox = document.createElement('div');
            searchBox.className = 'resource-box';
            searchBox.innerHTML = '<h4>🔍 Effective Search Terms</h4>';
            const searchList = document.createElement('ul');
            
            // Get search terms from selected topics
            const topicSearchTerms = selectedTopics.flatMap(id => topics[id]?.searchTerms || []);
            
            topicSearchTerms.forEach(term => {
                const li = document.createElement('li');
                li.innerHTML = createGoogleSearchLink(term);
                searchList.appendChild(li);
            });
            searchBox.appendChild(searchList);

            // Quick reference marking guide
            const markingGuideBox = document.createElement('div');
            markingGuideBox.className = 'resource-box';
            markingGuideBox.innerHTML = '<h4>📊 Quick Success Guide</h4>';
            
            const guideContent = document.createElement('div');
            guideContent.innerHTML = `
                <div style="background: #e8f5e8; padding: 10px; border-radius: 6px; margin-bottom: 8px;">
                    <strong style="font-size: 0.9em;">For High Marks (25-30):</strong>
                    <div style="font-size: 0.8em; margin-top: 4px; line-height: 1.3;">
                        ✓ Advanced physics + calculations (10-12)<br>
                        ✓ Thorough research + evaluation (5-6)<br>
                        ✓ Clear, professional format (5-6)<br>
                        ✓ Strong analysis + conclusions (4)<br>
                        ✓ Contemporary relevance (2)
                    </div>
                </div>
                <div style="background: #fff3cd; padding: 10px; border-radius: 6px;">
                    <strong style="font-size: 0.9em;">Common Issues to Avoid:</strong>
                    <div style="font-size: 0.8em; margin-top: 4px; line-height: 1.3;">
                        • Calculation errors, unclear physics<br>
                        • Unreliable sources, weak research<br>
                        • Poor formatting, missing conventions<br>
                        • Weak analysis, unsupported claims<br>
                        • No real-world connections
                    </div>
                </div>
            `;
            markingGuideBox.appendChild(guideContent);

            // AI prompts section - topic specific
            const promptBox = document.createElement('div');
            promptBox.className = 'resource-box';
            promptBox.innerHTML = '<h4>🤖 AI Chatbot Prompts</h4>';
            const promptList = document.createElement('ul');
            
            // Get AI prompts from selected topics
            const topicAIPrompts = selectedTopics.flatMap(id => topics[id]?.aiPrompts || []);
            
            topicAIPrompts.forEach((prompt, index) => {
                const li = document.createElement('li');
                li.innerHTML = createAIPromptLink(prompt, index);
                promptList.appendChild(li);
            });
            promptBox.appendChild(promptList);

            // Websites section
            const websiteBox = document.createElement('div');
            websiteBox.className = 'resource-box';
            websiteBox.innerHTML = '<h4>🌐 Recommended Websites</h4>';
            const websiteList = document.createElement('ul');
            webResources.websites.forEach(site => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="${site.url}" target="_blank">${site.name}</a><br><small>${site.description}</small>`;
                websiteList.appendChild(li);
            });
            websiteBox.appendChild(websiteList);

            resourcesGrid.appendChild(vocabBox);
            resourcesGrid.appendChild(searchBox);
            resourcesGrid.appendChild(markingGuideBox);
            resourcesGrid.appendChild(promptBox);
            resourcesGrid.appendChild(websiteBox);
            resourcesDiv.appendChild(resourcesGrid);

            resultsDiv.appendChild(resourcesDiv);

            // Add print section at the bottom
            const printSection = document.createElement('div');
            printSection.style.cssText = 'background: #fff3cd; padding: 12px; border-radius: 6px; margin: 20px 0 15px 0; border-left: 4px solid #ffc107; text-align: center;';
            printSection.innerHTML = `
                <p style="margin-bottom: 8px; color: #856404; font-size: 0.9em;"><strong>💡 Tip:</strong> You may want to print or save this page as a PDF for reference</p>
                <button onclick="printResults()" style="
                    background: linear-gradient(135deg, #ffc107, #e0a800);
                    color: #856404;
                    border: none;
                    padding: 8px 16px;
                    border-radius: 4px;
                    font-weight: 600;
                    cursor: pointer;
                    font-size: 0.9em;
                    transition: all 0.3s ease;
                " onmouseover="this.style.transform='translateY(-1px)'" onmouseout="this.style.transform='translateY(0)'">
                    🖨️ Print This Page
                </button>
            `;

            resultsDiv.appendChild(printSection);
            container.appendChild(resultsDiv);

            // Update navigation
            document.getElementById('nextBtn').style.display = 'none';
            createBreadcrumb();
        }

        function resetQuiz() {
            if (confirm('Are you sure you want to start over?')) {
                currentNode = 'start';
                selectedOption = null;
                pathHistory = [];
                userChoices = {};
                currentTheme = 'neutral';
                hasDoubleClicked = false;
                studentName = '';
                
                document.getElementById('nextBtn').style.display = 'block';
                
                renderQuestion();
                updateProgress();
                saveState();
            }
        }

        // Print function
        function printResults() {
            // Add print-specific title with student name
            const originalTitle = document.title;
            if (studentName.trim()) {
                document.title = `VCE Physics Topic Selection - ${studentName.trim()}`;
            } else {
                document.title = 'VCE Physics Topic Selection Results';
            }
            
            window.print();
            
            // Restore original title
            document.title = originalTitle;
        }

        // Initialize when page loads
        window.onload = init;
        
        // Handle window resize for responsive layout
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                // Re-render current question if assessment overview is showing to handle mobile/desktop switch
                if (currentNode === 'start') {
                    renderQuestion();
                }
            }, 250);
        });
    </script>
</body>
</html>