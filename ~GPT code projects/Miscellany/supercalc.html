<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Long-Term Investment Calculator</title>
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .control { margin-bottom: 10px; }
    label { display: inline-block; width: 160px; }
    input[type=range] { width: 300px; }
    .value { font-weight: bold; margin-left: 8px; }
  </style>
</head>
<body>
  <h1>Long-Term Investment Calculator</h1>

  <div class="control">
    <label for="years">Investment Period (years):</label>
    <input type="range" id="years" min="1" max="50" value="10">
    <span class="value" id="yearsValue">10</span>
  </div>

  <div class="control">
    <label for="initial">Initial Capital ($):</label>
    <input type="range" id="initial" min="1000" max="100000" step="1000" value="10000">
    <span class="value" id="initialValue">10000</span>
  </div>

  <div class="control">
    <label for="returnRate">Average Return Rate (%):</label>
    <input type="range" id="returnRate" min="0" max="20" step="0.1" value="5">
    <span class="value" id="returnValue">5.0</span>
  </div>

  <div class="control">
    <label for="inflationRate">Annual Inflation Rate (%):</label>
    <input type="range" id="inflationRate" min="0" max="10" step="0.1" value="2">
    <span class="value" id="inflationValue">2.0</span>
  </div>

  <canvas id="chart" width="800" height="400"></canvas>

<script>
  const yearsSlider = document.getElementById('years');
  const initialSlider = document.getElementById('initial');
  const returnSlider = document.getElementById('returnRate');
  const inflationSlider = document.getElementById('inflationRate');

  const yearsValue = document.getElementById('yearsValue');
  const initialValue = document.getElementById('initialValue');
  const returnValue = document.getElementById('returnValue');
  const inflationValue = document.getElementById('inflationValue');

  const ctx = document.getElementById('chart').getContext('2d');
  const currentYear = new Date().getFullYear();

  function generateData() {
    const years = parseInt(yearsSlider.value);
    const initial = parseFloat(initialSlider.value);
    const r = parseFloat(returnSlider.value) / 100;
    const i = parseFloat(inflationSlider.value) / 100;

    const labels = [];
    const nominalData = [];
    const realData = [];

    for (let y = 0; y <= years; y++) {
      labels.push(currentYear + y);
      const nominal = initial * Math.pow(1 + r, y);
      const real = nominal / Math.pow(1 + i, y);
      nominalData.push(nominal.toFixed(2));
      realData.push(real.toFixed(2));
    }

    return { labels, nominalData, realData };
  }

  function updateChart(chart) {
    const { labels, nominalData, realData } = generateData();
    chart.data.labels = labels;
    chart.data.datasets[0].data = nominalData;
    chart.data.datasets[1].data = realData;
    chart.update();
  }

  const chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: [],
      datasets: [
        {
          label: 'Nominal Value',
          data: [],
          borderColor: 'blue',
          fill: false
        },
        {
          label: 'Inflation-Adjusted Value',
          data: [],
          borderColor: 'red',
          fill: false
        }
      ]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            callback: value => '$' + value
          }
        }
      }
    }
  });

  [yearsSlider, initialSlider, returnSlider, inflationSlider].forEach(slider => {
    slider.addEventListener('input', () => {
      yearsValue.textContent = yearsSlider.value;
      initialValue.textContent = initialSlider.value;
      returnValue.textContent = parseFloat(returnSlider.value).toFixed(1);
      inflationValue.textContent = parseFloat(inflationSlider.value).toFixed(1);
      updateChart(chart);
    });
  });

  // Initial chart render
  updateChart(chart);
</script>
</body>
</html>
