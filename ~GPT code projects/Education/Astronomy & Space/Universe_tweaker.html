<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universe Tweaker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #fff;
            min-height: 100vh;
            padding: 10px;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(120, 80, 200, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(80, 120, 200, 0.1) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
        }

        .controls-panel {
            width: 280px;
            flex-shrink: 0;
        }

        .description-panel {
            flex: 1;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            min-height: 500px;
            max-height: 90vh;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
        }

        h1 {
            font-size: 1.3rem;
            margin-bottom: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .subtitle {
            color: #888;
            margin-bottom: 12px;
            font-size: 0.75rem;
        }

        .particles-list {
            display: flex;
            flex-direction: column;
            gap: 3px;
            margin-bottom: 12px;
        }

        .particle-row {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 6px 10px;
            transition: all 0.2s ease;
            height: 32px;
        }

        .particle-row:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .particle-name {
            flex: 1;
            font-size: 0.8rem;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .particle-category {
            font-size: 0.65rem;
            color: #666;
            margin-right: 8px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            width: 35px;
            text-align: right;
        }

        .mass-controls {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .mass-buttons {
            display: flex;
            gap: 1px;
        }

        .mass-button {
            width: 24px;
            height: 24px;
            border: none;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .mass-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .mass-button:active {
            transform: scale(0.9);
        }

        .mass-indicator {
            width: 50px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            position: relative;
            overflow: hidden;
            margin-left: 6px;
        }

        .mass-dot {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mass-dot.default {
            left: 50%;
            background: #667eea;
        }

        .mass-dot.decreased {
            left: 20%;
            background: #f5576c;
        }

        .mass-dot.increased {
            left: 80%;
            background: #00f2fe;
        }

        .reset-all-button {
            width: 100%;
            padding: 6px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #fff;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .reset-all-button:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .description-header {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #fff;
        }

        .description-content {
            color: #ccc;
            line-height: 1.6;
            font-size: 0.9rem;
            flex: 1;
            overflow-y: auto;
        }

        /* Custom scrollbar for description content */
        .description-content::-webkit-scrollbar {
            width: 8px;
        }

        .description-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .description-content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        .description-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .description-content strong {
            color: #fff;
            font-weight: 600;
        }

        .placeholder-text {
            color: #666;
            font-style: italic;
            text-align: center;
            margin-top: 80px;
        }

        /* Category colors */
        .quark { color: #a78bfa; }
        .lepton { color: #60a5fa; }
        .boson { color: #34d399; }

        /* Level selector styles */
        .level-selector {
            display: flex;
            gap: 8px;
            background: rgba(255, 255, 255, 0.05);
            padding: 4px;
            border-radius: 6px;
        }

        .level-option {
            position: relative;
            cursor: pointer;
        }

        .level-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .level-option span {
            display: block;
            padding: 4px 12px;
            font-size: 0.8rem;
            font-weight: 500;
            color: #888;
            background: transparent;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .level-option input[type="radio"]:checked + span {
            background: rgba(102, 126, 234, 0.3);
            color: #fff;
            border-color: #667eea;
        }

        .level-option:hover span {
            color: #ccc;
        }

        /* Integrated checkbox styles */
        .integrated-checkbox {
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            color: #888;
        }

        .integrated-checkbox input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .integrated-checkbox:hover {
            color: #ccc;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .controls-panel {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="controls-panel">
            <h1>Universe Tweaker</h1>
            <p class="subtitle">Adjust particle masses</p>
            
            <div class="particles-list" id="particlesList"></div>
            
            <div style="display: flex; gap: 4px;">
                <button class="reset-all-button" onclick="resetAll()">Reset</button>
                <button class="reset-all-button" onclick="randomizeAll()">Random</button>
            </div>
        </div>
        
        <div class="description-panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <h2 class="description-header">Universe Status</h2>
                    <label class="integrated-checkbox">
                        <input type="checkbox" id="integratedMode" onchange="updateDescription()">
                        <span>Integrated</span>
                    </label>
                </div>
                <div class="level-selector">
                    <label class="level-option">
                        <input type="radio" name="level" value="L1" checked onchange="updateDescription()">
                        <span>L1</span>
                    </label>
                    <label class="level-option">
                        <input type="radio" name="level" value="L2" onchange="updateDescription()">
                        <span>L2</span>
                    </label>
                    <label class="level-option">
                        <input type="radio" name="level" value="L3" onchange="updateDescription()">
                        <span>L3</span>
                    </label>
                    <label class="level-option">
                        <input type="radio" name="level" value="L4" onchange="updateDescription()">
                        <span>L4</span>
                    </label>
                </div>
            </div>
            <div class="description-content" id="descriptionContent">
                <p class="placeholder-text">Adjust particle masses to see how the universe changes...</p>
            </div>
        </div>
    </div>

    <script>
        const particles = [
            { name: "Up Quark", category: "quark" },
            { name: "Down Quark", category: "quark" },
            { name: "Strange Quark", category: "quark" },
            { name: "Charm & Bottom", category: "quark" },
            { name: "Top Quark", category: "quark" },
            { name: "Electron", category: "lepton" },
            { name: "Muon & Tau", category: "lepton" },
            { name: "Neutrinos", category: "lepton" },
            { name: "W/Z Bosons", category: "boson" },
            { name: "Higgs Boson", category: "boson" }
        ];

        // All particle descriptions
        const descriptions = {
            "Up Quark": {
                increase: {
                    L1: "More neutrons → more helium",
                    L2: "Narrower n–p gap boosts neutron survival in BBN, yields He-rich early universe",
                    L3: "Heavier u reduces the neutron–proton mass difference → higher neutron fraction at freeze-out, excess helium and potentially bound di-protons speeding stellar fusion",
                    L4: "If the up quark were a bit heavier, the universe would have too much helium and too little hydrogen for stars and water."
                },
                decrease: {
                    L1: "Fewer neutrons → more hydrogen",
                    L2: "Wider n–p gap accelerates neutron decay → scant helium in BBN, H-dominated cosmos",
                    L3: "Lighter u amplifies n–p mass split → severe deuterium bottleneck, delays heavy element synthesis until stars",
                    L4: "If the up quark were a bit lighter, nearly all hydrogen remains but stars struggle to make helium for life's ingredients."
                }
            },
            "Down Quark": {
                increase: {
                    L1: "Fewer neutrons → more hydrogen",
                    L2: "Heavier d enlarges n–p gap, neutrons decay faster → low primordial He, H-rich universe",
                    L3: "Stronger mass split may unbind deuterium, forcing stars to rely on rarer fusion chains",
                    L4: "A heavier down quark means almost no helium formed, leaving a universe full of hydrogen but few ingredients for life."
                },
                decrease: {
                    L1: "More neutrons → more helium",
                    L2: "Lighter d shrinks n–p gap, neutrons live longer → elevated He from BBN, risk stable neutrons",
                    L3: "If neutrons became lighter than protons, hydrogen could beta-decay, erasing stable H and chemistry",
                    L4: "A lighter down quark gives too much helium and very few hydrogen atoms, so water and stars like ours can't form."
                }
            },
            "Strange Quark": {
                increase: {
                    L1: "Heavier hyperons, negligible chemistry impact",
                    L2: "Suppressed s-quark production → fewer hyperons in neutron stars, slightly stiffer EOS, higher max NS mass",
                    L3: "Raises threshold for strange matter; strangelets even less likely, cosmos dominated by u/d matter",
                    L4: "A heavier strange quark barely affects chemistry, but neutron stars would be more neutron-like and less strange."
                },
                decrease: {
                    L1: "Lighter hyperons, subtle astrophysics shift",
                    L2: "Easier hyperon/kaon formation in neutron stars → softer core EOS, lower NS mass limit",
                    L3: "Moves toward strange-matter stability; extreme drop could convert nuclei to strange quark matter",
                    L4: "A lighter strange quark might let weird \"strange matter\" form in stars, changing how dead stars behave."
                }
            },
            "Charm & Bottom": {
                increase: {
                    L1: "Heavier D/B mesons, ultra-early impact only",
                    L2: "Slightly shorter lifetimes, earlier annihilation in the first microseconds",
                    L3: "No effect on BBN or stars; only high-energy scattering and negligible entropy shift",
                    L4: "Heavier charm and bottom quarks vanish early in the Big Bang, so everyday matter and stars stay just the same."
                },
                decrease: {
                    L1: "Lighter D/B mesons, trivial",
                    L2: "Marginally longer lifetimes, tiny boost in charm/bottom abundance early on",
                    L3: "Still vanish before nucleosynthesis; no change to chemistry or stellar evolution",
                    L4: "Lighter charm and bottom quarks survive a hair longer after the Big Bang, without altering atoms or stars."
                }
            },
            "Top Quark": {
                increase: {
                    L1: "Vacuum destabilized → cosmic self-destruct",
                    L2: "Heavier t pushes Higgs potential to true vacuum, triggering early collapse",
                    L3: "A few-percent heavier t makes our electroweak vacuum unstable—universe would have tunneled to catastrophe",
                    L4: "A heavier top quark risks our universe's stability, causing it to collapse early in a hidden catastrophe."
                },
                decrease: {
                    L1: "Vacuum made safe",
                    L2: "Lighter t secures a stable Higgs vacuum, no risk of decay",
                    L3: "Electroweak vacuum becomes absolutely stable; no change to atoms or stars",
                    L4: "A lighter top quark makes our universe safely stable, but otherwise leaves stars, atoms, and life unchanged."
                }
            },
            "Electron": {
                increase: {
                    L1: "Tighter atoms; slight stellar tweak",
                    L2: "Smaller Bohr radius, higher ionization; white-dwarf limit ↓10%",
                    L3: "Heavier e shrinks atoms (a₀∝1/mₑ), raises fusion thresholds, mildly speeds up stellar burn and shortens WD mass cap",
                    L4: "A slightly heavier electron makes atoms smaller and stars burn a bit hotter, but life could adapt."
                },
                decrease: {
                    L1: "Looser atoms; gentler stars",
                    L2: "Larger atoms, lower ionization; WD limit ↑10%, low-mass stars ignite more easily",
                    L3: "Lighter e expands atomic size, lengthens stellar lifetimes, allows heavier WDs and more long-lived low-mass stars",
                    L4: "A slightly lighter electron makes atoms larger and stars burn cooler and longer, giving more time for life."
                }
            },
            "Muon & Tau": {
                increase: {
                    L1: "Faster decays, no macro effect",
                    L2: "Shorter μ/τ lifetimes, vanish earlier in early universe",
                    L3: "Muon/tau remain too fleeting for BBN or stars; only minor changes in cosmic ray showers",
                    L4: "Faster muon and tau decays happen only in particle labs and the early universe, so no effect on life."
                },
                decrease: {
                    L1: "Slower decays, still transient",
                    L2: "Slightly longer μ/τ lifetimes, marginally extended presence at MeV temperatures",
                    L3: "No impact on nucleosynthesis or structure; heavy leptons never bound in atoms",
                    L4: "Longer muon and tau lifetimes still vanish too fast to touch atoms, chemistry, or stars."
                }
            },
            "Neutrinos": {
                increase: {
                    L1: "Negligible",
                    L2: "Turn non-relativistic a tad earlier; tiny hot-DM tweak",
                    L3: "+5% mass shifts free-streaming scale by ≪1%, no visible effect on galaxies or BBN",
                    L4: "Heavier neutrinos slow down cosmic ripples a tiny bit, but galaxies and stars form just the same."
                },
                decrease: {
                    L1: "Negligible",
                    L2: "Stay relativistic slightly longer; even less hot-DM damping",
                    L3: "–5% mass change is too small to alter structure formation or supernova dynamics",
                    L4: "Lighter neutrinos flow even more freely, leaving galaxy formation and early chemistry untouched."
                }
            },
            "W/Z Bosons": {
                increase: {
                    L1: "Weaker weak force: more He, slower fusion, faltering supernovae",
                    L2: "Higher M_W ⇒ G_F↓10% → earlier weak-freeze-out (↑He), slower p–p fusion, SN neutrinos escape too freely",
                    L3: "Weaker weak interactions boost primordial He, throttle stellar ignition thresholds, and risk failed core-collapse explosions (fewer heavy elements)",
                    L4: "A weaker weak force means more helium, slower suns, and fewer supernovas to spread life's elements."
                },
                decrease: {
                    L1: "Stronger weak force: less He, faster fusion, harsher SN",
                    L2: "Lower M_W ⇒ G_F↑10% → later freeze-out (↓He), quicker p–p chain, SN neutrinos over-deposit energy",
                    L3: "Stronger weak interactions reduce BBN He, accelerate stellar burn (shorter lifetimes), and could over-energize or stall supernova mechanisms",
                    L4: "A stronger weak force means less helium, faster-burning suns, and harsher supernovas changing how elements scatter."
                }
            },
            "Higgs Boson": {
                increase: {
                    L1: "Vacuum made stable",
                    L2: "Heavier H (≈130 GeV) → self-coupling↑ → absolute vacuum stability",
                    L3: "+5% m_H removes metastability risk; electroweak crossover unchanged, stars and chemistry unaffected",
                    L4: "A heavier Higgs makes our universe permanently stable but doesn't affect atoms or stars we see."
                },
                decrease: {
                    L1: "Vacuum risk",
                    L2: "Lighter H (≈119 GeV) → self-coupling↓ → rapid vacuum decay",
                    L3: "–5% m_H likely triggers early vacuum collapse; no change to atomic/nuclear physics before destruction",
                    L4: "A lighter Higgs risks sudden collapse of all matter, ending the universe before life can flourish."
                }
            }
        };

        // Store particle states (0: default, -1: decreased, 1: increased)
        const particleStates = {};
        particles.forEach(p => {
            particleStates[p.name] = 0;
        });

        // Integrated descriptions - will be populated with the provided data
        const integratedDescriptions = {
            // Format: "stateKey": "description"
            // State key is a string of 10 characters representing each particle's state in order:
            // Up, Down, Strange, Charm&Bottom, Top, Electron, Muon&Tau, Neutrinos, W/Z, Higgs
            // Each position uses: '-' for decreased (-1), '0' for default (0), '+' for increased (1)
            // Example: "0000000000" = all default
            // Example: "+0-0000000" = up quark increased, strange quark decreased, rest default
        };

        function getStateKey() {
            // Generate a key representing the current state of all particles
            // Convert -1 to '-', 0 to '0', 1 to '+'
            return particles.map(p => {
                const state = particleStates[p.name];
                if (state === -1) return '-';
                if (state === 1) return '+';
                return '0';
            }).join('');
        }

        function createParticleRow(particle) {
            const row = document.createElement('div');
            row.className = 'particle-row';
            row.innerHTML = `
                <span class="particle-name">${particle.name}</span>
                <span class="particle-category ${particle.category}">${particle.category.slice(0,3)}</span>
                <div class="mass-controls">
                    <div class="mass-buttons">
                        <button class="mass-button" onclick="adjustMass('${particle.name}', -1)">−</button>
                        <button class="mass-button" onclick="adjustMass('${particle.name}', 1)">+</button>
                    </div>
                    <div class="mass-indicator">
                        <div class="mass-dot default" id="dot-${particle.name.replace(/[\s&\/]/g, '-')}"></div>
                    </div>
                </div>
            `;
            return row;
        }

        function adjustMass(particleName, delta) {
            const currentState = particleStates[particleName];
            let newState = currentState + delta;
            
            // Clamp between -1 and 1
            newState = Math.max(-1, Math.min(1, newState));
            particleStates[particleName] = newState;
            
            updateParticleDisplay(particleName);
            updateDescription();
        }

        function updateParticleDisplay(particleName) {
            const state = particleStates[particleName];
            const dotId = `dot-${particleName.replace(/[\s&\/]/g, '-')}`;
            const dot = document.getElementById(dotId);
            
            if (dot) {
                dot.className = 'mass-dot';
                if (state === -1) {
                    dot.classList.add('decreased');
                } else if (state === 1) {
                    dot.classList.add('increased');
                } else {
                    dot.classList.add('default');
                }
            }
        }

        function updateDescription() {
            const descContent = document.getElementById('descriptionContent');
            const integratedMode = document.getElementById('integratedMode').checked;
            const levelSelector = document.querySelector('.level-selector');
            
            // Show/hide level selector based on mode
            levelSelector.style.display = integratedMode ? 'none' : 'flex';
            
            if (integratedMode) {
                // Integrated mode - show combined description based on all particle states
                const stateKey = getStateKey();
                const integratedDesc = integratedDescriptions[stateKey];
                
                if (integratedDesc) {
                    descContent.innerHTML = `<div>${integratedDesc}</div>`;
                } else {
                    descContent.innerHTML = '<p class="placeholder-text">No integrated description available for this configuration.</p>';
                }
            } else {
                // Individual mode - show descriptions for each changed particle
                const selectedLevel = document.querySelector('input[name="level"]:checked').value;
                const descriptionLines = [];
                
                // Go through particles in order
                particles.forEach(particle => {
                    const state = particleStates[particle.name];
                    if (state !== 0 && descriptions[particle.name]) {
                        const direction = state === 1 ? 'increase' : 'decrease';
                        const desc = descriptions[particle.name][direction][selectedLevel];
                        if (desc) {
                            descriptionLines.push(`<strong>${particle.name}:</strong> ${desc}`);
                        }
                    }
                });
                
                if (descriptionLines.length === 0) {
                    descContent.innerHTML = '<p class="placeholder-text">Adjust particle masses to see how the universe changes...</p>';
                } else {
                    // Join all descriptions with line breaks
                    descContent.innerHTML = descriptionLines.join('<br><br>');
                }
            }
        }

        function resetAll() {
            Object.keys(particleStates).forEach(particleName => {
                particleStates[particleName] = 0;
                updateParticleDisplay(particleName);
            });
            updateDescription();
        }

        function randomizeAll() {
            Object.keys(particleStates).forEach(particleName => {
                // Randomly choose -1, 0, or 1
                particleStates[particleName] = Math.floor(Math.random() * 3) - 1;
                updateParticleDisplay(particleName);
            });
            updateDescription();
        }

        // Initialize the list
        const list = document.getElementById('particlesList');
        particles.forEach(particle => {
            list.appendChild(createParticleRow(particle));
        });
        
        // Initialize description
        updateDescription();
    </script>
</body>
</html>