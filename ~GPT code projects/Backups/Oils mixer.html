<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oil Paint Mixing Simulator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 10px;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            box-sizing: border-box;
        }
        .palette, .brush-sizes, .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 10px;
        }
        .color-swatch {
            width: 70px;
            height: 70px;
            margin: 5px;
            text-align: center;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            position: relative;
            cursor: pointer;
            border: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            user-select: none;
        }
        .color-swatch.selected {
            border: 3px solid #000;
        }
        .color-label {
            position: absolute;
            bottom: 5px;
            width: 100%;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        .brush-size {
            margin: 5px;
            border-radius: 50%;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 3px solid transparent;
            font-size: 10px;
            color: #000;
            user-select: none;
        }
        .brush-size.selected {
            border: 3px solid #000;
        }
        .brush-size[data-size="1"] { width: 20px; height: 20px; }
        .brush-size[data-size="2"] { width: 30px; height: 30px; }
        .brush-size[data-size="4"] { width: 40px; height: 40px; }
        .brush-size[data-size="8"] { width: 50px; height: 50px; }
        .brush-size[data-size="16"] { width: 60px; height: 60px; }
        .brush-size[data-size="32"] { width: 70px; height: 70px; }
        .mixing-area {
            width: 90%;
            max-width: 600px;
            height: 200px;
            background-color: #fff;
            border: 2px solid #000;
            position: relative;
            margin-bottom: 10px;
            cursor: crosshair;
            display: flex;
            align-items: flex-end;
            justify-content: flex-end;
            padding: 5px;
            box-sizing: border-box;
            user-select: none;
        }
        .cmy-value {
            font-size: 12px;
            font-weight: bold;
            color: #000;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
        }
        .ratio-indicator {
            width: 90%;
            max-width: 600px;
            height: 20px;
            background-color: #eee;
            border: 2px solid #000;
            position: relative;
            display: flex;
        }
        .ratio-bar {
            height: 100%;
        }
        .controls {
            width: 90%;
            max-width: 600px;
            justify-content: space-between;
            align-items: center;
        }
        .clear-button {
            padding: 5px 10px;
            background-color: #f00;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        @media (max-height: 600px) {
            .color-swatch, .brush-size {
                margin: 2px;
            }
            .brush-size[data-size="32"], .brush-size[data-size="16"], .brush-size[data-size="8"] {
                font-size: 8px;
            }
            .clear-button {
                font-size: 12px;
                padding: 3px 8px;
            }
        }
    </style>
</head>
<body>

    <div class="palette">
        <div class="color-swatch" style="background-color: #F2F3F4;" data-color="Titanium White">
            <div class="color-label" style="color: black;">Titanium White</div>
        </div>
        <div class="color-swatch" style="background-color: #000000;" data-color="Ivory Black">
            <div class="color-label">Ivory Black</div>
        </div>
        <div class="color-swatch" style="background-color: #C60800;" data-color="Cadmium Red">
            <div class="color-label">Cadmium Red</div>
        </div>
        <div class="color-swatch" style="background-color: #F28500;" data-color="Cadmium Orange">
            <div class="color-label">Cadmium Orange</div>
        </div>
        <div class="color-swatch" style="background-color: #FFE135;" data-color="Cadmium Yellow">
            <div class="color-label" style="color: black;">Cadmium Yellow</div>
        </div>
        <div class="color-swatch" style="background-color: #FFD700;" data-color="Yellow Ochre">
            <div class="color-label" style="color: black;">Yellow Ochre</div>
        </div>
        <div class="color-swatch" style="background-color: #006400;" data-color="Sap Green">
            <div class="color-label">Sap Green</div>
        </div>
        <div class="color-swatch" style="background-color: #556B2F;" data-color="Olive Green">
            <div class="color-label">Olive Green</div>
        </div>
        <div class="color-swatch" style="background-color: #3C8D0D;" data-color="Viridian">
            <div class="color-label">Viridian</div>
        </div>
        <div class="color-swatch" style="background-color: #00A86B;" data-color="Phthalo Green">
            <div class="color-label">Phthalo Green</div>
        </div>
        <div class="color-swatch" style="background-color: #4682B4;" data-color="Cerulean Blue">
            <div class="color-label">Cerulean Blue</div>
        </div>
        <div class="color-swatch" style="background-color: #0E4C92;" data-color="Ultramarine Blue">
            <div class="color-label">Ultramarine Blue</div>
        </div>
        <div class="color-swatch" style="background-color: #191970;" data-color="Prussian Blue">
            <div class="color-label">Prussian Blue</div>
        </div>
        <div class="color-swatch" style="background-color: #8B008B;" data-color="Dioxazine Purple">
            <div class="color-label">Dioxazine Purple</div>
        </div>
        <div class="color-swatch" style="background-color: #C71585;" data-color="Quinacridone Magenta">
            <div class="color-label">Quinacridone Magenta</div>
        </div>
        <div class="color-swatch" style="background-color: #DB7093;" data-color="Alizarin Crimson">
            <div class="color-label">Alizarin Crimson</div>
        </div>
        <div class="color-swatch" style="background-color: #FFD1DC;" data-color="Rose Madder">
            <div class="color-label" style="color: black;">Rose Madder</div>
        </div>
        <div class="color-swatch" style="background-color: #FF4500;" data-color="Vermilion">
            <div class="color-label">Vermilion</div>
        </div>
        <div class="color-swatch" style="background-color: #FFD700;" data-color="Naples Yellow">
            <div class="color-label" style="color: black;">Naples Yellow</div>
        </div>
        <div class="color-swatch" style="background-color: #DAA520;" data-color="Raw Sienna">
            <div class="color-label" style="color: black;">Raw Sienna</div>
        </div>
        <div class="color-swatch" style="background-color: #8B4513;" data-color="Burnt Sienna">
            <div class="color-label">Burnt Sienna</div>
        </div>
        <div class="color-swatch" style="background-color: #4B3621;" data-color="Raw Umber">
            <div class="color-label">Raw Umber</div>
        </div>
        <div class="color-swatch" style="background-color: #3D2B1F;" data-color="Burnt Umber">
            <div class="color-label">Burnt Umber</div>
        </div>
        <div class="color-swatch" style="background-color: #8B4513;" data-color="Van Dyke Brown">
            <div class="color-label">Van Dyke Brown</div>
        </div>
    </div>

    <div class="brush-sizes">
        <div class="brush-size" data-size="1">1g</div>
        <div class="brush-size" data-size="2">2g</div>
        <div class="brush-size" data-size="4">4g</div>
        <div class="brush-size" data-size="8">8g</div>
        <div class="brush-size" data-size="16">16g</div>
        <div class="brush-size" data-size="32">32g</div>
    </div>

    <div class="mixing-area" id="mixing-area">
        <div class="cmy-value" id="cmy-value">CMY: 0, 0, 0</div>
    </div>

    <div class="ratio-indicator" id="ratio-indicator"></div>

    <div class="controls">
        <button class="clear-button" id="clear-button">Clear</button>
    </div>

    <script>
        let selectedColor = null;
        let selectedBrushSize = null;
        let mixRatio = {};

        document.querySelectorAll('.color-swatch').forEach(swatch => {
            swatch.addEventListener('click', function () {
                document.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('selected'));
                this.classList.add('selected');
                selectedColor = this.dataset.color;

                // Update brush colors and text contrast to match the selected swatch
                const contrastingColor = getContrastingColor(getColorRGB(selectedColor));
                document.querySelectorAll('.brush-size').forEach(brush => {
                    brush.style.backgroundColor = getColorRGBString(selectedColor);
                    brush.style.color = contrastingColor;
                });
            });
        });

        document.querySelectorAll('.brush-size').forEach(brush => {
            brush.addEventListener('click', function () {
                document.querySelectorAll('.brush-size').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedBrushSize = parseInt(this.dataset.size);
            });
        });

        document.getElementById('mixing-area').addEventListener('click', function () {
            if (selectedColor && selectedBrushSize) {
                if (!mixRatio[selectedColor]) {
                    mixRatio[selectedColor] = 0;
                }
                mixRatio[selectedColor] += selectedBrushSize;

                updateMixingArea();
                updateRatioIndicator();
            }
        });

        document.getElementById('clear-button').addEventListener('click', function () {
            mixRatio = {};
            updateMixingArea(true);
            updateRatioIndicator();
        });

        function updateMixingArea(clear = false) {
            const mixingArea = document.getElementById('mixing-area');
            const cmyValueElement = document.getElementById('cmy-value');
            if (clear) {
                mixingArea.style.backgroundColor = '#fff';
                cmyValueElement.textContent = 'CMY: 0, 0, 0';
                return;
            }
            const colors = Object.keys(mixRatio);
            const totalPaint = colors.reduce((sum, color) => sum + mixRatio[color], 0);

            let mixedColor = colors.reduce((mix, color) => {
                const ratio = mixRatio[color] / totalPaint;
                return blendColors(mix, getColorRGB(color), ratio);
            }, {r: 255, g: 255, b: 255});

            mixingArea.style.backgroundColor = `rgb(${mixedColor.r}, ${mixedColor.g}, ${mixedColor.b})`;

            // Update CMY values
            const cmy = rgbToCmy(mixedColor);
            cmyValueElement.textContent = `CMY: ${cmy.c.toFixed(2)}, ${cmy.m.toFixed(2)}, ${cmy.y.toFixed(2)}`;
            cmyValueElement.style.color = getContrastingColor(mixedColor);
        }

        function updateRatioIndicator() {
            const ratioIndicator = document.getElementById('ratio-indicator');
            ratioIndicator.innerHTML = '';
            const totalPaint = Object.values(mixRatio).reduce((sum, value) => sum + value, 0);
            Object.keys(mixRatio).forEach(color => {
                const width = (mixRatio[color] / totalPaint) * 100;
                const colorDiv = document.createElement('div');
                colorDiv.className = 'ratio-bar';
                colorDiv.style.width = `${width}%`;
                colorDiv.style.backgroundColor = getColorRGBString(color);
                ratioIndicator.appendChild(colorDiv);
            });
        }

        function blendColors(color1, color2, ratio) {
            return {
                r: Math.round(color1.r * (1 - ratio) + color2.r * ratio),
                g: Math.round(color1.g * (1 - ratio) + color2.g * ratio),
                b: Math.round(color1.b * (1 - ratio) + color2.b * ratio),
            };
        }

        function rgbToCmy({r, g, b}) {
            const c = 1 - r / 255;
            const m = 1 - g / 255;
            const y = 1 - b / 255;
            return {c, m, y};
        }

        function getColorRGB(colorName) {
            const colors = {
                'Titanium White': {r: 242, g: 243, b: 244},
                'Ivory Black': {r: 0, g: 0, b: 0},
                'Cadmium Red': {r: 198, g: 8, b: 0},
                'Cadmium Orange': {r: 242, g: 133, b: 0},
                'Cadmium Yellow': {r: 255, g: 225, b: 53},
                'Yellow Ochre': {r: 255, g: 215, b: 0},
                'Sap Green': {r: 0, g: 100, b: 0},
                'Olive Green': {r: 85, g: 107, b: 47},
                'Viridian': {r: 60, g: 141, b: 13},
                'Phthalo Green': {r: 0, g: 168, b: 107},
                'Cerulean Blue': {r: 70, g: 130, b: 180},
                'Ultramarine Blue': {r: 14, g: 76, b: 146},
                'Prussian Blue': {r: 25, g: 25, b: 112},
                'Dioxazine Purple': {r: 139, g: 0, b: 139},
                'Quinacridone Magenta': {r: 199, g: 21, b: 133},
                'Alizarin Crimson': {r: 219, g: 112, b: 147},
                'Rose Madder': {r: 255, g: 209, b: 220},
                'Vermilion': {r: 255, g: 69, b: 0},
                'Naples Yellow': {r: 255, g: 215, b: 0},
                'Raw Sienna': {r: 218, g: 165, b: 32},
                'Burnt Sienna': {r: 139, g: 69, b: 19},
                'Raw Umber': {r: 75, g: 54, b: 33},
                'Burnt Umber': {r: 61, g: 43, b: 31},
                'Van Dyke Brown': {r: 139, g: 69, b: 19},
            };
            return colors[colorName];
        }

        function getColorRGBString(colorName) {
            const color = getColorRGB(colorName);
            return `rgb(${color.r}, ${color.g}, ${color.b})`;
        }

        function getContrastingColor({r, g, b}) {
            const yiq = (r * 299 + g * 587 + b * 114) / 1000;
            return yiq >= 128 ? '#000' : '#fff';
        }
    </script>

</body>
</html>
