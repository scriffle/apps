<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { 
            margin: 0;
            padding: 20px;
            font-family: system-ui;
            background: #1a1a2e;
            color: #eee;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        
        h1 {
            color: #ffdd00;
            margin: 20px 0;
            text-align: center;
            font-size: 2em;
        }
        
        .container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            max-width: 1200px;
        }
        
        .sim-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        canvas { 
            background: #000033;
            border: 2px solid #444;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
        
        .controls {
            background: #16213e;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #444;
            width: 600px;
        }
        
        .control { 
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }
        
        input[type="range"] {
            flex: 1;
            height: 6px;
            background: #0f3460;
            border-radius: 5px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            background: #ffdd00;
            cursor: pointer;
            border-radius: 50%;
        }
        
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .info-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffdd00;
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(255,221,0,0.3);
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .info-btn:hover {
            background: #ffd700;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,221,0,0.5);
        }
        
        .info-panel {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 450px;
            height: 100vh;
            background: #16213e;
            border-left: 2px solid #444;
            padding: 30px;
            overflow-y: auto;
            z-index: 999;
            box-shadow: -5px 0 25px rgba(0,0,0,0.5);
            animation: slideIn 0.4s ease;
        }
        
        .info-panel.open {
            display: block;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }
        
        .lang-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #444;
            padding-bottom: 10px;
        }
        
        .lang-tab {
            background: none;
            border: none;
            color: #aaa;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }
        
        .lang-tab:hover {
            color: #ffdd00;
            background: rgba(255, 221, 0, 0.1);
        }
        
        .lang-tab.active {
            color: #ffdd00;
            background: rgba(255, 221, 0, 0.2);
        }
        
        .info-panel h2 {
            color: #ffdd00;
            margin-top: 0;
            margin-bottom: 20px;
        }
        
        .info-panel h3 {
            color: #44ff44;
            margin-top: 25px;
            margin-bottom: 10px;
        }
        
        .info-panel p {
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .info-panel ul {
            line-height: 1.8;
        }
        
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: #ffdd00;
            font-size: 28px;
            cursor: pointer;
            padding: 5px 10px;
            line-height: 1;
        }
        
        .close-btn:hover {
            color: #ffd700;
        }
        
        .highlight {
            background: rgba(255, 221, 0, 0.1);
            padding: 15px;
            border-left: 3px solid #ffdd00;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Aether Medium for Light</h1>
    
    <button class="info-btn" onclick="toggleInfo()">ℹ️ Explanation</button>
    
    <div class="container">
        <div class="sim-wrapper">
            <canvas id="canvas" width="600" height="400"></canvas>
            
            <div class="controls">
                <div class="control">
                    <label><input type="checkbox" id="aetherEnabled" checked> Aether Medium</label>
                </div>
                <div class="control">
                    <label>
                        Aether Speed: 
                        <input type="range" id="speedControl" min="0" max="100" value="50">
                    </label>
                </div>
                <div class="control">
                    <label>
                        Aether Direction: 
                        <input type="range" id="directionControl" min="0" max="360" value="0">
                        <span id="dirAngle">0°</span>
                    </label>
                </div>
                <div class="control">
                    <label>
                        Photon Emission: 
                        <input type="range" id="emissionControl" min="1" max="100" value="10">
                    </label>
                </div>
            </div>
        </div>
    </div>
    
    <div class="info-panel" id="infoPanel">
        <button class="close-btn" onclick="toggleInfo()">×</button>
        
        <div class="lang-tabs">
            <button class="lang-tab active" onclick="switchLanguage('en')">English</button>
            <button class="lang-tab" onclick="switchLanguage('zh')">简体中文</button>
        </div>
        
        <div id="content-en" class="content-lang">
            <h2>Understanding the Aether Hypothesis</h2>
            
            <h3>What This Simulation Shows</h3>
            <p>
                This simulation demonstrates what would happen if light traveled through a hypothetical "aether medium" — an invisible substance that 19th-century physicists believed filled all of space. In this model, light would behave like sound waves in air or water waves in the ocean, with its measured speed varying depending on the observer's motion through the aether.
            </p>
            
            <p>
                As Earth orbits the Sun, it would be moving through this aether at different angles throughout the year. The percentage displayed under Earth shows what the measured speed of light would be:
            </p>
            <ul>
                <li><strong>Maximum (~150%c):</strong> When Earth moves against the aether wind</li>
                <li><strong>Minimum (~50%c):</strong> When Earth moves with the aether wind</li>
                <li><strong>Baseline (100%c):</strong> When Earth moves perpendicular to the aether</li>
            </ul>
            
            <h3>The Michelson-Morley Experiment (1887)</h3>
            <p>
                Albert Michelson and Edward Morley designed an incredibly sensitive experiment to detect Earth's motion through the aether. They used an interferometer that split a light beam, sent the parts on perpendicular paths, and then recombined them. If Earth was moving through the aether, the light traveling "upstream" should take longer than light traveling "across stream," creating a detectable interference pattern.
            </p>
            
            <div class="highlight">
                <strong>The Shocking Result:</strong> They found absolutely nothing. No matter when they performed the experiment or which direction they pointed their apparatus, the speed of light remained constant. This "null result" was one of the most important negative results in the history of science.
            </div>
            
            <h3>Einstein's Revolutionary Insight</h3>
            <p>
                In 1905, Albert Einstein proposed a radical solution in his theory of Special Relativity. Rather than trying to explain away the null result, he made it a fundamental postulate:
            </p>
            
            <div class="highlight">
                <strong>Einstein's Second Postulate:</strong> The speed of light in vacuum is the same for all observers, regardless of their motion or the motion of the light source.
            </div>
            
            <p>
                This means there is no aether. Light doesn't need a medium to travel through. The speed of light (c ≈ 299,792,458 m/s) is an absolute constant of nature — it's always measured to be the same value, whether you're stationary, moving toward the light source, or moving away from it.
            </p>
            
            <h3>Why This Matters</h3>
            <p>
                The constancy of the speed of light has profound consequences:
            </p>
            <ul>
                <li>Time and space are relative, not absolute</li>
                <li>Time dilation and length contraction are real effects</li>
                <li>No object with mass can reach the speed of light</li>
                <li>Mass and energy are equivalent (E = mc²)</li>
            </ul>
            
            <p>
                The Michelson-Morley null result, combined with Einstein's postulate, overthrew centuries of intuition about space, time, and motion. It showed that our universe is far stranger and more beautiful than we imagined — and that sometimes the most important scientific discoveries come from what we <em>don't</em> find.
            </p>
        </div>
        
        <div id="content-zh" class="content-lang" style="display:none;">
            <h2>理解以太假说</h2>
            
            <h3>这个模拟展示了什么</h3>
            <p>
                这个模拟演示了如果光通过假设的"以太介质"传播会发生什么——这是19世纪物理学家认为充满整个空间的一种看不见的物质。在这个模型中，光会像空气中的声波或海洋中的水波一样传播，其测量速度会根据观察者在以太中的运动而变化。
            </p>
            
            <p>
                当地球绕太阳公转时，它会在一年中以不同的角度穿过这个以太。地球下方显示的百分比表示光速的测量值：
            </p>
            <ul>
                <li><strong>最大值（约150%c）：</strong>当地球逆着以太风运动时</li>
                <li><strong>最小值（约50%c）：</strong>当地球顺着以太风运动时</li>
                <li><strong>基准值（100%c）：</strong>当地球垂直于以太运动时</li>
            </ul>
            
            <h3>迈克尔逊-莫雷实验（1887年）</h3>
            <p>
                阿尔伯特·迈克尔逊和爱德华·莫雷设计了一个极其灵敏的实验来探测地球在以太中的运动。他们使用了一个干涉仪，将光束分开，让各部分沿垂直路径传播，然后重新组合。如果地球在以太中运动，"逆流"传播的光应该比"横流"传播的光花费更长时间，从而产生可检测的干涉图样。
            </p>
            
            <div class="highlight">
                <strong>令人震惊的结果：</strong>他们什么也没发现。无论何时进行实验或将仪器指向哪个方向，光速都保持恒定。这个"零结果"是科学史上最重要的负面结果之一。
            </div>
            
            <h3>爱因斯坦的革命性洞察</h3>
            <p>
                1905年，阿尔伯特·爱因斯坦在他的狭义相对论中提出了一个激进的解决方案。他没有试图解释这个零结果，而是将其作为一个基本公设：
            </p>
            
            <div class="highlight">
                <strong>爱因斯坦第二公设：</strong>真空中的光速对所有观察者都是相同的，无论他们的运动状态或光源的运动状态如何。
            </div>
            
            <p>
                这意味着不存在以太。光不需要介质来传播。光速（c ≈ 299,792,458 米/秒）是自然界的绝对常数——无论你是静止的、朝向光源运动还是远离光源运动，它总是被测量为相同的值。
            </p>
            
            <h3>为什么这很重要</h3>
            <p>
                光速恒定具有深远的影响：
            </p>
            <ul>
                <li>时间和空间是相对的，而非绝对的</li>
                <li>时间膨胀和长度收缩是真实效应</li>
                <li>任何有质量的物体都无法达到光速</li>
                <li>质量和能量是等价的（E = mc²）</li>
            </ul>
            
            <p>
                迈克尔逊-莫雷零结果，结合爱因斯坦的公设，推翻了几个世纪以来关于空间、时间和运动的直觉。它表明我们的宇宙比我们想象的更加奇异和美丽——有时最重要的科学发现来自我们<em>没有</em>找到的东西。
            </p>
        </div>
    </div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const speed = document.getElementById('speedControl');
const direction = document.getElementById('directionControl');
const emission = document.getElementById('emissionControl');
const aetherToggle = document.getElementById('aetherEnabled');
const dirAngle = document.getElementById('dirAngle');

let photons = [];
let aetherDots = [];
let currentLang = 'en';

const GRID_SPACING = 50;
for (let x = 0; x <= canvas.width; x += GRID_SPACING) {
    for (let y = 0; y <= canvas.height; y += GRID_SPACING) {
        aetherDots.push({ x, y });
    }
}

direction.addEventListener('input', () => {
    dirAngle.textContent = direction.value + '°';
});

function toggleInfo() {
    document.getElementById('infoPanel').classList.toggle('open');
}

function switchLanguage(lang) {
    currentLang = lang;
    
    // Hide all language content
    document.getElementById('content-en').style.display = 'none';
    document.getElementById('content-zh').style.display = 'none';
    
    // Show selected language
    document.getElementById('content-' + lang).style.display = 'block';
    
    // Update tab states
    document.querySelectorAll('.lang-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    event.target.classList.add('active');
}

function calculateLightSpeed(earthX, earthY) {
    if (!aetherToggle.checked) return 100;

    const radiusAngle = Math.atan2(earthY - canvas.height/2, earthX - canvas.width/2);
    const earthVelocityAngle = radiusAngle + Math.PI/2;
    
    const lightSpeed = 10;
    const aetherAngle = direction.value * Math.PI / 180;
    const aetherSpeed = speed.value / 50;

    const dotProduct = Math.cos(aetherAngle - earthVelocityAngle) * aetherSpeed;
    const relativeSpeed = lightSpeed - dotProduct;

    return Math.round(relativeSpeed * 10);
}

class Photon {
    constructor() {
        this.x = canvas.width/2;
        this.y = canvas.height/2;
        this.angle = Math.random() * Math.PI * 2;
        this.dx = Math.cos(this.angle) * 3;
        this.dy = Math.sin(this.angle) * 3;
    }

    update() {
        if (aetherToggle.checked) {
            const angleRad = direction.value * Math.PI / 180;
            const aetherEffect = speed.value / 50;
            this.x += this.dx + Math.cos(angleRad) * aetherEffect;
            this.y += this.dy + Math.sin(angleRad) * aetherEffect;
        } else {
            this.x += this.dx;
            this.y += this.dy;
        }
    }
}

function updateAetherDots() {
    if (aetherToggle.checked) {
        const angle = direction.value * Math.PI / 180;
        const spd = speed.value / 50;

        aetherDots.forEach(dot => {
            dot.x += Math.cos(angle) * spd;
            dot.y += Math.sin(angle) * spd;

            if (dot.x < 0) dot.x += canvas.width;
            if (dot.x > canvas.width) dot.x -= canvas.width;
            if (dot.y < 0) dot.y += canvas.height;
            if (dot.y > canvas.height) dot.y -= canvas.height;
        });
    }
}

function drawArrow() {
    const angle = direction.value * Math.PI / 180;
    const x = 50;
    const y = 50;
    const length = 30;

    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.lineTo(x + Math.cos(angle) * length, y + Math.sin(angle) * length);
    ctx.strokeStyle = '#44ff44';
    ctx.lineWidth = 2;
    ctx.stroke();

    const headLen = 10;
    const endX = x + Math.cos(angle) * length;
    const endY = y + Math.sin(angle) * length;
    ctx.beginPath();
    ctx.moveTo(endX, endY);
    ctx.lineTo(
        endX - headLen * Math.cos(angle - Math.PI/6),
        endY - headLen * Math.sin(angle - Math.PI/6)
    );
    ctx.lineTo(
        endX - headLen * Math.cos(angle + Math.PI/6),
        endY - headLen * Math.sin(angle + Math.PI/6)
    );
    ctx.fillStyle = '#44ff44';
    ctx.fill();
}

function drawSpeedText(x, y, speed) {
    ctx.font = 'bold 16px monospace';
    ctx.fillStyle = '#ffff00';
    ctx.textAlign = 'center';
    ctx.fillText(`${speed}%c`, x, y + 35);
}

function update() {
    ctx.fillStyle = '#000033';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    if (aetherToggle.checked) {
        updateAetherDots();
        aetherDots.forEach(dot => {
            ctx.beginPath();
            ctx.arc(dot.x, dot.y, 3, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(200, 200, 200, 0.7)';
            ctx.fill();
        });
    }

    if (Math.random() < emission.value/100) {
        photons.push(new Photon());
    }

    photons.forEach(p => p.update());

    photons = photons.filter(p =>
        p.x > 0 && p.x < canvas.width && p.y > 0 && p.y < canvas.height
    );

    photons.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fillStyle = '#ffff00';
        ctx.fill();
    });

    ctx.beginPath();
    ctx.arc(canvas.width/2, canvas.height/2, 30, 0, Math.PI * 2);
    ctx.fillStyle = '#ffdd00';
    ctx.fill();

    ctx.beginPath();
    ctx.arc(canvas.width/2, canvas.height/2, 150, 0, Math.PI * 2);
    ctx.strokeStyle = '#333366';
    ctx.stroke();

    const earthAngle = Date.now() / 1000;
    const earthX = canvas.width/2 + Math.cos(earthAngle) * 150;
    const earthY = canvas.height/2 + Math.sin(earthAngle) * 150;

    ctx.beginPath();
    ctx.arc(earthX, earthY, 15, 0, Math.PI * 2);
    ctx.fillStyle = '#3366ff';
    ctx.fill();

    const apparentSpeed = calculateLightSpeed(earthX, earthY);
    drawSpeedText(earthX, earthY, apparentSpeed);

    if (aetherToggle.checked) {
        drawArrow();
    }

    requestAnimationFrame(update);
}

update();
</script>
</body>
</html>